2025-11-09 15:30:54,489 - lightrag - ERROR - Error processing with RAG: 
AutoVideoProcessor requires the Torchvision library but it was not found in your environment. Check out the instructions on the
installation page: https://pytorch.org/get-started/locally/ and follow the ones that match your environment.
Please note that you may need to restart your runtime after installation.

2025-11-09 15:30:54,490 - lightrag - ERROR - Traceback (most recent call last):
  File "/home/huyen/RAG/examples/raganything_example.py", line 221, in process_with_rag
    initialize_qwen_model()
  File "/home/huyen/RAG/examples/raganything_example.py", line 95, in initialize_qwen_model
    QWEN_PROCESSOR = AutoProcessor.from_pretrained(model_name, trust_remote_code=True)
  File "/home/huyen/RAG/ragFTU/lib/python3.10/site-packages/transformers/models/auto/processing_auto.py", line 396, in from_pretrained
    return processor_class.from_pretrained(
  File "/home/huyen/RAG/ragFTU/lib/python3.10/site-packages/transformers/processing_utils.py", line 1394, in from_pretrained
    args = cls._get_arguments_from_pretrained(pretrained_model_name_or_path, **kwargs)
  File "/home/huyen/RAG/ragFTU/lib/python3.10/site-packages/transformers/processing_utils.py", line 1453, in _get_arguments_from_pretrained
    args.append(attribute_class.from_pretrained(pretrained_model_name_or_path, **kwargs))
  File "/home/huyen/RAG/ragFTU/lib/python3.10/site-packages/transformers/utils/import_utils.py", line 2157, in __getattribute__
    requires_backends(cls, cls._backends)
  File "/home/huyen/RAG/ragFTU/lib/python3.10/site-packages/transformers/utils/import_utils.py", line 2143, in requires_backends
    raise ImportError("".join(failed))
ImportError: 
AutoVideoProcessor requires the Torchvision library but it was not found in your environment. Check out the instructions on the
installation page: https://pytorch.org/get-started/locally/ and follow the ones that match your environment.
Please note that you may need to restart your runtime after installation.


2025-11-09 15:34:22,062 - lightrag - ERROR - Error processing with RAG: Using a `device_map`, `tp_plan`, `torch.device` context manager or setting `torch.set_default_device(device)` requires `accelerate`. You can install it with `pip install accelerate`
2025-11-09 15:34:22,063 - lightrag - ERROR - Traceback (most recent call last):
  File "/home/huyen/RAG/examples/raganything_example.py", line 221, in process_with_rag
    initialize_qwen_model()
  File "/home/huyen/RAG/examples/raganything_example.py", line 96, in initialize_qwen_model
    QWEN_MODEL = AutoModelForVision2Seq.from_pretrained(
  File "/home/huyen/RAG/ragFTU/lib/python3.10/site-packages/transformers/models/auto/modeling_auto.py", line 2289, in from_pretrained
    return super().from_pretrained(pretrained_model_name_or_path, *model_args, **kwargs)
  File "/home/huyen/RAG/ragFTU/lib/python3.10/site-packages/transformers/models/auto/auto_factory.py", line 604, in from_pretrained
    return model_class.from_pretrained(
  File "/home/huyen/RAG/ragFTU/lib/python3.10/site-packages/transformers/modeling_utils.py", line 277, in _wrapper
    return func(*args, **kwargs)
  File "/home/huyen/RAG/ragFTU/lib/python3.10/site-packages/transformers/modeling_utils.py", line 4806, in from_pretrained
    raise ValueError(
ValueError: Using a `device_map`, `tp_plan`, `torch.device` context manager or setting `torch.set_default_device(device)` requires `accelerate`. You can install it with `pip install accelerate`

2025-11-09 15:36:25,630 - lightrag - INFO - Created working directory: ./rag_storage
2025-11-09 15:36:25,630 - lightrag - INFO - RAGAnything initialized with config:
2025-11-09 15:36:25,630 - lightrag - INFO -   Working directory: ./rag_storage
2025-11-09 15:36:25,630 - lightrag - INFO -   Parser: mineru
2025-11-09 15:36:25,630 - lightrag - INFO -   Parse method: auto
2025-11-09 15:36:25,630 - lightrag - INFO -   Multimodal processing - Image: True, Table: True, Equation: True
2025-11-09 15:36:25,631 - lightrag - INFO -   Max concurrent files: 1
2025-11-09 15:36:25,631 - lightrag - INFO - Processing document: examples/test.txt
2025-11-09 15:36:25,632 - lightrag - ERROR - Parser 'mineru' is not properly installed. Please install it using 'pip install' or 'uv pip install'.
2025-11-09 15:36:25,632 - lightrag - INFO - Starting complete document processing: examples/test.txt
2025-11-09 15:36:25,632 - lightrag - INFO - Starting document parsing: examples/test.txt
2025-11-09 15:36:25,632 - lightrag - INFO - Using mineru parser with method: auto
2025-11-09 15:36:25,632 - lightrag - INFO - Using generic parser for .txt file (method=auto)...
2025-11-09 15:36:25,634 - lightrag - ERROR - Error during parsing with mineru parser: reportlab is required for text-to-PDF conversion. Please install it using: pip install reportlab
2025-11-09 15:36:25,634 - lightrag - ERROR - Error processing with RAG: reportlab is required for text-to-PDF conversion. Please install it using: pip install reportlab
2025-11-09 15:36:25,668 - lightrag - ERROR - Traceback (most recent call last):
  File "/home/huyen/RAG/raganything/parser.py", line 259, in convert_text_to_pdf
    from reportlab.lib.pagesizes import A4
ModuleNotFoundError: No module named 'reportlab'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/huyen/RAG/examples/raganything_example.py", line 291, in process_with_rag
    await rag.process_document_complete(
  File "/home/huyen/RAG/raganything/processor.py", line 1454, in process_document_complete
    content_list, content_based_doc_id = await self.parse_document(
  File "/home/huyen/RAG/raganything/processor.py", line 405, in parse_document
    raise e
  File "/home/huyen/RAG/raganything/processor.py", line 390, in parse_document
    content_list = await asyncio.to_thread(
  File "/opt/conda/lib/python3.10/asyncio/threads.py", line 25, in to_thread
    return await loop.run_in_executor(None, func_call)
  File "/opt/conda/lib/python3.10/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/home/huyen/RAG/raganything/parser.py", line 1180, in parse_document
    return self.parse_text_file(file_path, output_dir, lang, **kwargs)
  File "/home/huyen/RAG/raganything/parser.py", line 1128, in parse_text_file
    pdf_path = self.convert_text_to_pdf(text_path, output_dir)
  File "/home/huyen/RAG/raganything/parser.py", line 417, in convert_text_to_pdf
    raise RuntimeError(
RuntimeError: reportlab is required for text-to-PDF conversion. Please install it using: pip install reportlab

2025-11-09 15:41:42,802 - lightrag - INFO - RAGAnything initialized with config:
2025-11-09 15:41:42,802 - lightrag - INFO -   Working directory: ./rag_storage
2025-11-09 15:41:42,802 - lightrag - INFO -   Parser: mineru
2025-11-09 15:41:42,802 - lightrag - INFO -   Parse method: auto
2025-11-09 15:41:42,802 - lightrag - INFO -   Multimodal processing - Image: True, Table: True, Equation: True
2025-11-09 15:41:42,802 - lightrag - INFO -   Max concurrent files: 1
2025-11-09 15:41:42,802 - lightrag - INFO - Processing document: examples/test.txt
2025-11-09 15:41:42,803 - lightrag - ERROR - Parser 'mineru' is not properly installed. Please install it using 'pip install' or 'uv pip install'.
2025-11-09 15:41:42,804 - lightrag - INFO - Starting complete document processing: examples/test.txt
2025-11-09 15:41:42,804 - lightrag - INFO - Starting document parsing: examples/test.txt
2025-11-09 15:41:42,804 - lightrag - INFO - Using mineru parser with method: auto
2025-11-09 15:41:42,804 - lightrag - INFO - Using generic parser for .txt file (method=auto)...
2025-11-09 15:41:42,936 - lightrag - ERROR - Error during parsing with mineru parser: mineru command not found. Please ensure MinerU 2.0 is properly installed:
pip install -U 'mineru[core]' or uv pip install -U 'mineru[core]'
2025-11-09 15:41:42,937 - lightrag - ERROR - Error processing with RAG: mineru command not found. Please ensure MinerU 2.0 is properly installed:
pip install -U 'mineru[core]' or uv pip install -U 'mineru[core]'
2025-11-09 15:41:42,939 - lightrag - ERROR - Traceback (most recent call last):
  File "/home/huyen/RAG/raganything/parser.py", line 684, in _run_mineru_command
    process = subprocess.Popen(cmd, **subprocess_kwargs)
  File "/opt/conda/lib/python3.10/subprocess.py", line 971, in __init__
    self._execute_child(args, executable, preexec_fn, close_fds,
  File "/opt/conda/lib/python3.10/subprocess.py", line 1863, in _execute_child
    raise child_exception_type(errno_num, err_msg, err_filename)
FileNotFoundError: [Errno 2] No such file or directory: 'mineru'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/huyen/RAG/examples/raganything_example.py", line 291, in process_with_rag
    await rag.process_document_complete(
  File "/home/huyen/RAG/raganything/processor.py", line 1454, in process_document_complete
    content_list, content_based_doc_id = await self.parse_document(
  File "/home/huyen/RAG/raganything/processor.py", line 405, in parse_document
    raise e
  File "/home/huyen/RAG/raganything/processor.py", line 390, in parse_document
    content_list = await asyncio.to_thread(
  File "/opt/conda/lib/python3.10/asyncio/threads.py", line 25, in to_thread
    return await loop.run_in_executor(None, func_call)
  File "/opt/conda/lib/python3.10/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/home/huyen/RAG/raganything/parser.py", line 1180, in parse_document
    return self.parse_text_file(file_path, output_dir, lang, **kwargs)
  File "/home/huyen/RAG/raganything/parser.py", line 1131, in parse_text_file
    return self.parse_pdf(
  File "/home/huyen/RAG/raganything/parser.py", line 894, in parse_pdf
    self._run_mineru_command(
  File "/home/huyen/RAG/raganything/parser.py", line 780, in _run_mineru_command
    raise RuntimeError(
RuntimeError: mineru command not found. Please ensure MinerU 2.0 is properly installed:
pip install -U 'mineru[core]' or uv pip install -U 'mineru[core]'

2025-11-09 15:49:14,680 - lightrag - INFO - RAGAnything initialized with config:
2025-11-09 15:49:14,681 - lightrag - INFO -   Working directory: ./rag_storage
2025-11-09 15:49:14,681 - lightrag - INFO -   Parser: mineru
2025-11-09 15:49:14,681 - lightrag - INFO -   Parse method: auto
2025-11-09 15:49:14,681 - lightrag - INFO -   Multimodal processing - Image: True, Table: True, Equation: True
2025-11-09 15:49:14,681 - lightrag - INFO -   Max concurrent files: 1
2025-11-09 15:49:14,681 - lightrag - INFO - Processing document: examples/test.txt
2025-11-09 15:49:17,517 - lightrag - INFO - Parser 'mineru' installation verified
2025-11-09 15:49:17,517 - lightrag - INFO - Initializing LightRAG with parameters: {'working_dir': './rag_storage'}
2025-11-09 15:49:22,495 - lightrag - INFO - [_] Created new empty graph file: ./rag_storage/graph_chunk_entity_relation.graphml
2025-11-09 15:49:22,496 - lightrag - INFO - [_] Process 47317 KV load full_docs with 0 records
2025-11-09 15:49:22,496 - lightrag - INFO - [_] Process 47317 KV load text_chunks with 0 records
2025-11-09 15:49:22,496 - lightrag - INFO - [_] Process 47317 KV load full_entities with 0 records
2025-11-09 15:49:22,497 - lightrag - INFO - [_] Process 47317 KV load full_relations with 0 records
2025-11-09 15:49:22,497 - lightrag - INFO - [_] Process 47317 KV load entity_chunks with 0 records
2025-11-09 15:49:22,497 - lightrag - INFO - [_] Process 47317 KV load relation_chunks with 0 records
2025-11-09 15:49:22,497 - lightrag - INFO - [_] Process 47317 KV load llm_response_cache with 0 records
2025-11-09 15:49:22,498 - lightrag - INFO - [_] Process 47317 doc status load doc_status with 0 records
2025-11-09 15:49:22,498 - lightrag - INFO - [_] Process 47317 KV load parse_cache with 0 records
2025-11-09 15:49:22,499 - lightrag - INFO - Multimodal processors initialized with context support
2025-11-09 15:49:22,499 - lightrag - INFO - Available processors: ['image', 'table', 'equation', 'generic']
2025-11-09 15:49:22,499 - lightrag - INFO - Context configuration: ContextConfig(context_window=1, context_mode='page', max_context_tokens=2000, include_headers=True, include_captions=True, filter_content_types=['text'])
2025-11-09 15:49:22,499 - lightrag - INFO - LightRAG, parse cache, and multimodal processors initialized
2025-11-09 15:49:22,499 - lightrag - INFO - Starting complete document processing: examples/test.txt
2025-11-09 15:49:22,499 - lightrag - INFO - Starting document parsing: examples/test.txt
2025-11-09 15:49:22,500 - lightrag - INFO - Using mineru parser with method: auto
2025-11-09 15:49:22,500 - lightrag - INFO - Using generic parser for .txt file (method=auto)...
2025-11-09 15:50:03,563 - lightrag - INFO - Parsing examples/test.txt complete! Extracted 1 content blocks
2025-11-09 15:50:03,564 - lightrag - INFO - Stored parsing result in cache: 9a6a0a04ba771f72fa0d4782f901f082
2025-11-09 15:50:03,564 - lightrag - INFO - 
Content Information:
2025-11-09 15:50:03,564 - lightrag - INFO - * Total blocks in content_list: 1
2025-11-09 15:50:03,564 - lightrag - INFO - * Content block types:
2025-11-09 15:50:03,564 - lightrag - INFO -   - discarded: 1
2025-11-09 15:50:03,565 - lightrag - INFO - Content separation complete:
2025-11-09 15:50:03,565 - lightrag - INFO -   - Text content length: 0 characters
2025-11-09 15:50:03,565 - lightrag - INFO -   - Multimodal items count: 1
2025-11-09 15:50:03,565 - lightrag - INFO -   - Multimodal type distribution: {'discarded': 1}
2025-11-09 15:50:03,565 - lightrag - INFO - Setting content source for context-aware multimodal processing...
2025-11-09 15:50:03,565 - lightrag - INFO - Content source set with format: minerU
2025-11-09 15:50:03,565 - lightrag - INFO - Content source set with format: minerU
2025-11-09 15:50:03,565 - lightrag - INFO - Content source set with format: minerU
2025-11-09 15:50:03,565 - lightrag - INFO - Content source set with format: minerU
2025-11-09 15:50:03,566 - lightrag - INFO - Content source set for context extraction (format: minerU)
2025-11-09 15:50:03,566 - lightrag - INFO - Starting multimodal content processing...
2025-11-09 15:50:03,566 - lightrag - INFO - Starting to process 1 multimodal content items
2025-11-09 15:50:09,348 - lightrag - ERROR - Error generating discarded description: object str can't be used in 'await' expression
2025-11-09 15:50:09,348 - lightrag - INFO - Multimodal chunk generation progress: 1/1 (100.0%)
2025-11-09 15:50:09,348 - lightrag - INFO - Generated descriptions for 1/1 multimodal items using correct processors
2025-11-09 15:50:09,350 - lightrag - INFO - Embedding func: 8 new workers initialized (Timeouts: Func: 30s, Worker: 60s, Health Check: 75s)
2025-11-09 15:50:09,366 - lightrag - ERROR - Error in ollama_embed: Failed to connect to Ollama. Please check that Ollama is downloaded, running and accessible. https://ollama.com/download
2025-11-09 15:50:09,366 - lightrag - ERROR - Embedding func: Error in decorated function for task 139813572995712_4727.174826088: Failed to connect to Ollama. Please check that Ollama is downloaded, running and accessible. https://ollama.com/download
2025-11-09 15:50:09,366 - lightrag - ERROR - Error storing chunks to storage: Failed to connect to Ollama. Please check that Ollama is downloaded, running and accessible. https://ollama.com/download
2025-11-09 15:50:09,366 - lightrag - ERROR - Error in multimodal processing: Failed to connect to Ollama. Please check that Ollama is downloaded, running and accessible. https://ollama.com/download
2025-11-09 15:50:09,366 - lightrag - WARNING - Falling back to individual multimodal processing
2025-11-09 15:50:09,366 - lightrag - INFO - Processing item 1/1: discarded content
2025-11-09 15:50:14,604 - lightrag - ERROR - Error generating discarded description: object str can't be used in 'await' expression
2025-11-09 15:50:14,615 - lightrag - ERROR - Error in ollama_embed: Failed to connect to Ollama. Please check that Ollama is downloaded, running and accessible. https://ollama.com/download
2025-11-09 15:50:14,615 - lightrag - ERROR - Embedding func: Error in decorated function for task 139813572999456_4732.429526469: Failed to connect to Ollama. Please check that Ollama is downloaded, running and accessible. https://ollama.com/download
2025-11-09 15:50:14,616 - lightrag - ERROR - Error processing discarded content: Failed to connect to Ollama. Please check that Ollama is downloaded, running and accessible. https://ollama.com/download
2025-11-09 15:50:14,616 - lightrag - ERROR - Error processing multimodal content: not enough values to unpack (expected 3, got 2)
2025-11-09 15:50:14,616 - lightrag - INFO - Individual multimodal content processing complete
2025-11-09 15:50:14,616 - lightrag - INFO - Document examples/test.txt processing complete!
2025-11-09 15:50:14,616 - lightrag - INFO - 
Querying processed document:
2025-11-09 15:50:14,616 - lightrag - INFO - 
[Text Query]: What is the main content of the document?
2025-11-09 15:50:14,616 - lightrag - INFO - Executing VLM enhanced query: What is the main content of the document?...
2025-11-09 15:50:14,617 - lightrag - INFO - LLM func: 4 new workers initialized (Timeouts: Func: 180s, Worker: 360s, Health Check: 375s)
2025-11-09 15:50:14,618 - lightrag - ERROR - LLM func: Error in decorated function for task 139812044450224_4732.442354888: qwen_generate_text() got an unexpected keyword argument 'hashing_kv'
2025-11-09 15:50:14,618 - lightrag - ERROR - Query failed: qwen_generate_text() got an unexpected keyword argument 'hashing_kv'
2025-11-09 15:50:14,618 - lightrag - ERROR - Error processing with RAG: expected string or bytes-like object
2025-11-09 15:50:14,620 - lightrag - ERROR - Traceback (most recent call last):
  File "/home/huyen/RAG/examples/raganything_example.py", line 306, in process_with_rag
    result = await rag.aquery(query, mode="hybrid")
  File "/home/huyen/RAG/raganything/query.py", line 136, in aquery
    return await self.aquery_vlm_enhanced(query, mode=mode, **kwargs)
  File "/home/huyen/RAG/raganything/query.py", line 331, in aquery_vlm_enhanced
    enhanced_prompt, images_found = await self._process_image_paths_for_vlm(
  File "/home/huyen/RAG/raganything/query.py", line 542, in _process_image_paths_for_vlm
    matches = re.findall(image_path_pattern, prompt)
  File "/opt/conda/lib/python3.10/re.py", line 240, in findall
    return _compile(pattern, flags).findall(string)
TypeError: expected string or bytes-like object

2025-11-09 15:53:17,794 - lightrag - ERROR - Error processing with RAG: The checkpoint you are trying to load has model type `qwen3_vl` but Transformers does not recognize this architecture. This could be because of an issue with the checkpoint, or because your version of Transformers is out of date.
2025-11-09 15:53:17,795 - lightrag - ERROR - Traceback (most recent call last):
  File "/home/huyen/RAG/ragFTU/lib/python3.10/site-packages/transformers/models/auto/configuration_auto.py", line 1023, in from_pretrained
    config_class = CONFIG_MAPPING[config_dict["model_type"]]
  File "/home/huyen/RAG/ragFTU/lib/python3.10/site-packages/transformers/models/auto/configuration_auto.py", line 725, in __getitem__
    raise KeyError(key)
KeyError: 'qwen3_vl'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/huyen/RAG/examples/raganything_example.py", line 221, in process_with_rag
    initialize_qwen_model()
  File "/home/huyen/RAG/examples/raganything_example.py", line 96, in initialize_qwen_model
    QWEN_MODEL = AutoModelForVision2Seq.from_pretrained(
  File "/home/huyen/RAG/ragFTU/lib/python3.10/site-packages/transformers/models/auto/auto_factory.py", line 526, in from_pretrained
    config, kwargs = AutoConfig.from_pretrained(
  File "/home/huyen/RAG/ragFTU/lib/python3.10/site-packages/transformers/models/auto/configuration_auto.py", line 1025, in from_pretrained
    raise ValueError(
ValueError: The checkpoint you are trying to load has model type `qwen3_vl` but Transformers does not recognize this architecture. This could be because of an issue with the checkpoint, or because your version of Transformers is out of date.

2025-11-09 15:55:10,921 - lightrag - INFO - RAGAnything initialized with config:
2025-11-09 15:55:10,921 - lightrag - INFO -   Working directory: ./rag_storage
2025-11-09 15:55:10,922 - lightrag - INFO -   Parser: mineru
2025-11-09 15:55:10,922 - lightrag - INFO -   Parse method: auto
2025-11-09 15:55:10,922 - lightrag - INFO -   Multimodal processing - Image: True, Table: True, Equation: True
2025-11-09 15:55:10,922 - lightrag - INFO -   Max concurrent files: 1
2025-11-09 15:55:10,922 - lightrag - INFO - Processing document: examples/test.txt
2025-11-09 15:55:13,604 - lightrag - INFO - Parser 'mineru' installation verified
2025-11-09 15:55:13,605 - lightrag - INFO - Initializing LightRAG with parameters: {'working_dir': './rag_storage'}
2025-11-09 15:55:14,087 - lightrag - INFO - [_] Created new empty graph file: ./rag_storage/graph_chunk_entity_relation.graphml
2025-11-09 15:55:14,088 - lightrag - INFO - [_] Process 49013 KV load full_docs with 0 records
2025-11-09 15:55:14,088 - lightrag - INFO - [_] Process 49013 KV load text_chunks with 0 records
2025-11-09 15:55:14,088 - lightrag - INFO - [_] Process 49013 KV load full_entities with 0 records
2025-11-09 15:55:14,088 - lightrag - INFO - [_] Process 49013 KV load full_relations with 0 records
2025-11-09 15:55:14,089 - lightrag - INFO - [_] Process 49013 KV load entity_chunks with 0 records
2025-11-09 15:55:14,089 - lightrag - INFO - [_] Process 49013 KV load relation_chunks with 0 records
2025-11-09 15:55:14,089 - lightrag - INFO - [_] Process 49013 KV load llm_response_cache with 0 records
2025-11-09 15:55:14,089 - lightrag - INFO - [_] Process 49013 doc status load doc_status with 0 records
2025-11-09 15:55:14,091 - lightrag - INFO - [_] Process 49013 KV load parse_cache with 1 records
2025-11-09 15:55:14,092 - lightrag - INFO - Multimodal processors initialized with context support
2025-11-09 15:55:14,092 - lightrag - INFO - Available processors: ['image', 'table', 'equation', 'generic']
2025-11-09 15:55:14,092 - lightrag - INFO - Context configuration: ContextConfig(context_window=1, context_mode='page', max_context_tokens=2000, include_headers=True, include_captions=True, filter_content_types=['text'])
2025-11-09 15:55:14,092 - lightrag - INFO - LightRAG, parse cache, and multimodal processors initialized
2025-11-09 15:55:14,092 - lightrag - INFO - Starting complete document processing: examples/test.txt
2025-11-09 15:55:14,092 - lightrag - INFO - Starting document parsing: examples/test.txt
2025-11-09 15:55:14,092 - lightrag - INFO - Using cached parsing result for: examples/test.txt
2025-11-09 15:55:14,093 - lightrag - INFO - * Total blocks in cached content_list: 1
2025-11-09 15:55:14,093 - lightrag - INFO - Content separation complete:
2025-11-09 15:55:14,093 - lightrag - INFO -   - Text content length: 0 characters
2025-11-09 15:55:14,093 - lightrag - INFO -   - Multimodal items count: 1
2025-11-09 15:55:14,093 - lightrag - INFO -   - Multimodal type distribution: {'discarded': 1}
2025-11-09 15:55:14,093 - lightrag - INFO - Setting content source for context-aware multimodal processing...
2025-11-09 15:55:14,093 - lightrag - INFO - Content source set with format: minerU
2025-11-09 15:55:14,093 - lightrag - INFO - Content source set with format: minerU
2025-11-09 15:55:14,093 - lightrag - INFO - Content source set with format: minerU
2025-11-09 15:55:14,093 - lightrag - INFO - Content source set with format: minerU
2025-11-09 15:55:14,093 - lightrag - INFO - Content source set for context extraction (format: minerU)
2025-11-09 15:55:14,094 - lightrag - INFO - Starting multimodal content processing...
2025-11-09 15:55:14,094 - lightrag - INFO - Starting to process 1 multimodal content items
2025-11-09 15:55:19,831 - lightrag - ERROR - Error generating discarded description: object str can't be used in 'await' expression
2025-11-09 15:55:19,831 - lightrag - INFO - Multimodal chunk generation progress: 1/1 (100.0%)
2025-11-09 15:55:19,831 - lightrag - INFO - Generated descriptions for 1/1 multimodal items using correct processors
2025-11-09 15:55:19,832 - lightrag - INFO - Embedding func: 8 new workers initialized (Timeouts: Func: 30s, Worker: 60s, Health Check: 75s)
2025-11-09 15:55:19,848 - lightrag - ERROR - Error in ollama_embed: Failed to connect to Ollama. Please check that Ollama is downloaded, running and accessible. https://ollama.com/download
2025-11-09 15:55:19,848 - lightrag - ERROR - Embedding func: Error in decorated function for task 140046676763648_5037.657388834: Failed to connect to Ollama. Please check that Ollama is downloaded, running and accessible. https://ollama.com/download
2025-11-09 15:55:19,848 - lightrag - ERROR - Error storing chunks to storage: Failed to connect to Ollama. Please check that Ollama is downloaded, running and accessible. https://ollama.com/download
2025-11-09 15:55:19,848 - lightrag - ERROR - Error in multimodal processing: Failed to connect to Ollama. Please check that Ollama is downloaded, running and accessible. https://ollama.com/download
2025-11-09 15:55:19,849 - lightrag - WARNING - Falling back to individual multimodal processing
2025-11-09 15:55:19,849 - lightrag - INFO - Processing item 1/1: discarded content
2025-11-09 15:55:25,070 - lightrag - ERROR - Error generating discarded description: object str can't be used in 'await' expression
2025-11-09 15:55:25,081 - lightrag - ERROR - Error in ollama_embed: Failed to connect to Ollama. Please check that Ollama is downloaded, running and accessible. https://ollama.com/download
2025-11-09 15:55:25,081 - lightrag - ERROR - Embedding func: Error in decorated function for task 140046676767600_5042.895377881: Failed to connect to Ollama. Please check that Ollama is downloaded, running and accessible. https://ollama.com/download
2025-11-09 15:55:25,082 - lightrag - ERROR - Error processing discarded content: Failed to connect to Ollama. Please check that Ollama is downloaded, running and accessible. https://ollama.com/download
2025-11-09 15:55:25,082 - lightrag - ERROR - Error processing multimodal content: not enough values to unpack (expected 3, got 2)
2025-11-09 15:55:25,082 - lightrag - INFO - Individual multimodal content processing complete
2025-11-09 15:55:25,082 - lightrag - INFO - Document examples/test.txt processing complete!
2025-11-09 15:55:25,082 - lightrag - INFO - 
Querying processed document:
2025-11-09 15:55:25,082 - lightrag - INFO - 
[Text Query]: What is the main content of the document?
2025-11-09 15:55:25,082 - lightrag - INFO - Executing VLM enhanced query: What is the main content of the document?...
2025-11-09 15:55:25,084 - lightrag - INFO - LLM func: 4 new workers initialized (Timeouts: Func: 180s, Worker: 360s, Health Check: 375s)
2025-11-09 15:55:25,084 - lightrag - ERROR - LLM func: Error in decorated function for task 140044966406992_5042.9084726: qwen_generate_text() got an unexpected keyword argument 'hashing_kv'
2025-11-09 15:55:25,084 - lightrag - ERROR - Query failed: qwen_generate_text() got an unexpected keyword argument 'hashing_kv'
2025-11-09 15:55:25,085 - lightrag - ERROR - Error processing with RAG: expected string or bytes-like object
2025-11-09 15:55:25,085 - lightrag - ERROR - Traceback (most recent call last):
  File "/home/huyen/RAG/examples/raganything_example.py", line 306, in process_with_rag
    result = await rag.aquery(query, mode="hybrid")
  File "/home/huyen/RAG/raganything/query.py", line 136, in aquery
    return await self.aquery_vlm_enhanced(query, mode=mode, **kwargs)
  File "/home/huyen/RAG/raganything/query.py", line 331, in aquery_vlm_enhanced
    enhanced_prompt, images_found = await self._process_image_paths_for_vlm(
  File "/home/huyen/RAG/raganything/query.py", line 542, in _process_image_paths_for_vlm
    matches = re.findall(image_path_pattern, prompt)
  File "/opt/conda/lib/python3.10/re.py", line 240, in findall
    return _compile(pattern, flags).findall(string)
TypeError: expected string or bytes-like object

2025-11-09 15:59:20,895 - lightrag - INFO - RAGAnything initialized with config:
2025-11-09 15:59:20,895 - lightrag - INFO -   Working directory: ./rag_storage
2025-11-09 15:59:20,895 - lightrag - INFO -   Parser: mineru
2025-11-09 15:59:20,895 - lightrag - INFO -   Parse method: auto
2025-11-09 15:59:20,895 - lightrag - INFO -   Multimodal processing - Image: True, Table: True, Equation: True
2025-11-09 15:59:20,895 - lightrag - INFO -   Max concurrent files: 1
2025-11-09 15:59:20,895 - lightrag - INFO - Processing document: examples/test.txt
2025-11-09 15:59:23,715 - lightrag - INFO - Parser 'mineru' installation verified
2025-11-09 15:59:23,715 - lightrag - INFO - Initializing LightRAG with parameters: {'working_dir': './rag_storage'}
2025-11-09 15:59:24,204 - lightrag - INFO - [_] Created new empty graph file: ./rag_storage/graph_chunk_entity_relation.graphml
2025-11-09 15:59:24,204 - lightrag - INFO - [_] Process 50000 KV load full_docs with 0 records
2025-11-09 15:59:24,204 - lightrag - INFO - [_] Process 50000 KV load text_chunks with 0 records
2025-11-09 15:59:24,205 - lightrag - INFO - [_] Process 50000 KV load full_entities with 0 records
2025-11-09 15:59:24,205 - lightrag - INFO - [_] Process 50000 KV load full_relations with 0 records
2025-11-09 15:59:24,205 - lightrag - INFO - [_] Process 50000 KV load entity_chunks with 0 records
2025-11-09 15:59:24,205 - lightrag - INFO - [_] Process 50000 KV load relation_chunks with 0 records
2025-11-09 15:59:24,205 - lightrag - INFO - [_] Process 50000 KV load llm_response_cache with 0 records
2025-11-09 15:59:24,205 - lightrag - INFO - [_] Process 50000 doc status load doc_status with 0 records
2025-11-09 15:59:24,206 - lightrag - INFO - [_] Process 50000 KV load parse_cache with 1 records
2025-11-09 15:59:24,207 - lightrag - INFO - Multimodal processors initialized with context support
2025-11-09 15:59:24,207 - lightrag - INFO - Available processors: ['image', 'table', 'equation', 'generic']
2025-11-09 15:59:24,207 - lightrag - INFO - Context configuration: ContextConfig(context_window=1, context_mode='page', max_context_tokens=2000, include_headers=True, include_captions=True, filter_content_types=['text'])
2025-11-09 15:59:24,207 - lightrag - INFO - LightRAG, parse cache, and multimodal processors initialized
2025-11-09 15:59:24,207 - lightrag - INFO - Starting complete document processing: examples/test.txt
2025-11-09 15:59:24,208 - lightrag - INFO - Starting document parsing: examples/test.txt
2025-11-09 15:59:24,208 - lightrag - INFO - Using cached parsing result for: examples/test.txt
2025-11-09 15:59:24,208 - lightrag - INFO - * Total blocks in cached content_list: 1
2025-11-09 15:59:24,208 - lightrag - INFO - Content separation complete:
2025-11-09 15:59:24,208 - lightrag - INFO -   - Text content length: 0 characters
2025-11-09 15:59:24,208 - lightrag - INFO -   - Multimodal items count: 1
2025-11-09 15:59:24,208 - lightrag - INFO -   - Multimodal type distribution: {'discarded': 1}
2025-11-09 15:59:24,208 - lightrag - INFO - Setting content source for context-aware multimodal processing...
2025-11-09 15:59:24,208 - lightrag - INFO - Content source set with format: minerU
2025-11-09 15:59:24,208 - lightrag - INFO - Content source set with format: minerU
2025-11-09 15:59:24,208 - lightrag - INFO - Content source set with format: minerU
2025-11-09 15:59:24,208 - lightrag - INFO - Content source set with format: minerU
2025-11-09 15:59:24,208 - lightrag - INFO - Content source set for context extraction (format: minerU)
2025-11-09 15:59:24,209 - lightrag - INFO - Starting multimodal content processing...
2025-11-09 15:59:24,209 - lightrag - INFO - Starting to process 1 multimodal content items
2025-11-09 15:59:30,035 - lightrag - ERROR - Error generating discarded description: object str can't be used in 'await' expression
2025-11-09 15:59:30,035 - lightrag - INFO - Multimodal chunk generation progress: 1/1 (100.0%)
2025-11-09 15:59:30,035 - lightrag - INFO - Generated descriptions for 1/1 multimodal items using correct processors
2025-11-09 15:59:30,037 - lightrag - INFO - Embedding func: 8 new workers initialized (Timeouts: Func: 30s, Worker: 60s, Health Check: 75s)
2025-11-09 15:59:30,053 - lightrag - ERROR - Error in ollama_embed: Failed to connect to Ollama. Please check that Ollama is downloaded, running and accessible. https://ollama.com/download
2025-11-09 15:59:30,053 - lightrag - ERROR - Embedding func: Error in decorated function for task 140537280608752_5287.861406012: Failed to connect to Ollama. Please check that Ollama is downloaded, running and accessible. https://ollama.com/download
2025-11-09 15:59:30,053 - lightrag - ERROR - Error storing chunks to storage: Failed to connect to Ollama. Please check that Ollama is downloaded, running and accessible. https://ollama.com/download
2025-11-09 15:59:30,053 - lightrag - ERROR - Error in multimodal processing: Failed to connect to Ollama. Please check that Ollama is downloaded, running and accessible. https://ollama.com/download
2025-11-09 15:59:30,053 - lightrag - WARNING - Falling back to individual multimodal processing
2025-11-09 15:59:30,053 - lightrag - INFO - Processing item 1/1: discarded content
2025-11-09 15:59:35,294 - lightrag - ERROR - Error generating discarded description: object str can't be used in 'await' expression
2025-11-09 15:59:35,305 - lightrag - ERROR - Error in ollama_embed: Failed to connect to Ollama. Please check that Ollama is downloaded, running and accessible. https://ollama.com/download
2025-11-09 15:59:35,305 - lightrag - ERROR - Embedding func: Error in decorated function for task 140537275222528_5293.119414098: Failed to connect to Ollama. Please check that Ollama is downloaded, running and accessible. https://ollama.com/download
2025-11-09 15:59:35,306 - lightrag - ERROR - Error processing discarded content: Failed to connect to Ollama. Please check that Ollama is downloaded, running and accessible. https://ollama.com/download
2025-11-09 15:59:35,306 - lightrag - ERROR - Error processing multimodal content: not enough values to unpack (expected 3, got 2)
2025-11-09 15:59:35,306 - lightrag - INFO - Individual multimodal content processing complete
2025-11-09 15:59:35,306 - lightrag - INFO - Document examples/test.txt processing complete!
2025-11-09 15:59:35,306 - lightrag - INFO - 
Querying processed document:
2025-11-09 15:59:35,306 - lightrag - INFO - 
[Text Query]: What is the main content of the document?
2025-11-09 15:59:35,306 - lightrag - INFO - Executing VLM enhanced query: What is the main content of the document?...
2025-11-09 15:59:35,307 - lightrag - INFO - LLM func: 4 new workers initialized (Timeouts: Func: 180s, Worker: 360s, Health Check: 375s)
2025-11-09 15:59:35,308 - lightrag - ERROR - LLM func: Error in decorated function for task 140535554102416_5293.132287193: qwen_generate_text() got an unexpected keyword argument 'hashing_kv'
2025-11-09 15:59:35,308 - lightrag - ERROR - Query failed: qwen_generate_text() got an unexpected keyword argument 'hashing_kv'
2025-11-09 15:59:35,308 - lightrag - ERROR - Error processing with RAG: expected string or bytes-like object
2025-11-09 15:59:35,309 - lightrag - ERROR - Traceback (most recent call last):
  File "/home/huyen/RAG/examples/raganything_example.py", line 306, in process_with_rag
    result = await rag.aquery(query, mode="hybrid")
  File "/home/huyen/RAG/raganything/query.py", line 136, in aquery
    return await self.aquery_vlm_enhanced(query, mode=mode, **kwargs)
  File "/home/huyen/RAG/raganything/query.py", line 331, in aquery_vlm_enhanced
    enhanced_prompt, images_found = await self._process_image_paths_for_vlm(
  File "/home/huyen/RAG/raganything/query.py", line 542, in _process_image_paths_for_vlm
    matches = re.findall(image_path_pattern, prompt)
  File "/opt/conda/lib/python3.10/re.py", line 240, in findall
    return _compile(pattern, flags).findall(string)
TypeError: expected string or bytes-like object

2025-11-09 16:03:15,175 - lightrag - INFO - RAGAnything initialized with config:
2025-11-09 16:03:15,176 - lightrag - INFO -   Working directory: ./rag_storage
2025-11-09 16:03:15,176 - lightrag - INFO -   Parser: mineru
2025-11-09 16:03:15,176 - lightrag - INFO -   Parse method: auto
2025-11-09 16:03:15,176 - lightrag - INFO -   Multimodal processing - Image: True, Table: True, Equation: True
2025-11-09 16:03:15,176 - lightrag - INFO -   Max concurrent files: 1
2025-11-09 16:03:15,176 - lightrag - INFO - Processing document: examples/test.txt
2025-11-09 16:03:17,856 - lightrag - INFO - Parser 'mineru' installation verified
2025-11-09 16:03:17,856 - lightrag - INFO - Initializing LightRAG with parameters: {'working_dir': './rag_storage'}
2025-11-09 16:03:18,338 - lightrag - INFO - [_] Created new empty graph file: ./rag_storage/graph_chunk_entity_relation.graphml
2025-11-09 16:03:18,339 - lightrag - INFO - [_] Process 58050 KV load full_docs with 0 records
2025-11-09 16:03:18,339 - lightrag - INFO - [_] Process 58050 KV load text_chunks with 0 records
2025-11-09 16:03:18,339 - lightrag - INFO - [_] Process 58050 KV load full_entities with 0 records
2025-11-09 16:03:18,340 - lightrag - INFO - [_] Process 58050 KV load full_relations with 0 records
2025-11-09 16:03:18,340 - lightrag - INFO - [_] Process 58050 KV load entity_chunks with 0 records
2025-11-09 16:03:18,340 - lightrag - INFO - [_] Process 58050 KV load relation_chunks with 0 records
2025-11-09 16:03:18,340 - lightrag - INFO - [_] Process 58050 KV load llm_response_cache with 0 records
2025-11-09 16:03:18,340 - lightrag - INFO - [_] Process 58050 doc status load doc_status with 0 records
2025-11-09 16:03:18,341 - lightrag - INFO - [_] Process 58050 KV load parse_cache with 1 records
2025-11-09 16:03:18,342 - lightrag - INFO - Multimodal processors initialized with context support
2025-11-09 16:03:18,342 - lightrag - INFO - Available processors: ['image', 'table', 'equation', 'generic']
2025-11-09 16:03:18,342 - lightrag - INFO - Context configuration: ContextConfig(context_window=1, context_mode='page', max_context_tokens=2000, include_headers=True, include_captions=True, filter_content_types=['text'])
2025-11-09 16:03:18,342 - lightrag - INFO - LightRAG, parse cache, and multimodal processors initialized
2025-11-09 16:03:18,342 - lightrag - INFO - Starting complete document processing: examples/test.txt
2025-11-09 16:03:18,342 - lightrag - INFO - Starting document parsing: examples/test.txt
2025-11-09 16:03:18,343 - lightrag - INFO - Using cached parsing result for: examples/test.txt
2025-11-09 16:03:18,343 - lightrag - INFO - * Total blocks in cached content_list: 1
2025-11-09 16:03:18,343 - lightrag - INFO - Content separation complete:
2025-11-09 16:03:18,343 - lightrag - INFO -   - Text content length: 0 characters
2025-11-09 16:03:18,343 - lightrag - INFO -   - Multimodal items count: 1
2025-11-09 16:03:18,343 - lightrag - INFO -   - Multimodal type distribution: {'discarded': 1}
2025-11-09 16:03:18,343 - lightrag - INFO - Setting content source for context-aware multimodal processing...
2025-11-09 16:03:18,343 - lightrag - INFO - Content source set with format: minerU
2025-11-09 16:03:18,343 - lightrag - INFO - Content source set with format: minerU
2025-11-09 16:03:18,343 - lightrag - INFO - Content source set with format: minerU
2025-11-09 16:03:18,343 - lightrag - INFO - Content source set with format: minerU
2025-11-09 16:03:18,343 - lightrag - INFO - Content source set for context extraction (format: minerU)
2025-11-09 16:03:18,343 - lightrag - INFO - Starting multimodal content processing...
2025-11-09 16:03:18,343 - lightrag - INFO - Starting to process 1 multimodal content items
2025-11-09 16:03:24,129 - lightrag - ERROR - Error generating discarded description: object str can't be used in 'await' expression
2025-11-09 16:03:24,129 - lightrag - INFO - Multimodal chunk generation progress: 1/1 (100.0%)
2025-11-09 16:03:24,130 - lightrag - INFO - Generated descriptions for 1/1 multimodal items using correct processors
2025-11-09 16:03:24,131 - lightrag - INFO - Embedding func: 8 new workers initialized (Timeouts: Func: 30s, Worker: 60s, Health Check: 75s)
2025-11-09 16:03:24,148 - lightrag - ERROR - Error in ollama_embed: Failed to connect to Ollama. Please check that Ollama is downloaded, running and accessible. https://ollama.com/download
2025-11-09 16:03:24,148 - lightrag - ERROR - Embedding func: Error in decorated function for task 140632268503536_5521.956219026: Failed to connect to Ollama. Please check that Ollama is downloaded, running and accessible. https://ollama.com/download
2025-11-09 16:03:24,148 - lightrag - ERROR - Error storing chunks to storage: Failed to connect to Ollama. Please check that Ollama is downloaded, running and accessible. https://ollama.com/download
2025-11-09 16:03:24,148 - lightrag - ERROR - Error in multimodal processing: Failed to connect to Ollama. Please check that Ollama is downloaded, running and accessible. https://ollama.com/download
2025-11-09 16:03:24,148 - lightrag - WARNING - Falling back to individual multimodal processing
2025-11-09 16:03:24,148 - lightrag - INFO - Processing item 1/1: discarded content
2025-11-09 16:03:29,368 - lightrag - ERROR - Error generating discarded description: object str can't be used in 'await' expression
2025-11-09 16:03:29,379 - lightrag - ERROR - Error in ollama_embed: Failed to connect to Ollama. Please check that Ollama is downloaded, running and accessible. https://ollama.com/download
2025-11-09 16:03:29,379 - lightrag - ERROR - Embedding func: Error in decorated function for task 140630853192192_5527.193047968: Failed to connect to Ollama. Please check that Ollama is downloaded, running and accessible. https://ollama.com/download
2025-11-09 16:03:29,380 - lightrag - ERROR - Error processing discarded content: Failed to connect to Ollama. Please check that Ollama is downloaded, running and accessible. https://ollama.com/download
2025-11-09 16:03:29,380 - lightrag - ERROR - Error processing multimodal content: not enough values to unpack (expected 3, got 2)
2025-11-09 16:03:29,380 - lightrag - INFO - Individual multimodal content processing complete
2025-11-09 16:03:29,380 - lightrag - INFO - Document examples/test.txt processing complete!
2025-11-09 16:03:29,380 - lightrag - INFO - 
Querying processed document:
2025-11-09 16:03:29,380 - lightrag - INFO - 
[Text Query]: What is the main content of the document?
2025-11-09 16:03:29,380 - lightrag - INFO - Executing VLM enhanced query: What is the main content of the document?...
2025-11-09 16:03:29,381 - lightrag - INFO - LLM func: 4 new workers initialized (Timeouts: Func: 180s, Worker: 360s, Health Check: 375s)
2025-11-09 16:03:29,382 - lightrag - ERROR - LLM func: Error in decorated function for task 140630492533904_5527.206257334: qwen_generate_text() got an unexpected keyword argument 'keyword_extraction'
2025-11-09 16:03:29,382 - lightrag - ERROR - Query failed: qwen_generate_text() got an unexpected keyword argument 'keyword_extraction'
2025-11-09 16:03:29,382 - lightrag - ERROR - Error processing with RAG: expected string or bytes-like object
2025-11-09 16:03:29,383 - lightrag - ERROR - Traceback (most recent call last):
  File "/home/huyen/RAG/examples/raganything_example.py", line 230, in process_with_rag
    result = await rag.aquery(query, mode="hybrid")
  File "/home/huyen/RAG/raganything/query.py", line 136, in aquery
    return await self.aquery_vlm_enhanced(query, mode=mode, **kwargs)
  File "/home/huyen/RAG/raganything/query.py", line 331, in aquery_vlm_enhanced
    enhanced_prompt, images_found = await self._process_image_paths_for_vlm(
  File "/home/huyen/RAG/raganything/query.py", line 542, in _process_image_paths_for_vlm
    matches = re.findall(image_path_pattern, prompt)
  File "/opt/conda/lib/python3.10/re.py", line 240, in findall
    return _compile(pattern, flags).findall(string)
TypeError: expected string or bytes-like object

2025-11-12 04:03:38,007 - lightrag - INFO - RAGAnything initialized with config:
2025-11-12 04:03:38,007 - lightrag - INFO -   Working directory: ./rag_storage
2025-11-12 04:03:38,007 - lightrag - INFO -   Parser: mineru
2025-11-12 04:03:38,007 - lightrag - INFO -   Parse method: auto
2025-11-12 04:03:38,007 - lightrag - INFO -   Multimodal processing - Image: True, Table: True, Equation: True
2025-11-12 04:03:38,007 - lightrag - INFO -   Max concurrent files: 1
2025-11-12 04:03:38,007 - lightrag - INFO - Processing document: examples/test.txt
2025-11-12 04:03:40,739 - lightrag - INFO - Parser 'mineru' installation verified
2025-11-12 04:03:40,739 - lightrag - INFO - Initializing LightRAG with parameters: {'working_dir': './rag_storage'}
2025-11-12 04:03:41,861 - lightrag - INFO - [_] Created new empty graph file: ./rag_storage/graph_chunk_entity_relation.graphml
2025-11-12 04:03:41,862 - lightrag - INFO - [_] Process 1071212 KV load full_docs with 0 records
2025-11-12 04:03:41,862 - lightrag - INFO - [_] Process 1071212 KV load text_chunks with 0 records
2025-11-12 04:03:41,862 - lightrag - INFO - [_] Process 1071212 KV load full_entities with 0 records
2025-11-12 04:03:41,862 - lightrag - INFO - [_] Process 1071212 KV load full_relations with 0 records
2025-11-12 04:03:41,862 - lightrag - INFO - [_] Process 1071212 KV load entity_chunks with 0 records
2025-11-12 04:03:41,862 - lightrag - INFO - [_] Process 1071212 KV load relation_chunks with 0 records
2025-11-12 04:03:41,863 - lightrag - INFO - [_] Process 1071212 KV load llm_response_cache with 0 records
2025-11-12 04:03:41,863 - lightrag - INFO - [_] Process 1071212 doc status load doc_status with 0 records
2025-11-12 04:03:41,863 - lightrag - INFO - [_] Process 1071212 KV load parse_cache with 1 records
2025-11-12 04:03:41,864 - lightrag - INFO - Multimodal processors initialized with context support
2025-11-12 04:03:41,865 - lightrag - INFO - Available processors: ['image', 'table', 'equation', 'generic']
2025-11-12 04:03:41,865 - lightrag - INFO - Context configuration: ContextConfig(context_window=1, context_mode='page', max_context_tokens=2000, include_headers=True, include_captions=True, filter_content_types=['text'])
2025-11-12 04:03:41,865 - lightrag - INFO - LightRAG, parse cache, and multimodal processors initialized
2025-11-12 04:03:41,865 - lightrag - INFO - Starting complete document processing: examples/test.txt
2025-11-12 04:03:41,865 - lightrag - INFO - Starting document parsing: examples/test.txt
2025-11-12 04:03:41,865 - lightrag - INFO - Using mineru parser with method: auto
2025-11-12 04:03:41,865 - lightrag - INFO - Using generic parser for .txt file (method=auto)...
2025-11-12 04:04:03,696 - lightrag - INFO - Parsing examples/test.txt complete! Extracted 1 content blocks
2025-11-12 04:04:03,696 - lightrag - INFO - Stored parsing result in cache: d2cab3ab0657b09e7e86062f37bcffd6
2025-11-12 04:04:03,696 - lightrag - INFO - 
Content Information:
2025-11-12 04:04:03,697 - lightrag - INFO - * Total blocks in content_list: 1
2025-11-12 04:04:03,697 - lightrag - INFO - * Content block types:
2025-11-12 04:04:03,697 - lightrag - INFO -   - discarded: 1
2025-11-12 04:04:03,697 - lightrag - INFO - Content separation complete:
2025-11-12 04:04:03,697 - lightrag - INFO -   - Text content length: 0 characters
2025-11-12 04:04:03,697 - lightrag - INFO -   - Multimodal items count: 1
2025-11-12 04:04:03,697 - lightrag - INFO -   - Multimodal type distribution: {'discarded': 1}
2025-11-12 04:04:03,697 - lightrag - INFO - Setting content source for context-aware multimodal processing...
2025-11-12 04:04:03,697 - lightrag - INFO - Content source set with format: minerU
2025-11-12 04:04:03,697 - lightrag - INFO - Content source set with format: minerU
2025-11-12 04:04:03,697 - lightrag - INFO - Content source set with format: minerU
2025-11-12 04:04:03,697 - lightrag - INFO - Content source set with format: minerU
2025-11-12 04:04:03,697 - lightrag - INFO - Content source set for context extraction (format: minerU)
2025-11-12 04:04:03,697 - lightrag - INFO - Starting multimodal content processing...
2025-11-12 04:04:03,697 - lightrag - INFO - Starting to process 1 multimodal content items
2025-11-12 04:04:09,721 - lightrag - WARNING - Using regex fallback for JSON parsing
2025-11-12 04:04:09,722 - lightrag - ERROR - Error parsing discarded analysis response: Missing required fields in response
2025-11-12 04:04:09,723 - lightrag - INFO - Multimodal chunk generation progress: 1/1 (100.0%)
2025-11-12 04:04:09,723 - lightrag - INFO - Generated descriptions for 1/1 multimodal items using correct processors
2025-11-12 04:04:09,725 - lightrag - INFO - Embedding func: 8 new workers initialized (Timeouts: Func: 30s, Worker: 60s, Health Check: 75s)
2025-11-12 04:04:09,740 - lightrag - ERROR - Error in ollama_embed: Failed to connect to Ollama. Please check that Ollama is downloaded, running and accessible. https://ollama.com/download
2025-11-12 04:04:09,740 - lightrag - ERROR - Embedding func: Error in decorated function for task 140312029201904_169842.533949193: Failed to connect to Ollama. Please check that Ollama is downloaded, running and accessible. https://ollama.com/download
2025-11-12 04:04:09,741 - lightrag - ERROR - Error storing chunks to storage: Failed to connect to Ollama. Please check that Ollama is downloaded, running and accessible. https://ollama.com/download
2025-11-12 04:04:09,741 - lightrag - ERROR - Error in multimodal processing: Failed to connect to Ollama. Please check that Ollama is downloaded, running and accessible. https://ollama.com/download
2025-11-12 04:04:09,741 - lightrag - WARNING - Falling back to individual multimodal processing
2025-11-12 04:04:09,741 - lightrag - INFO - Processing item 1/1: discarded content
2025-11-12 04:04:15,201 - lightrag - WARNING - Using regex fallback for JSON parsing
2025-11-12 04:04:15,201 - lightrag - ERROR - Error parsing discarded analysis response: Missing required fields in response
2025-11-12 04:04:15,212 - lightrag - ERROR - Error in ollama_embed: Failed to connect to Ollama. Please check that Ollama is downloaded, running and accessible. https://ollama.com/download
2025-11-12 04:04:15,213 - lightrag - ERROR - Embedding func: Error in decorated function for task 140312029208352_169848.010778808: Failed to connect to Ollama. Please check that Ollama is downloaded, running and accessible. https://ollama.com/download
2025-11-12 04:04:15,213 - lightrag - ERROR - Error processing discarded content: Failed to connect to Ollama. Please check that Ollama is downloaded, running and accessible. https://ollama.com/download
2025-11-12 04:04:15,213 - lightrag - ERROR - Error processing multimodal content: not enough values to unpack (expected 3, got 2)
2025-11-12 04:04:15,213 - lightrag - INFO - Individual multimodal content processing complete
2025-11-12 04:04:15,213 - lightrag - INFO - Document examples/test.txt processing complete!
2025-11-12 04:04:15,213 - lightrag - INFO - 
Querying processed document:
2025-11-12 04:04:15,213 - lightrag - INFO - 
[Text Query]: What is the main content of the document?
2025-11-12 04:04:15,213 - lightrag - INFO - Answer: <coroutine object QueryMixin.aquery_vlm_enhanced at 0x7f9cdc46fed0>
2025-11-12 04:04:15,213 - lightrag - INFO - 
[Text Query]: What are the key topics discussed?
2025-11-12 04:04:15,214 - lightrag - INFO - Answer: <coroutine object QueryMixin.aquery_vlm_enhanced at 0x7f9e4e15aa40>
2025-11-12 04:07:47,836 - lightrag - INFO - RAGAnything initialized with config:
2025-11-12 04:07:47,836 - lightrag - INFO -   Working directory: ./rag_storage
2025-11-12 04:07:47,836 - lightrag - INFO -   Parser: mineru
2025-11-12 04:07:47,836 - lightrag - INFO -   Parse method: auto
2025-11-12 04:07:47,836 - lightrag - INFO -   Multimodal processing - Image: True, Table: True, Equation: True
2025-11-12 04:07:47,836 - lightrag - INFO -   Max concurrent files: 1
2025-11-12 04:07:47,836 - lightrag - INFO - Processing document: examples/test.txt
2025-11-12 04:07:50,556 - lightrag - INFO - Parser 'mineru' installation verified
2025-11-12 04:07:50,556 - lightrag - INFO - Initializing LightRAG with parameters: {'working_dir': './rag_storage'}
2025-11-12 04:07:51,641 - lightrag - INFO - [_] Created new empty graph file: ./rag_storage/graph_chunk_entity_relation.graphml
2025-11-12 04:07:51,642 - lightrag - INFO - [_] Process 1072248 KV load full_docs with 0 records
2025-11-12 04:07:51,642 - lightrag - INFO - [_] Process 1072248 KV load text_chunks with 0 records
2025-11-12 04:07:51,642 - lightrag - INFO - [_] Process 1072248 KV load full_entities with 0 records
2025-11-12 04:07:51,642 - lightrag - INFO - [_] Process 1072248 KV load full_relations with 0 records
2025-11-12 04:07:51,643 - lightrag - INFO - [_] Process 1072248 KV load entity_chunks with 0 records
2025-11-12 04:07:51,643 - lightrag - INFO - [_] Process 1072248 KV load relation_chunks with 0 records
2025-11-12 04:07:51,643 - lightrag - INFO - [_] Process 1072248 KV load llm_response_cache with 0 records
2025-11-12 04:07:51,643 - lightrag - INFO - [_] Process 1072248 doc status load doc_status with 0 records
2025-11-12 04:07:51,644 - lightrag - INFO - [_] Process 1072248 KV load parse_cache with 2 records
2025-11-12 04:07:51,645 - lightrag - INFO - Multimodal processors initialized with context support
2025-11-12 04:07:51,645 - lightrag - INFO - Available processors: ['image', 'table', 'equation', 'generic']
2025-11-12 04:07:51,645 - lightrag - INFO - Context configuration: ContextConfig(context_window=1, context_mode='page', max_context_tokens=2000, include_headers=True, include_captions=True, filter_content_types=['text'])
2025-11-12 04:07:51,645 - lightrag - INFO - LightRAG, parse cache, and multimodal processors initialized
2025-11-12 04:07:51,645 - lightrag - INFO - Starting complete document processing: examples/test.txt
2025-11-12 04:07:51,645 - lightrag - INFO - Starting document parsing: examples/test.txt
2025-11-12 04:07:51,645 - lightrag - INFO - Using cached parsing result for: examples/test.txt
2025-11-12 04:07:51,645 - lightrag - INFO - * Total blocks in cached content_list: 1
2025-11-12 04:07:51,646 - lightrag - INFO - Content separation complete:
2025-11-12 04:07:51,646 - lightrag - INFO -   - Text content length: 0 characters
2025-11-12 04:07:51,646 - lightrag - INFO -   - Multimodal items count: 1
2025-11-12 04:07:51,646 - lightrag - INFO -   - Multimodal type distribution: {'discarded': 1}
2025-11-12 04:07:51,646 - lightrag - INFO - Setting content source for context-aware multimodal processing...
2025-11-12 04:07:51,646 - lightrag - INFO - Content source set with format: minerU
2025-11-12 04:07:51,646 - lightrag - INFO - Content source set with format: minerU
2025-11-12 04:07:51,646 - lightrag - INFO - Content source set with format: minerU
2025-11-12 04:07:51,646 - lightrag - INFO - Content source set with format: minerU
2025-11-12 04:07:51,646 - lightrag - INFO - Content source set for context extraction (format: minerU)
2025-11-12 04:07:51,646 - lightrag - INFO - Starting multimodal content processing...
2025-11-12 04:07:51,646 - lightrag - INFO - Starting to process 1 multimodal content items
2025-11-12 04:07:57,572 - lightrag - WARNING - Using regex fallback for JSON parsing
2025-11-12 04:07:57,572 - lightrag - ERROR - Error parsing discarded analysis response: Missing required fields in response
2025-11-12 04:07:57,573 - lightrag - INFO - Multimodal chunk generation progress: 1/1 (100.0%)
2025-11-12 04:07:57,573 - lightrag - INFO - Generated descriptions for 1/1 multimodal items using correct processors
2025-11-12 04:07:57,574 - lightrag - INFO - Embedding func: 8 new workers initialized (Timeouts: Func: 30s, Worker: 60s, Health Check: 75s)
2025-11-12 04:07:57,591 - lightrag - ERROR - Error in ollama_embed: Failed to connect to Ollama. Please check that Ollama is downloaded, running and accessible. https://ollama.com/download
2025-11-12 04:07:57,591 - lightrag - ERROR - Embedding func: Error in decorated function for task 140269136492832_170070.38346719: Failed to connect to Ollama. Please check that Ollama is downloaded, running and accessible. https://ollama.com/download
2025-11-12 04:07:57,591 - lightrag - ERROR - Error storing chunks to storage: Failed to connect to Ollama. Please check that Ollama is downloaded, running and accessible. https://ollama.com/download
2025-11-12 04:07:57,591 - lightrag - ERROR - Error in multimodal processing: Failed to connect to Ollama. Please check that Ollama is downloaded, running and accessible. https://ollama.com/download
2025-11-12 04:07:57,591 - lightrag - WARNING - Falling back to individual multimodal processing
2025-11-12 04:07:57,591 - lightrag - INFO - Processing item 1/1: discarded content
2025-11-12 04:08:03,022 - lightrag - WARNING - Using regex fallback for JSON parsing
2025-11-12 04:08:03,022 - lightrag - ERROR - Error parsing discarded analysis response: Missing required fields in response
2025-11-12 04:08:03,033 - lightrag - ERROR - Error in ollama_embed: Failed to connect to Ollama. Please check that Ollama is downloaded, running and accessible. https://ollama.com/download
2025-11-12 04:08:03,034 - lightrag - ERROR - Embedding func: Error in decorated function for task 140269050320640_170075.831600673: Failed to connect to Ollama. Please check that Ollama is downloaded, running and accessible. https://ollama.com/download
2025-11-12 04:08:03,034 - lightrag - ERROR - Error processing discarded content: Failed to connect to Ollama. Please check that Ollama is downloaded, running and accessible. https://ollama.com/download
2025-11-12 04:08:03,034 - lightrag - ERROR - Error processing multimodal content: not enough values to unpack (expected 3, got 2)
2025-11-12 04:08:03,034 - lightrag - INFO - Individual multimodal content processing complete
2025-11-12 04:08:03,034 - lightrag - INFO - Document examples/test.txt processing complete!
2025-11-12 04:08:03,034 - lightrag - INFO - 
Querying processed document:
2025-11-12 04:08:03,034 - lightrag - INFO - 
[Text Query]: What is the main content of the document?
2025-11-12 04:08:03,036 - lightrag - INFO - Executing VLM enhanced query: What is the main content of the document?...
2025-11-12 04:08:03,036 - lightrag - ERROR - Error processing with RAG: cannot unpack non-iterable coroutine object
2025-11-12 04:08:03,036 - lightrag - ERROR - Traceback (most recent call last):
  File "/home/huyen/RAG/examples/raganything_example.py", line 148, in process_with_rag
    result = await result_coroutine  # thc s chy coroutine bn trong
  File "/home/huyen/RAG/raganything/query.py", line 331, in aquery_vlm_enhanced
    enhanced_prompt, images_found = self._process_image_paths_for_vlm(
TypeError: cannot unpack non-iterable coroutine object

2025-11-12 04:10:35,364 - lightrag - INFO - RAGAnything initialized with config:
2025-11-12 04:10:35,365 - lightrag - INFO -   Working directory: ./rag_storage
2025-11-12 04:10:35,365 - lightrag - INFO -   Parser: mineru
2025-11-12 04:10:35,365 - lightrag - INFO -   Parse method: auto
2025-11-12 04:10:35,365 - lightrag - INFO -   Multimodal processing - Image: True, Table: True, Equation: True
2025-11-12 04:10:35,365 - lightrag - INFO -   Max concurrent files: 1
2025-11-12 04:10:35,365 - lightrag - INFO - Processing document: examples/test.txt
2025-11-12 04:10:38,118 - lightrag - INFO - Parser 'mineru' installation verified
2025-11-12 04:10:38,118 - lightrag - INFO - Initializing LightRAG with parameters: {'working_dir': './rag_storage'}
2025-11-12 04:10:39,260 - lightrag - INFO - [_] Created new empty graph file: ./rag_storage/graph_chunk_entity_relation.graphml
2025-11-12 04:10:39,261 - lightrag - INFO - [_] Process 1073055 KV load full_docs with 0 records
2025-11-12 04:10:39,261 - lightrag - INFO - [_] Process 1073055 KV load text_chunks with 0 records
2025-11-12 04:10:39,261 - lightrag - INFO - [_] Process 1073055 KV load full_entities with 0 records
2025-11-12 04:10:39,261 - lightrag - INFO - [_] Process 1073055 KV load full_relations with 0 records
2025-11-12 04:10:39,261 - lightrag - INFO - [_] Process 1073055 KV load entity_chunks with 0 records
2025-11-12 04:10:39,262 - lightrag - INFO - [_] Process 1073055 KV load relation_chunks with 0 records
2025-11-12 04:10:39,262 - lightrag - INFO - [_] Process 1073055 KV load llm_response_cache with 0 records
2025-11-12 04:10:39,262 - lightrag - INFO - [_] Process 1073055 doc status load doc_status with 0 records
2025-11-12 04:10:39,263 - lightrag - INFO - [_] Process 1073055 KV load parse_cache with 2 records
2025-11-12 04:10:39,264 - lightrag - INFO - Multimodal processors initialized with context support
2025-11-12 04:10:39,264 - lightrag - INFO - Available processors: ['image', 'table', 'equation', 'generic']
2025-11-12 04:10:39,264 - lightrag - INFO - Context configuration: ContextConfig(context_window=1, context_mode='page', max_context_tokens=2000, include_headers=True, include_captions=True, filter_content_types=['text'])
2025-11-12 04:10:39,264 - lightrag - INFO - LightRAG, parse cache, and multimodal processors initialized
2025-11-12 04:10:39,264 - lightrag - INFO - Starting complete document processing: examples/test.txt
2025-11-12 04:10:39,264 - lightrag - INFO - Starting document parsing: examples/test.txt
2025-11-12 04:10:39,264 - lightrag - INFO - Using cached parsing result for: examples/test.txt
2025-11-12 04:10:39,264 - lightrag - INFO - * Total blocks in cached content_list: 1
2025-11-12 04:10:39,264 - lightrag - INFO - Content separation complete:
2025-11-12 04:10:39,264 - lightrag - INFO -   - Text content length: 0 characters
2025-11-12 04:10:39,264 - lightrag - INFO -   - Multimodal items count: 1
2025-11-12 04:10:39,265 - lightrag - INFO -   - Multimodal type distribution: {'discarded': 1}
2025-11-12 04:10:39,265 - lightrag - INFO - Setting content source for context-aware multimodal processing...
2025-11-12 04:10:39,265 - lightrag - INFO - Content source set with format: minerU
2025-11-12 04:10:39,265 - lightrag - INFO - Content source set with format: minerU
2025-11-12 04:10:39,265 - lightrag - INFO - Content source set with format: minerU
2025-11-12 04:10:39,265 - lightrag - INFO - Content source set with format: minerU
2025-11-12 04:10:39,265 - lightrag - INFO - Content source set for context extraction (format: minerU)
2025-11-12 04:10:39,265 - lightrag - INFO - Starting multimodal content processing...
2025-11-12 04:10:39,265 - lightrag - INFO - Starting to process 1 multimodal content items
2025-11-12 04:10:45,320 - lightrag - WARNING - Using regex fallback for JSON parsing
2025-11-12 04:10:45,321 - lightrag - ERROR - Error parsing discarded analysis response: Missing required fields in response
2025-11-12 04:10:45,321 - lightrag - INFO - Multimodal chunk generation progress: 1/1 (100.0%)
2025-11-12 04:10:45,321 - lightrag - INFO - Generated descriptions for 1/1 multimodal items using correct processors
2025-11-12 04:10:45,323 - lightrag - INFO - Embedding func: 8 new workers initialized (Timeouts: Func: 30s, Worker: 60s, Health Check: 75s)
2025-11-12 04:10:45,338 - lightrag - ERROR - Error in ollama_embed: Failed to connect to Ollama. Please check that Ollama is downloaded, running and accessible. https://ollama.com/download
2025-11-12 04:10:45,339 - lightrag - ERROR - Embedding func: Error in decorated function for task 140420178688288_170238.131952192: Failed to connect to Ollama. Please check that Ollama is downloaded, running and accessible. https://ollama.com/download
2025-11-12 04:10:45,339 - lightrag - ERROR - Error storing chunks to storage: Failed to connect to Ollama. Please check that Ollama is downloaded, running and accessible. https://ollama.com/download
2025-11-12 04:10:45,339 - lightrag - ERROR - Error in multimodal processing: Failed to connect to Ollama. Please check that Ollama is downloaded, running and accessible. https://ollama.com/download
2025-11-12 04:10:45,339 - lightrag - WARNING - Falling back to individual multimodal processing
2025-11-12 04:10:45,339 - lightrag - INFO - Processing item 1/1: discarded content
2025-11-12 04:10:50,866 - lightrag - WARNING - Using regex fallback for JSON parsing
2025-11-12 04:10:50,866 - lightrag - ERROR - Error parsing discarded analysis response: Missing required fields in response
2025-11-12 04:10:50,877 - lightrag - ERROR - Error in ollama_embed: Failed to connect to Ollama. Please check that Ollama is downloaded, running and accessible. https://ollama.com/download
2025-11-12 04:10:50,877 - lightrag - ERROR - Embedding func: Error in decorated function for task 140420177385216_170243.675576275: Failed to connect to Ollama. Please check that Ollama is downloaded, running and accessible. https://ollama.com/download
2025-11-12 04:10:50,878 - lightrag - ERROR - Error processing discarded content: Failed to connect to Ollama. Please check that Ollama is downloaded, running and accessible. https://ollama.com/download
2025-11-12 04:10:50,878 - lightrag - ERROR - Error processing multimodal content: not enough values to unpack (expected 3, got 2)
2025-11-12 04:10:50,878 - lightrag - INFO - Individual multimodal content processing complete
2025-11-12 04:10:50,878 - lightrag - INFO - Document examples/test.txt processing complete!
2025-11-12 04:10:50,878 - lightrag - INFO - 
Querying processed document:
2025-11-12 04:10:50,878 - lightrag - INFO - 
[Text Query]: What is the main content of the document?
2025-11-12 04:10:50,878 - lightrag - INFO - Executing VLM enhanced query: What is the main content of the document?...
2025-11-12 04:10:50,879 - lightrag - INFO - LLM func: 4 new workers initialized (Timeouts: Func: 180s, Worker: 360s, Health Check: 375s)
2025-11-12 04:10:52,644 - lightrag - INFO -  == LLM cache == saving: hybrid:keywords:a6c2c406429d332704358613d7a7c2e4
2025-11-12 04:10:52,645 - lightrag - WARNING - low_level_keywords is empty
2025-11-12 04:10:52,656 - lightrag - ERROR - Error in ollama_embed: Failed to connect to Ollama. Please check that Ollama is downloaded, running and accessible. https://ollama.com/download
2025-11-12 04:10:52,656 - lightrag - WARNING - Failed to pre-compute query embedding: Failed to connect to Ollama. Please check that Ollama is downloaded, running and accessible. https://ollama.com/download
2025-11-12 04:10:52,657 - lightrag - INFO - Query edges: Main content, Document summary (top_k:40, cosine:0.2)
2025-11-12 04:10:52,666 - lightrag - ERROR - Error in ollama_embed: Failed to connect to Ollama. Please check that Ollama is downloaded, running and accessible. https://ollama.com/download
2025-11-12 04:10:52,666 - lightrag - ERROR - Embedding func: Error in decorated function for task 140414043150080_170245.466159616: Failed to connect to Ollama. Please check that Ollama is downloaded, running and accessible. https://ollama.com/download
2025-11-12 04:10:52,666 - lightrag - ERROR - Query failed: Failed to connect to Ollama. Please check that Ollama is downloaded, running and accessible. https://ollama.com/download
2025-11-12 04:10:52,667 - lightrag - ERROR - Error processing with RAG: expected string or bytes-like object
2025-11-12 04:10:52,669 - lightrag - ERROR - Traceback (most recent call last):
  File "/home/huyen/RAG/examples/raganything_example.py", line 147, in process_with_rag
    result_coroutine = await rag.aquery(query, mode="hybrid")
  File "/home/huyen/RAG/raganything/query.py", line 136, in aquery
    return await self.aquery_vlm_enhanced(query, mode=mode, **kwargs)
  File "/home/huyen/RAG/raganything/query.py", line 331, in aquery_vlm_enhanced
    enhanced_prompt, images_found = await self._process_image_paths_for_vlm(
  File "/home/huyen/RAG/raganything/query.py", line 542, in _process_image_paths_for_vlm
    matches = re.findall(image_path_pattern, prompt)
  File "/opt/conda/lib/python3.10/re.py", line 240, in findall
    return _compile(pattern, flags).findall(string)
TypeError: expected string or bytes-like object

2025-11-12 04:18:03,050 - lightrag - INFO - Initializing Qwen model...
2025-11-12 04:18:15,507 - lightrag - INFO - RAGAnything initialized with config:
2025-11-12 04:18:15,508 - lightrag - INFO -   Working directory: ./rag_storage
2025-11-12 04:18:15,508 - lightrag - INFO -   Parser: mineru
2025-11-12 04:18:15,508 - lightrag - INFO -   Parse method: auto
2025-11-12 04:18:15,508 - lightrag - INFO -   Multimodal processing - Image: False, Table: True, Equation: False
2025-11-12 04:18:15,508 - lightrag - INFO -   Max concurrent files: 1
2025-11-12 04:18:15,508 - lightrag - INFO - Processing document: examples/test.txt
2025-11-12 04:18:18,276 - lightrag - INFO - Parser 'mineru' installation verified
2025-11-12 04:18:18,276 - lightrag - INFO - Initializing LightRAG with parameters: {'working_dir': './rag_storage'}
2025-11-12 04:18:19,590 - lightrag - INFO - [_] Created new empty graph file: ./rag_storage/graph_chunk_entity_relation.graphml
2025-11-12 04:18:19,591 - lightrag - INFO - [_] Process 1074270 KV load full_docs with 0 records
2025-11-12 04:18:19,591 - lightrag - INFO - [_] Process 1074270 KV load text_chunks with 0 records
2025-11-12 04:18:19,592 - lightrag - INFO - [_] Process 1074270 KV load full_entities with 0 records
2025-11-12 04:18:19,592 - lightrag - INFO - [_] Process 1074270 KV load full_relations with 0 records
2025-11-12 04:18:19,592 - lightrag - INFO - [_] Process 1074270 KV load entity_chunks with 0 records
2025-11-12 04:18:19,592 - lightrag - INFO - [_] Process 1074270 KV load relation_chunks with 0 records
2025-11-12 04:18:19,592 - lightrag - INFO - [_] Process 1074270 KV load llm_response_cache with 0 records
2025-11-12 04:18:19,592 - lightrag - INFO - [_] Process 1074270 doc status load doc_status with 0 records
2025-11-12 04:18:19,593 - lightrag - INFO - [_] Process 1074270 KV load parse_cache with 2 records
2025-11-12 04:18:19,594 - lightrag - INFO - Multimodal processors initialized with context support
2025-11-12 04:18:19,594 - lightrag - INFO - Available processors: ['table', 'generic']
2025-11-12 04:18:19,594 - lightrag - INFO - Context configuration: ContextConfig(context_window=1, context_mode='page', max_context_tokens=2000, include_headers=True, include_captions=True, filter_content_types=['text'])
2025-11-12 04:18:19,594 - lightrag - INFO - LightRAG, parse cache, and multimodal processors initialized
2025-11-12 04:18:19,594 - lightrag - INFO - Starting complete document processing: examples/test.txt
2025-11-12 04:18:19,594 - lightrag - INFO - Starting document parsing: examples/test.txt
2025-11-12 04:18:19,594 - lightrag - INFO - Using cached parsing result for: examples/test.txt
2025-11-12 04:18:19,594 - lightrag - INFO - * Total blocks in cached content_list: 1
2025-11-12 04:18:19,594 - lightrag - INFO - Content separation complete:
2025-11-12 04:18:19,594 - lightrag - INFO -   - Text content length: 0 characters
2025-11-12 04:18:19,594 - lightrag - INFO -   - Multimodal items count: 1
2025-11-12 04:18:19,595 - lightrag - INFO -   - Multimodal type distribution: {'discarded': 1}
2025-11-12 04:18:19,595 - lightrag - INFO - Setting content source for context-aware multimodal processing...
2025-11-12 04:18:19,595 - lightrag - INFO - Content source set with format: minerU
2025-11-12 04:18:19,595 - lightrag - INFO - Content source set with format: minerU
2025-11-12 04:18:19,595 - lightrag - INFO - Content source set for context extraction (format: minerU)
2025-11-12 04:18:19,595 - lightrag - INFO - Starting multimodal content processing...
2025-11-12 04:18:19,595 - lightrag - INFO - Starting to process 1 multimodal content items
2025-11-12 04:18:25,482 - lightrag - WARNING - Using regex fallback for JSON parsing
2025-11-12 04:18:25,483 - lightrag - ERROR - Error parsing discarded analysis response: Missing required fields in response
2025-11-12 04:18:25,483 - lightrag - INFO - Multimodal chunk generation progress: 1/1 (100.0%)
2025-11-12 04:18:25,483 - lightrag - INFO - Generated descriptions for 1/1 multimodal items using correct processors
2025-11-12 04:18:25,485 - lightrag - INFO - Embedding func: 8 new workers initialized (Timeouts: Func: 30s, Worker: 60s, Health Check: 75s)
2025-11-12 04:18:25,574 - lightrag - ERROR - Embedding func: Error in decorated function for task 139880839977536_170698.293938809: object list can't be used in 'await' expression
2025-11-12 04:18:25,574 - lightrag - ERROR - Error storing chunks to storage: object list can't be used in 'await' expression
2025-11-12 04:18:25,574 - lightrag - ERROR - Error in multimodal processing: object list can't be used in 'await' expression
2025-11-12 04:18:25,574 - lightrag - WARNING - Falling back to individual multimodal processing
2025-11-12 04:18:25,575 - lightrag - INFO - Processing item 1/1: discarded content
2025-11-12 04:18:30,913 - lightrag - WARNING - Using regex fallback for JSON parsing
2025-11-12 04:18:30,913 - lightrag - ERROR - Error parsing discarded analysis response: Missing required fields in response
2025-11-12 04:18:30,922 - lightrag - ERROR - Embedding func: Error in decorated function for task 139880839982320_170703.722575531: object list can't be used in 'await' expression
2025-11-12 04:18:30,922 - lightrag - ERROR - Error processing discarded content: object list can't be used in 'await' expression
2025-11-12 04:18:30,922 - lightrag - ERROR - Error processing multimodal content: not enough values to unpack (expected 3, got 2)
2025-11-12 04:18:30,923 - lightrag - INFO - Individual multimodal content processing complete
2025-11-12 04:18:30,923 - lightrag - INFO - Document examples/test.txt processing complete!
2025-11-12 04:18:30,923 - lightrag - INFO -  Document processing completed!
2025-11-12 04:18:30,923 - lightrag - INFO - 
Querying processed document:
2025-11-12 04:18:30,923 - lightrag - INFO - 
[Query]: What is the main content of the document?
2025-11-12 04:18:30,923 - lightrag - INFO - Executing VLM enhanced query: What is the main content of the document?...
2025-11-12 04:18:30,924 - lightrag - INFO - LLM func: 4 new workers initialized (Timeouts: Func: 180s, Worker: 360s, Health Check: 375s)
2025-11-12 04:18:32,617 - lightrag - INFO -  == LLM cache == saving: hybrid:keywords:a6c2c406429d332704358613d7a7c2e4
2025-11-12 04:18:32,617 - lightrag - WARNING - low_level_keywords is empty
2025-11-12 04:18:32,629 - lightrag - WARNING - Failed to pre-compute query embedding: object list can't be used in 'await' expression
2025-11-12 04:18:32,629 - lightrag - INFO - Query edges: Main content, Document summary (top_k:40, cosine:0.2)
2025-11-12 04:18:32,636 - lightrag - ERROR - Embedding func: Error in decorated function for task 139874700046592_170705.438050424: object list can't be used in 'await' expression
2025-11-12 04:18:32,637 - lightrag - ERROR - Query failed: object list can't be used in 'await' expression
2025-11-12 04:18:32,637 - lightrag - ERROR - Error processing with RAG: expected string or bytes-like object
2025-11-12 04:18:32,638 - lightrag - ERROR - Traceback (most recent call last):
  File "/home/huyen/RAG/examples/raganything_example.py", line 137, in process_with_rag
    result = await rag.aquery(query, mode="hybrid")
  File "/home/huyen/RAG/raganything/query.py", line 136, in aquery
    return await self.aquery_vlm_enhanced(query, mode=mode, **kwargs)
  File "/home/huyen/RAG/raganything/query.py", line 331, in aquery_vlm_enhanced
    enhanced_prompt, images_found = await self._process_image_paths_for_vlm(
  File "/home/huyen/RAG/raganything/query.py", line 542, in _process_image_paths_for_vlm
    matches = re.findall(image_path_pattern, prompt)
  File "/opt/conda/lib/python3.10/re.py", line 240, in findall
    return _compile(pattern, flags).findall(string)
TypeError: expected string or bytes-like object

2025-11-12 04:22:06,076 - lightrag - INFO - Initializing Qwen model...
2025-11-12 04:22:18,045 - lightrag - INFO - RAGAnything initialized with config:
2025-11-12 04:22:18,045 - lightrag - INFO -   Working directory: ./rag_storage
2025-11-12 04:22:18,046 - lightrag - INFO -   Parser: mineru
2025-11-12 04:22:18,046 - lightrag - INFO -   Parse method: auto
2025-11-12 04:22:18,046 - lightrag - INFO -   Multimodal processing - Image: False, Table: True, Equation: False
2025-11-12 04:22:18,046 - lightrag - INFO -   Max concurrent files: 1
2025-11-12 04:22:18,046 - lightrag - INFO - Processing document: examples/test.txt
2025-11-12 04:22:20,817 - lightrag - INFO - Parser 'mineru' installation verified
2025-11-12 04:22:20,818 - lightrag - INFO - Initializing LightRAG with parameters: {'working_dir': './rag_storage'}
2025-11-12 04:22:22,178 - lightrag - INFO - [_] Created new empty graph file: ./rag_storage/graph_chunk_entity_relation.graphml
2025-11-12 04:22:22,179 - lightrag - INFO - [_] Process 1075187 KV load full_docs with 0 records
2025-11-12 04:22:22,179 - lightrag - INFO - [_] Process 1075187 KV load text_chunks with 0 records
2025-11-12 04:22:22,179 - lightrag - INFO - [_] Process 1075187 KV load full_entities with 0 records
2025-11-12 04:22:22,180 - lightrag - INFO - [_] Process 1075187 KV load full_relations with 0 records
2025-11-12 04:22:22,180 - lightrag - INFO - [_] Process 1075187 KV load entity_chunks with 0 records
2025-11-12 04:22:22,180 - lightrag - INFO - [_] Process 1075187 KV load relation_chunks with 0 records
2025-11-12 04:22:22,180 - lightrag - INFO - [_] Process 1075187 KV load llm_response_cache with 0 records
2025-11-12 04:22:22,180 - lightrag - INFO - [_] Process 1075187 doc status load doc_status with 0 records
2025-11-12 04:22:22,181 - lightrag - INFO - [_] Process 1075187 KV load parse_cache with 2 records
2025-11-12 04:22:22,182 - lightrag - INFO - Multimodal processors initialized with context support
2025-11-12 04:22:22,182 - lightrag - INFO - Available processors: ['table', 'generic']
2025-11-12 04:22:22,182 - lightrag - INFO - Context configuration: ContextConfig(context_window=1, context_mode='page', max_context_tokens=2000, include_headers=True, include_captions=True, filter_content_types=['text'])
2025-11-12 04:22:22,182 - lightrag - INFO - LightRAG, parse cache, and multimodal processors initialized
2025-11-12 04:22:22,182 - lightrag - INFO - Starting complete document processing: examples/test.txt
2025-11-12 04:22:22,182 - lightrag - INFO - Starting document parsing: examples/test.txt
2025-11-12 04:22:22,182 - lightrag - INFO - Using cached parsing result for: examples/test.txt
2025-11-12 04:22:22,182 - lightrag - INFO - * Total blocks in cached content_list: 1
2025-11-12 04:22:22,182 - lightrag - INFO - Content separation complete:
2025-11-12 04:22:22,182 - lightrag - INFO -   - Text content length: 0 characters
2025-11-12 04:22:22,183 - lightrag - INFO -   - Multimodal items count: 1
2025-11-12 04:22:22,183 - lightrag - INFO -   - Multimodal type distribution: {'discarded': 1}
2025-11-12 04:22:22,183 - lightrag - INFO - Setting content source for context-aware multimodal processing...
2025-11-12 04:22:22,183 - lightrag - INFO - Content source set with format: minerU
2025-11-12 04:22:22,183 - lightrag - INFO - Content source set with format: minerU
2025-11-12 04:22:22,183 - lightrag - INFO - Content source set for context extraction (format: minerU)
2025-11-12 04:22:22,183 - lightrag - INFO - Starting multimodal content processing...
2025-11-12 04:22:22,183 - lightrag - INFO - Starting to process 1 multimodal content items
2025-11-12 04:22:28,197 - lightrag - WARNING - Using regex fallback for JSON parsing
2025-11-12 04:22:28,198 - lightrag - ERROR - Error parsing discarded analysis response: Missing required fields in response
2025-11-12 04:22:28,198 - lightrag - INFO - Multimodal chunk generation progress: 1/1 (100.0%)
2025-11-12 04:22:28,198 - lightrag - INFO - Generated descriptions for 1/1 multimodal items using correct processors
2025-11-12 04:22:28,200 - lightrag - INFO - Embedding func: 8 new workers initialized (Timeouts: Func: 30s, Worker: 60s, Health Check: 75s)
2025-11-12 04:22:28,294 - lightrag - ERROR - Embedding func: Error in decorated function for task 139875411761728_170941.00888605: object list can't be used in 'await' expression
2025-11-12 04:22:28,295 - lightrag - ERROR - Error storing chunks to storage: object list can't be used in 'await' expression
2025-11-12 04:22:28,295 - lightrag - ERROR - Error in multimodal processing: object list can't be used in 'await' expression
2025-11-12 04:22:28,295 - lightrag - WARNING - Falling back to individual multimodal processing
2025-11-12 04:22:28,295 - lightrag - INFO - Processing item 1/1: discarded content
2025-11-12 04:22:33,843 - lightrag - WARNING - Using regex fallback for JSON parsing
2025-11-12 04:22:33,843 - lightrag - ERROR - Error parsing discarded analysis response: Missing required fields in response
2025-11-12 04:22:33,852 - lightrag - ERROR - Embedding func: Error in decorated function for task 139875411766512_170946.653002679: object list can't be used in 'await' expression
2025-11-12 04:22:33,853 - lightrag - ERROR - Error processing discarded content: object list can't be used in 'await' expression
2025-11-12 04:22:33,853 - lightrag - ERROR - Error processing multimodal content: not enough values to unpack (expected 3, got 2)
2025-11-12 04:22:33,853 - lightrag - INFO - Individual multimodal content processing complete
2025-11-12 04:22:33,853 - lightrag - INFO - Document examples/test.txt processing complete!
2025-11-12 04:22:33,853 - lightrag - INFO -  Document processing completed!
2025-11-12 04:22:33,853 - lightrag - INFO - 
Querying processed document:
2025-11-12 04:22:33,853 - lightrag - INFO - 
[Query]: What is the main content of the document?
2025-11-12 04:22:33,853 - lightrag - INFO - Executing VLM enhanced query: What is the main content of the document?...
2025-11-12 04:22:33,855 - lightrag - INFO - LLM func: 4 new workers initialized (Timeouts: Func: 180s, Worker: 360s, Health Check: 375s)
2025-11-12 04:22:35,594 - lightrag - INFO -  == LLM cache == saving: hybrid:keywords:a6c2c406429d332704358613d7a7c2e4
2025-11-12 04:22:35,594 - lightrag - WARNING - low_level_keywords is empty
2025-11-12 04:22:35,605 - lightrag - WARNING - Failed to pre-compute query embedding: object list can't be used in 'await' expression
2025-11-12 04:22:35,606 - lightrag - INFO - Query edges: Main content, Document summary (top_k:40, cosine:0.2)
2025-11-12 04:22:35,613 - lightrag - ERROR - Embedding func: Error in decorated function for task 139869205180672_170948.414850081: object list can't be used in 'await' expression
2025-11-12 04:22:35,613 - lightrag - ERROR - Query failed: object list can't be used in 'await' expression
2025-11-12 04:22:35,614 - lightrag - ERROR - Error processing with RAG: expected string or bytes-like object
2025-11-12 04:22:35,614 - lightrag - ERROR - Traceback (most recent call last):
  File "/home/huyen/RAG/examples/raganything_example.py", line 137, in process_with_rag
    result = await rag.aquery(query, mode="hybrid")
  File "/home/huyen/RAG/raganything/query.py", line 136, in aquery
    return await self.aquery_vlm_enhanced(query, mode=mode, **kwargs)
  File "/home/huyen/RAG/raganything/query.py", line 331, in aquery_vlm_enhanced
    enhanced_prompt, images_found = await self._process_image_paths_for_vlm(
  File "/home/huyen/RAG/raganything/query.py", line 542, in _process_image_paths_for_vlm
    matches = re.findall(image_path_pattern, prompt)
  File "/opt/conda/lib/python3.10/re.py", line 240, in findall
    return _compile(pattern, flags).findall(string)
TypeError: expected string or bytes-like object

2025-11-12 04:26:06,891 - lightrag - INFO - Initializing Qwen model...
2025-11-12 04:26:18,900 - lightrag - INFO - RAGAnything initialized with config:
2025-11-12 04:26:18,900 - lightrag - INFO -   Working directory: ./rag_storage
2025-11-12 04:26:18,900 - lightrag - INFO -   Parser: mineru
2025-11-12 04:26:18,900 - lightrag - INFO -   Parse method: auto
2025-11-12 04:26:18,900 - lightrag - INFO -   Multimodal processing - Image: False, Table: True, Equation: False
2025-11-12 04:26:18,900 - lightrag - INFO -   Max concurrent files: 1
2025-11-12 04:26:18,900 - lightrag - INFO - Processing document: examples/test.txt
2025-11-12 04:26:21,641 - lightrag - INFO - Parser 'mineru' installation verified
2025-11-12 04:26:21,642 - lightrag - INFO - Initializing LightRAG with parameters: {'working_dir': './rag_storage'}
2025-11-12 04:26:22,973 - lightrag - INFO - [_] Created new empty graph file: ./rag_storage/graph_chunk_entity_relation.graphml
2025-11-12 04:26:22,974 - lightrag - INFO - [_] Process 1083310 KV load full_docs with 0 records
2025-11-12 04:26:22,974 - lightrag - INFO - [_] Process 1083310 KV load text_chunks with 0 records
2025-11-12 04:26:22,975 - lightrag - INFO - [_] Process 1083310 KV load full_entities with 0 records
2025-11-12 04:26:22,975 - lightrag - INFO - [_] Process 1083310 KV load full_relations with 0 records
2025-11-12 04:26:22,975 - lightrag - INFO - [_] Process 1083310 KV load entity_chunks with 0 records
2025-11-12 04:26:22,975 - lightrag - INFO - [_] Process 1083310 KV load relation_chunks with 0 records
2025-11-12 04:26:22,975 - lightrag - INFO - [_] Process 1083310 KV load llm_response_cache with 0 records
2025-11-12 04:26:22,975 - lightrag - INFO - [_] Process 1083310 doc status load doc_status with 0 records
2025-11-12 04:26:22,976 - lightrag - INFO - [_] Process 1083310 KV load parse_cache with 2 records
2025-11-12 04:26:22,977 - lightrag - INFO - Multimodal processors initialized with context support
2025-11-12 04:26:22,977 - lightrag - INFO - Available processors: ['table', 'generic']
2025-11-12 04:26:22,977 - lightrag - INFO - Context configuration: ContextConfig(context_window=1, context_mode='page', max_context_tokens=2000, include_headers=True, include_captions=True, filter_content_types=['text'])
2025-11-12 04:26:22,977 - lightrag - INFO - LightRAG, parse cache, and multimodal processors initialized
2025-11-12 04:26:22,977 - lightrag - INFO - Starting complete document processing: examples/test.txt
2025-11-12 04:26:22,977 - lightrag - INFO - Starting document parsing: examples/test.txt
2025-11-12 04:26:22,977 - lightrag - INFO - Using cached parsing result for: examples/test.txt
2025-11-12 04:26:22,977 - lightrag - INFO - * Total blocks in cached content_list: 1
2025-11-12 04:26:22,977 - lightrag - INFO - Content separation complete:
2025-11-12 04:26:22,977 - lightrag - INFO -   - Text content length: 0 characters
2025-11-12 04:26:22,978 - lightrag - INFO -   - Multimodal items count: 1
2025-11-12 04:26:22,978 - lightrag - INFO -   - Multimodal type distribution: {'discarded': 1}
2025-11-12 04:26:22,978 - lightrag - INFO - Setting content source for context-aware multimodal processing...
2025-11-12 04:26:22,978 - lightrag - INFO - Content source set with format: minerU
2025-11-12 04:26:22,978 - lightrag - INFO - Content source set with format: minerU
2025-11-12 04:26:22,978 - lightrag - INFO - Content source set for context extraction (format: minerU)
2025-11-12 04:26:22,978 - lightrag - INFO - Starting multimodal content processing...
2025-11-12 04:26:22,978 - lightrag - INFO - Starting to process 1 multimodal content items
2025-11-12 04:26:28,879 - lightrag - WARNING - Using regex fallback for JSON parsing
2025-11-12 04:26:28,880 - lightrag - ERROR - Error parsing discarded analysis response: Missing required fields in response
2025-11-12 04:26:28,880 - lightrag - INFO - Multimodal chunk generation progress: 1/1 (100.0%)
2025-11-12 04:26:28,880 - lightrag - INFO - Generated descriptions for 1/1 multimodal items using correct processors
2025-11-12 04:26:28,881 - lightrag - INFO - Embedding func: 8 new workers initialized (Timeouts: Func: 30s, Worker: 60s, Health Check: 75s)
2025-11-12 04:26:28,975 - lightrag - ERROR - Embedding func: Error in decorated function for task 140392806324800_171181.690741375: object list can't be used in 'await' expression
2025-11-12 04:26:28,975 - lightrag - ERROR - Error storing chunks to storage: object list can't be used in 'await' expression
2025-11-12 04:26:28,975 - lightrag - ERROR - Error in multimodal processing: object list can't be used in 'await' expression
2025-11-12 04:26:28,976 - lightrag - WARNING - Falling back to individual multimodal processing
2025-11-12 04:26:28,976 - lightrag - INFO - Processing item 1/1: discarded content
2025-11-12 04:26:34,374 - lightrag - WARNING - Using regex fallback for JSON parsing
2025-11-12 04:26:34,374 - lightrag - ERROR - Error parsing discarded analysis response: Missing required fields in response
2025-11-12 04:26:34,383 - lightrag - ERROR - Embedding func: Error in decorated function for task 140392806329584_171187.183746977: object list can't be used in 'await' expression
2025-11-12 04:26:34,384 - lightrag - ERROR - Error processing discarded content: object list can't be used in 'await' expression
2025-11-12 04:26:34,384 - lightrag - ERROR - Error processing multimodal content: not enough values to unpack (expected 3, got 2)
2025-11-12 04:26:34,384 - lightrag - INFO - Individual multimodal content processing complete
2025-11-12 04:26:34,384 - lightrag - INFO - Document examples/test.txt processing complete!
2025-11-12 04:26:34,384 - lightrag - INFO -  Document processing completed!
2025-11-12 04:26:34,384 - lightrag - INFO - 
Querying processed document:
2025-11-12 04:26:34,384 - lightrag - INFO - 
[Query]: What is the main content of the document?
2025-11-12 04:26:34,384 - lightrag - INFO - Executing VLM enhanced query: What is the main content of the document?...
2025-11-12 04:26:34,385 - lightrag - INFO - LLM func: 4 new workers initialized (Timeouts: Func: 180s, Worker: 360s, Health Check: 375s)
2025-11-12 04:26:36,100 - lightrag - INFO -  == LLM cache == saving: hybrid:keywords:a6c2c406429d332704358613d7a7c2e4
2025-11-12 04:26:36,101 - lightrag - WARNING - low_level_keywords is empty
2025-11-12 04:26:36,112 - lightrag - WARNING - Failed to pre-compute query embedding: object list can't be used in 'await' expression
2025-11-12 04:26:36,112 - lightrag - INFO - Query edges: Main content, Document summary (top_k:40, cosine:0.2)
2025-11-12 04:26:36,120 - lightrag - ERROR - Embedding func: Error in decorated function for task 140386665738496_171188.921475181: object list can't be used in 'await' expression
2025-11-12 04:26:36,120 - lightrag - ERROR - Query failed: object list can't be used in 'await' expression
2025-11-12 04:26:36,121 - lightrag - INFO - Found 0 image path matches in prompt
2025-11-12 04:26:36,121 - lightrag - INFO - No valid images found, falling back to normal query
2025-11-12 04:26:36,121 - lightrag - WARNING - low_level_keywords is empty
2025-11-12 04:26:36,128 - lightrag - WARNING - Failed to pre-compute query embedding: object list can't be used in 'await' expression
2025-11-12 04:26:36,128 - lightrag - INFO - Query edges: Main content, Document summary (top_k:40, cosine:0.2)
2025-11-12 04:26:36,136 - lightrag - ERROR - Embedding func: Error in decorated function for task 140386665738496_171188.937470985: object list can't be used in 'await' expression
2025-11-12 04:26:36,137 - lightrag - ERROR - Query failed: object list can't be used in 'await' expression
2025-11-12 04:26:36,137 - lightrag - INFO - [Answer]: None
2025-11-12 04:26:36,137 - lightrag - INFO - 
[Query]: What are the key topics discussed?
2025-11-12 04:26:36,137 - lightrag - INFO - Executing VLM enhanced query: What are the key topics discussed?...
2025-11-12 04:26:37,586 - lightrag - INFO -  == LLM cache == saving: hybrid:keywords:cf38fd7a84e53a70fc8c6d5c32fe4db9
2025-11-12 04:26:37,586 - lightrag - WARNING - low_level_keywords is empty
2025-11-12 04:26:37,594 - lightrag - WARNING - Failed to pre-compute query embedding: object list can't be used in 'await' expression
2025-11-12 04:26:37,594 - lightrag - INFO - Query edges: Key topics (top_k:40, cosine:0.2)
2025-11-12 04:26:37,602 - lightrag - ERROR - Embedding func: Error in decorated function for task 140386665738496_171190.403472236: object list can't be used in 'await' expression
2025-11-12 04:26:37,602 - lightrag - ERROR - Query failed: object list can't be used in 'await' expression
2025-11-12 04:26:37,602 - lightrag - INFO - Found 0 image path matches in prompt
2025-11-12 04:26:37,602 - lightrag - INFO - No valid images found, falling back to normal query
2025-11-12 04:26:37,602 - lightrag - WARNING - low_level_keywords is empty
2025-11-12 04:26:37,609 - lightrag - WARNING - Failed to pre-compute query embedding: object list can't be used in 'await' expression
2025-11-12 04:26:37,609 - lightrag - INFO - Query edges: Key topics (top_k:40, cosine:0.2)
2025-11-12 04:26:37,616 - lightrag - ERROR - Embedding func: Error in decorated function for task 140386665738496_171190.418345241: object list can't be used in 'await' expression
2025-11-12 04:26:37,616 - lightrag - ERROR - Query failed: object list can't be used in 'await' expression
2025-11-12 04:26:37,616 - lightrag - INFO - [Answer]: None
2025-11-12 04:26:37,616 - lightrag - INFO - 
[Query]: Summarize it in 2 sentences.
2025-11-12 04:26:37,616 - lightrag - INFO - Executing VLM enhanced query: Summarize it in 2 sentences....
2025-11-12 04:26:39,132 - lightrag - INFO -  == LLM cache == saving: hybrid:keywords:4763ae24c8882b9acd533683adb0daa0
2025-11-12 04:26:39,132 - lightrag - WARNING - low_level_keywords is empty
2025-11-12 04:26:39,140 - lightrag - WARNING - Failed to pre-compute query embedding: object list can't be used in 'await' expression
2025-11-12 04:26:39,140 - lightrag - INFO - Query edges: Summarize (top_k:40, cosine:0.2)
2025-11-12 04:26:39,147 - lightrag - ERROR - Embedding func: Error in decorated function for task 140386665738496_171191.949167121: object list can't be used in 'await' expression
2025-11-12 04:26:39,147 - lightrag - ERROR - Query failed: object list can't be used in 'await' expression
2025-11-12 04:26:39,148 - lightrag - INFO - Found 0 image path matches in prompt
2025-11-12 04:26:39,148 - lightrag - INFO - No valid images found, falling back to normal query
2025-11-12 04:26:39,148 - lightrag - WARNING - low_level_keywords is empty
2025-11-12 04:26:39,155 - lightrag - WARNING - Failed to pre-compute query embedding: object list can't be used in 'await' expression
2025-11-12 04:26:39,155 - lightrag - INFO - Query edges: Summarize (top_k:40, cosine:0.2)
2025-11-12 04:26:39,161 - lightrag - ERROR - Embedding func: Error in decorated function for task 140386665738496_171191.963974726: object list can't be used in 'await' expression
2025-11-12 04:26:39,162 - lightrag - ERROR - Query failed: object list can't be used in 'await' expression
2025-11-12 04:26:39,162 - lightrag - INFO - [Answer]: None
2025-11-12 04:26:39,162 - lightrag - INFO - 
 Test completed successfully!
2025-11-12 04:29:11,258 - lightrag - INFO - Initializing Qwen model...
2025-11-12 04:29:23,375 - lightrag - INFO - RAGAnything initialized with config:
2025-11-12 04:29:23,376 - lightrag - INFO -   Working directory: ./rag_storage
2025-11-12 04:29:23,376 - lightrag - INFO -   Parser: mineru
2025-11-12 04:29:23,376 - lightrag - INFO -   Parse method: auto
2025-11-12 04:29:23,376 - lightrag - INFO -   Multimodal processing - Image: False, Table: True, Equation: False
2025-11-12 04:29:23,376 - lightrag - INFO -   Max concurrent files: 1
2025-11-12 04:29:23,376 - lightrag - INFO - Processing document: examples/test.txt
2025-11-12 04:29:26,204 - lightrag - INFO - Parser 'mineru' installation verified
2025-11-12 04:29:26,204 - lightrag - INFO - Initializing LightRAG with parameters: {'working_dir': './rag_storage'}
2025-11-12 04:29:27,587 - lightrag - INFO - [_] Created new empty graph file: ./rag_storage/graph_chunk_entity_relation.graphml
2025-11-12 04:29:27,588 - lightrag - INFO - [_] Process 1084062 KV load full_docs with 0 records
2025-11-12 04:29:27,588 - lightrag - INFO - [_] Process 1084062 KV load text_chunks with 0 records
2025-11-12 04:29:27,588 - lightrag - INFO - [_] Process 1084062 KV load full_entities with 0 records
2025-11-12 04:29:27,588 - lightrag - INFO - [_] Process 1084062 KV load full_relations with 0 records
2025-11-12 04:29:27,589 - lightrag - INFO - [_] Process 1084062 KV load entity_chunks with 0 records
2025-11-12 04:29:27,589 - lightrag - INFO - [_] Process 1084062 KV load relation_chunks with 0 records
2025-11-12 04:29:27,589 - lightrag - INFO - [_] Process 1084062 KV load llm_response_cache with 0 records
2025-11-12 04:29:27,589 - lightrag - INFO - [_] Process 1084062 doc status load doc_status with 0 records
2025-11-12 04:29:27,590 - lightrag - INFO - [_] Process 1084062 KV load parse_cache with 2 records
2025-11-12 04:29:27,590 - lightrag - INFO - Multimodal processors initialized with context support
2025-11-12 04:29:27,590 - lightrag - INFO - Available processors: ['table', 'generic']
2025-11-12 04:29:27,591 - lightrag - INFO - Context configuration: ContextConfig(context_window=1, context_mode='page', max_context_tokens=2000, include_headers=True, include_captions=True, filter_content_types=['text'])
2025-11-12 04:29:27,591 - lightrag - INFO - LightRAG, parse cache, and multimodal processors initialized
2025-11-12 04:29:27,591 - lightrag - INFO - Starting complete document processing: examples/test.txt
2025-11-12 04:29:27,591 - lightrag - INFO - Starting document parsing: examples/test.txt
2025-11-12 04:29:27,591 - lightrag - INFO - Using mineru parser with method: auto
2025-11-12 04:29:27,591 - lightrag - INFO - Using generic parser for .txt file (method=auto)...
2025-11-12 04:29:50,026 - lightrag - INFO - Parsing examples/test.txt complete! Extracted 1 content blocks
2025-11-12 04:29:50,027 - lightrag - INFO - Stored parsing result in cache: ac9eb51bf4d2b588878cf5feed9977ed
2025-11-12 04:29:50,027 - lightrag - INFO - 
Content Information:
2025-11-12 04:29:50,027 - lightrag - INFO - * Total blocks in content_list: 1
2025-11-12 04:29:50,027 - lightrag - INFO - * Content block types:
2025-11-12 04:29:50,027 - lightrag - INFO -   - discarded: 1
2025-11-12 04:29:50,027 - lightrag - INFO - Content separation complete:
2025-11-12 04:29:50,027 - lightrag - INFO -   - Text content length: 0 characters
2025-11-12 04:29:50,028 - lightrag - INFO -   - Multimodal items count: 1
2025-11-12 04:29:50,028 - lightrag - INFO -   - Multimodal type distribution: {'discarded': 1}
2025-11-12 04:29:50,028 - lightrag - INFO - Setting content source for context-aware multimodal processing...
2025-11-12 04:29:50,028 - lightrag - INFO - Content source set with format: minerU
2025-11-12 04:29:50,028 - lightrag - INFO - Content source set with format: minerU
2025-11-12 04:29:50,028 - lightrag - INFO - Content source set for context extraction (format: minerU)
2025-11-12 04:29:50,028 - lightrag - INFO - Starting multimodal content processing...
2025-11-12 04:29:50,028 - lightrag - INFO - Starting to process 1 multimodal content items
2025-11-12 04:29:56,064 - lightrag - WARNING - Using regex fallback for JSON parsing
2025-11-12 04:29:56,065 - lightrag - ERROR - Error parsing discarded analysis response: Missing required fields in response
2025-11-12 04:29:56,065 - lightrag - INFO - Multimodal chunk generation progress: 1/1 (100.0%)
2025-11-12 04:29:56,065 - lightrag - INFO - Generated descriptions for 1/1 multimodal items using correct processors
2025-11-12 04:29:56,067 - lightrag - INFO - Embedding func: 8 new workers initialized (Timeouts: Func: 30s, Worker: 60s, Health Check: 75s)
2025-11-12 04:29:56,162 - lightrag - ERROR - Embedding func: Error in decorated function for task 140144882066432_171388.876113776: object list can't be used in 'await' expression
2025-11-12 04:29:56,162 - lightrag - ERROR - Error storing chunks to storage: object list can't be used in 'await' expression
2025-11-12 04:29:56,162 - lightrag - ERROR - Error in multimodal processing: object list can't be used in 'await' expression
2025-11-12 04:29:56,162 - lightrag - WARNING - Falling back to individual multimodal processing
2025-11-12 04:29:56,163 - lightrag - INFO - Processing item 1/1: discarded content
2025-11-12 04:30:01,700 - lightrag - WARNING - Using regex fallback for JSON parsing
2025-11-12 04:30:01,700 - lightrag - ERROR - Error parsing discarded analysis response: Missing required fields in response
2025-11-12 04:30:01,710 - lightrag - ERROR - Embedding func: Error in decorated function for task 140144882070800_171394.510049563: object list can't be used in 'await' expression
2025-11-12 04:30:01,710 - lightrag - ERROR - Error processing discarded content: object list can't be used in 'await' expression
2025-11-12 04:30:01,710 - lightrag - ERROR - Error processing multimodal content: not enough values to unpack (expected 3, got 2)
2025-11-12 04:30:01,710 - lightrag - INFO - Individual multimodal content processing complete
2025-11-12 04:30:01,710 - lightrag - INFO - Document examples/test.txt processing complete!
2025-11-12 04:30:01,710 - lightrag - INFO -  Document processing completed!
2025-11-12 04:30:01,711 - lightrag - INFO - 
Querying processed document:
2025-11-12 04:30:01,711 - lightrag - INFO - 
[Query]: What is the main content of the document?
2025-11-12 04:30:01,711 - lightrag - INFO - Executing VLM enhanced query: What is the main content of the document?...
2025-11-12 04:30:01,712 - lightrag - INFO - LLM func: 4 new workers initialized (Timeouts: Func: 180s, Worker: 360s, Health Check: 375s)
2025-11-12 04:30:03,516 - lightrag - INFO -  == LLM cache == saving: hybrid:keywords:a6c2c406429d332704358613d7a7c2e4
2025-11-12 04:30:03,516 - lightrag - WARNING - low_level_keywords is empty
2025-11-12 04:30:03,528 - lightrag - WARNING - Failed to pre-compute query embedding: object list can't be used in 'await' expression
2025-11-12 04:30:03,528 - lightrag - INFO - Query edges: Main content, Document summary (top_k:40, cosine:0.2)
2025-11-12 04:30:03,536 - lightrag - ERROR - Embedding func: Error in decorated function for task 140144248549632_171396.337158496: object list can't be used in 'await' expression
2025-11-12 04:30:03,536 - lightrag - ERROR - Query failed: object list can't be used in 'await' expression
2025-11-12 04:30:03,537 - lightrag - INFO - Found 0 image path matches in prompt
2025-11-12 04:30:03,537 - lightrag - INFO - No valid images found, falling back to normal query
2025-11-12 04:30:03,537 - lightrag - WARNING - low_level_keywords is empty
2025-11-12 04:30:03,544 - lightrag - WARNING - Failed to pre-compute query embedding: object list can't be used in 'await' expression
2025-11-12 04:30:03,544 - lightrag - INFO - Query edges: Main content, Document summary (top_k:40, cosine:0.2)
2025-11-12 04:30:03,552 - lightrag - ERROR - Embedding func: Error in decorated function for task 140144248549632_171396.353391122: object list can't be used in 'await' expression
2025-11-12 04:30:03,553 - lightrag - ERROR - Query failed: object list can't be used in 'await' expression
2025-11-12 04:30:03,553 - lightrag - INFO - [Answer]: None
2025-11-12 04:30:03,553 - lightrag - INFO - 
[Query]: What are the key topics discussed?
2025-11-12 04:30:03,553 - lightrag - INFO - Executing VLM enhanced query: What are the key topics discussed?...
2025-11-12 04:30:05,024 - lightrag - INFO -  == LLM cache == saving: hybrid:keywords:cf38fd7a84e53a70fc8c6d5c32fe4db9
2025-11-12 04:30:05,024 - lightrag - WARNING - low_level_keywords is empty
2025-11-12 04:30:05,032 - lightrag - WARNING - Failed to pre-compute query embedding: object list can't be used in 'await' expression
2025-11-12 04:30:05,032 - lightrag - INFO - Query edges: Key topics (top_k:40, cosine:0.2)
2025-11-12 04:30:05,040 - lightrag - ERROR - Embedding func: Error in decorated function for task 140144248549632_171397.841404054: object list can't be used in 'await' expression
2025-11-12 04:30:05,040 - lightrag - ERROR - Query failed: object list can't be used in 'await' expression
2025-11-12 04:30:05,041 - lightrag - INFO - Found 0 image path matches in prompt
2025-11-12 04:30:05,041 - lightrag - INFO - No valid images found, falling back to normal query
2025-11-12 04:30:05,041 - lightrag - WARNING - low_level_keywords is empty
2025-11-12 04:30:05,048 - lightrag - WARNING - Failed to pre-compute query embedding: object list can't be used in 'await' expression
2025-11-12 04:30:05,048 - lightrag - INFO - Query edges: Key topics (top_k:40, cosine:0.2)
2025-11-12 04:30:05,055 - lightrag - ERROR - Embedding func: Error in decorated function for task 140144248549632_171397.85725644: object list can't be used in 'await' expression
2025-11-12 04:30:05,055 - lightrag - ERROR - Query failed: object list can't be used in 'await' expression
2025-11-12 04:30:05,055 - lightrag - INFO - [Answer]: None
2025-11-12 04:30:05,055 - lightrag - INFO - 
[Query]: Summarize it in 2 sentences.
2025-11-12 04:30:05,055 - lightrag - INFO - Executing VLM enhanced query: Summarize it in 2 sentences....
2025-11-12 04:30:06,624 - lightrag - INFO -  == LLM cache == saving: hybrid:keywords:4763ae24c8882b9acd533683adb0daa0
2025-11-12 04:30:06,624 - lightrag - WARNING - low_level_keywords is empty
2025-11-12 04:30:06,632 - lightrag - WARNING - Failed to pre-compute query embedding: object list can't be used in 'await' expression
2025-11-12 04:30:06,632 - lightrag - INFO - Query edges: Summarize (top_k:40, cosine:0.2)
2025-11-12 04:30:06,639 - lightrag - ERROR - Embedding func: Error in decorated function for task 140144248549632_171399.441085494: object list can't be used in 'await' expression
2025-11-12 04:30:06,640 - lightrag - ERROR - Query failed: object list can't be used in 'await' expression
2025-11-12 04:30:06,640 - lightrag - INFO - Found 0 image path matches in prompt
2025-11-12 04:30:06,640 - lightrag - INFO - No valid images found, falling back to normal query
2025-11-12 04:30:06,640 - lightrag - WARNING - low_level_keywords is empty
2025-11-12 04:30:06,647 - lightrag - WARNING - Failed to pre-compute query embedding: object list can't be used in 'await' expression
2025-11-12 04:30:06,647 - lightrag - INFO - Query edges: Summarize (top_k:40, cosine:0.2)
2025-11-12 04:30:06,654 - lightrag - ERROR - Embedding func: Error in decorated function for task 140144248549632_171399.456335879: object list can't be used in 'await' expression
2025-11-12 04:30:06,654 - lightrag - ERROR - Query failed: object list can't be used in 'await' expression
2025-11-12 04:30:06,654 - lightrag - INFO - [Answer]: None
2025-11-12 04:30:06,654 - lightrag - INFO - 
 Test completed successfully!
2025-11-12 04:32:12,974 - lightrag - INFO - Initializing Qwen model...
2025-11-12 04:32:25,091 - lightrag - INFO - RAGAnything initialized with config:
2025-11-12 04:32:25,091 - lightrag - INFO -   Working directory: ./rag_storage
2025-11-12 04:32:25,091 - lightrag - INFO -   Parser: mineru
2025-11-12 04:32:25,091 - lightrag - INFO -   Parse method: auto
2025-11-12 04:32:25,091 - lightrag - INFO -   Multimodal processing - Image: False, Table: True, Equation: False
2025-11-12 04:32:25,091 - lightrag - INFO -   Max concurrent files: 1
2025-11-12 04:32:25,092 - lightrag - INFO - Processing document: examples/test.txt
2025-11-12 04:32:27,913 - lightrag - INFO - Parser 'mineru' installation verified
2025-11-12 04:32:27,913 - lightrag - INFO - Initializing LightRAG with parameters: {'working_dir': './rag_storage'}
2025-11-12 04:32:29,285 - lightrag - INFO - [_] Created new empty graph file: ./rag_storage/graph_chunk_entity_relation.graphml
2025-11-12 04:32:29,286 - lightrag - INFO - [_] Process 1084882 KV load full_docs with 0 records
2025-11-12 04:32:29,286 - lightrag - INFO - [_] Process 1084882 KV load text_chunks with 0 records
2025-11-12 04:32:29,286 - lightrag - INFO - [_] Process 1084882 KV load full_entities with 0 records
2025-11-12 04:32:29,287 - lightrag - INFO - [_] Process 1084882 KV load full_relations with 0 records
2025-11-12 04:32:29,287 - lightrag - INFO - [_] Process 1084882 KV load entity_chunks with 0 records
2025-11-12 04:32:29,287 - lightrag - INFO - [_] Process 1084882 KV load relation_chunks with 0 records
2025-11-12 04:32:29,287 - lightrag - INFO - [_] Process 1084882 KV load llm_response_cache with 0 records
2025-11-12 04:32:29,287 - lightrag - INFO - [_] Process 1084882 doc status load doc_status with 0 records
2025-11-12 04:32:29,288 - lightrag - INFO - [_] Process 1084882 KV load parse_cache with 3 records
2025-11-12 04:32:29,288 - lightrag - INFO - Multimodal processors initialized with context support
2025-11-12 04:32:29,289 - lightrag - INFO - Available processors: ['table', 'generic']
2025-11-12 04:32:29,289 - lightrag - INFO - Context configuration: ContextConfig(context_window=1, context_mode='page', max_context_tokens=2000, include_headers=True, include_captions=True, filter_content_types=['text'])
2025-11-12 04:32:29,289 - lightrag - INFO - LightRAG, parse cache, and multimodal processors initialized
2025-11-12 04:32:29,289 - lightrag - INFO - Starting complete document processing: examples/test.txt
2025-11-12 04:32:29,289 - lightrag - INFO - Starting document parsing: examples/test.txt
2025-11-12 04:32:29,289 - lightrag - INFO - Using cached parsing result for: examples/test.txt
2025-11-12 04:32:29,289 - lightrag - INFO - * Total blocks in cached content_list: 1
2025-11-12 04:32:29,289 - lightrag - INFO - Content separation complete:
2025-11-12 04:32:29,289 - lightrag - INFO -   - Text content length: 0 characters
2025-11-12 04:32:29,289 - lightrag - INFO -   - Multimodal items count: 1
2025-11-12 04:32:29,289 - lightrag - INFO -   - Multimodal type distribution: {'discarded': 1}
2025-11-12 04:32:29,289 - lightrag - INFO - Setting content source for context-aware multimodal processing...
2025-11-12 04:32:29,290 - lightrag - INFO - Content source set with format: minerU
2025-11-12 04:32:29,290 - lightrag - INFO - Content source set with format: minerU
2025-11-12 04:32:29,290 - lightrag - INFO - Content source set for context extraction (format: minerU)
2025-11-12 04:32:29,290 - lightrag - INFO - Starting multimodal content processing...
2025-11-12 04:32:29,290 - lightrag - INFO - Starting to process 1 multimodal content items
2025-11-12 04:32:35,230 - lightrag - WARNING - Using regex fallback for JSON parsing
2025-11-12 04:32:35,230 - lightrag - ERROR - Error parsing discarded analysis response: Missing required fields in response
2025-11-12 04:32:35,231 - lightrag - INFO - Multimodal chunk generation progress: 1/1 (100.0%)
2025-11-12 04:32:35,231 - lightrag - INFO - Generated descriptions for 1/1 multimodal items using correct processors
2025-11-12 04:32:35,232 - lightrag - INFO - Embedding func: 8 new workers initialized (Timeouts: Func: 30s, Worker: 60s, Health Check: 75s)
2025-11-12 04:32:35,326 - lightrag - ERROR - Embedding func: Error in decorated function for task 140343031208512_171548.041612686: object list can't be used in 'await' expression
2025-11-12 04:32:35,326 - lightrag - ERROR - Error storing chunks to storage: object list can't be used in 'await' expression
2025-11-12 04:32:35,327 - lightrag - ERROR - Error in multimodal processing: object list can't be used in 'await' expression
2025-11-12 04:32:35,327 - lightrag - WARNING - Falling back to individual multimodal processing
2025-11-12 04:32:35,327 - lightrag - INFO - Processing item 1/1: discarded content
2025-11-12 04:32:40,810 - lightrag - WARNING - Using regex fallback for JSON parsing
2025-11-12 04:32:40,810 - lightrag - ERROR - Error parsing discarded analysis response: Missing required fields in response
2025-11-12 04:32:40,819 - lightrag - ERROR - Embedding func: Error in decorated function for task 140343031213296_171553.619565158: object list can't be used in 'await' expression
2025-11-12 04:32:40,820 - lightrag - ERROR - Error processing discarded content: object list can't be used in 'await' expression
2025-11-12 04:32:40,820 - lightrag - ERROR - Error processing multimodal content: not enough values to unpack (expected 3, got 2)
2025-11-12 04:32:40,820 - lightrag - INFO - Individual multimodal content processing complete
2025-11-12 04:32:40,820 - lightrag - INFO - Document examples/test.txt processing complete!
2025-11-12 04:32:40,820 - lightrag - INFO -  Document processing completed!
2025-11-12 04:32:40,820 - lightrag - INFO - 
Querying processed document:
2025-11-12 04:32:40,820 - lightrag - INFO - 
[Query]: What is the main content of the document?
2025-11-12 04:32:40,820 - lightrag - INFO - Executing VLM enhanced query: What is the main content of the document?...
2025-11-12 04:32:40,821 - lightrag - INFO - LLM func: 4 new workers initialized (Timeouts: Func: 180s, Worker: 360s, Health Check: 375s)
2025-11-12 04:32:42,586 - lightrag - INFO -  == LLM cache == saving: hybrid:keywords:a6c2c406429d332704358613d7a7c2e4
2025-11-12 04:32:42,586 - lightrag - WARNING - low_level_keywords is empty
2025-11-12 04:32:42,598 - lightrag - WARNING - Failed to pre-compute query embedding: object list can't be used in 'await' expression
2025-11-12 04:32:42,598 - lightrag - INFO - Query edges: Main content, Document summary (top_k:40, cosine:0.2)
2025-11-12 04:32:42,606 - lightrag - ERROR - Embedding func: Error in decorated function for task 140336824676608_171555.407068593: object list can't be used in 'await' expression
2025-11-12 04:32:42,606 - lightrag - ERROR - Query failed: object list can't be used in 'await' expression
2025-11-12 04:32:42,606 - lightrag - INFO - Found 0 image path matches in prompt
2025-11-12 04:32:42,606 - lightrag - INFO - No valid images found, falling back to normal query
2025-11-12 04:32:42,607 - lightrag - WARNING - low_level_keywords is empty
2025-11-12 04:32:42,614 - lightrag - WARNING - Failed to pre-compute query embedding: object list can't be used in 'await' expression
2025-11-12 04:32:42,614 - lightrag - INFO - Query edges: Main content, Document summary (top_k:40, cosine:0.2)
2025-11-12 04:32:42,621 - lightrag - ERROR - Embedding func: Error in decorated function for task 140336824676608_171555.423287623: object list can't be used in 'await' expression
2025-11-12 04:32:42,621 - lightrag - ERROR - Query failed: object list can't be used in 'await' expression
2025-11-12 04:32:42,621 - lightrag - INFO - [Answer]: None
2025-11-12 04:32:42,621 - lightrag - INFO - 
[Query]: What are the key topics discussed?
2025-11-12 04:32:42,622 - lightrag - INFO - Executing VLM enhanced query: What are the key topics discussed?...
2025-11-12 04:32:44,085 - lightrag - INFO -  == LLM cache == saving: hybrid:keywords:cf38fd7a84e53a70fc8c6d5c32fe4db9
2025-11-12 04:32:44,085 - lightrag - WARNING - low_level_keywords is empty
2025-11-12 04:32:44,093 - lightrag - WARNING - Failed to pre-compute query embedding: object list can't be used in 'await' expression
2025-11-12 04:32:44,094 - lightrag - INFO - Query edges: Key topics (top_k:40, cosine:0.2)
2025-11-12 04:32:44,101 - lightrag - ERROR - Embedding func: Error in decorated function for task 140336824676608_171556.902863146: object list can't be used in 'await' expression
2025-11-12 04:32:44,102 - lightrag - ERROR - Query failed: object list can't be used in 'await' expression
2025-11-12 04:32:44,102 - lightrag - INFO - Found 0 image path matches in prompt
2025-11-12 04:32:44,102 - lightrag - INFO - No valid images found, falling back to normal query
2025-11-12 04:32:44,102 - lightrag - WARNING - low_level_keywords is empty
2025-11-12 04:32:44,109 - lightrag - WARNING - Failed to pre-compute query embedding: object list can't be used in 'await' expression
2025-11-12 04:32:44,109 - lightrag - INFO - Query edges: Key topics (top_k:40, cosine:0.2)
2025-11-12 04:32:44,116 - lightrag - ERROR - Embedding func: Error in decorated function for task 140336824676608_171556.918470368: object list can't be used in 'await' expression
2025-11-12 04:32:44,116 - lightrag - ERROR - Query failed: object list can't be used in 'await' expression
2025-11-12 04:32:44,116 - lightrag - INFO - [Answer]: None
2025-11-12 04:32:44,116 - lightrag - INFO - 
[Query]: Summarize it in 2 sentences.
2025-11-12 04:32:44,116 - lightrag - INFO - Executing VLM enhanced query: Summarize it in 2 sentences....
2025-11-12 04:32:45,646 - lightrag - INFO -  == LLM cache == saving: hybrid:keywords:4763ae24c8882b9acd533683adb0daa0
2025-11-12 04:32:45,646 - lightrag - WARNING - low_level_keywords is empty
2025-11-12 04:32:45,654 - lightrag - WARNING - Failed to pre-compute query embedding: object list can't be used in 'await' expression
2025-11-12 04:32:45,654 - lightrag - INFO - Query edges: Summarize (top_k:40, cosine:0.2)
2025-11-12 04:32:45,662 - lightrag - ERROR - Embedding func: Error in decorated function for task 140336824676608_171558.463699309: object list can't be used in 'await' expression
2025-11-12 04:32:45,662 - lightrag - ERROR - Query failed: object list can't be used in 'await' expression
2025-11-12 04:32:45,663 - lightrag - INFO - Found 0 image path matches in prompt
2025-11-12 04:32:45,663 - lightrag - INFO - No valid images found, falling back to normal query
2025-11-12 04:32:45,663 - lightrag - WARNING - low_level_keywords is empty
2025-11-12 04:32:45,670 - lightrag - WARNING - Failed to pre-compute query embedding: object list can't be used in 'await' expression
2025-11-12 04:32:45,670 - lightrag - INFO - Query edges: Summarize (top_k:40, cosine:0.2)
2025-11-12 04:32:45,677 - lightrag - ERROR - Embedding func: Error in decorated function for task 140336824676608_171558.47939259: object list can't be used in 'await' expression
2025-11-12 04:32:45,677 - lightrag - ERROR - Query failed: object list can't be used in 'await' expression
2025-11-12 04:32:45,677 - lightrag - INFO - [Answer]: None
2025-11-12 04:32:45,677 - lightrag - INFO - 
 Test completed successfully!
2025-11-12 04:35:07,002 - lightrag - INFO - Initializing Qwen model...
2025-11-12 04:35:19,488 - lightrag - INFO - RAGAnything initialized with config:
2025-11-12 04:35:19,488 - lightrag - INFO -   Working directory: ./rag_storage
2025-11-12 04:35:19,488 - lightrag - INFO -   Parser: mineru
2025-11-12 04:35:19,488 - lightrag - INFO -   Parse method: auto
2025-11-12 04:35:19,489 - lightrag - INFO -   Multimodal processing - Image: False, Table: True, Equation: False
2025-11-12 04:35:19,489 - lightrag - INFO -   Max concurrent files: 1
2025-11-12 04:35:19,489 - lightrag - INFO - Processing document: examples/test.txt
2025-11-12 04:35:22,266 - lightrag - INFO - Parser 'mineru' installation verified
2025-11-12 04:35:22,266 - lightrag - INFO - Initializing LightRAG with parameters: {'working_dir': './rag_storage'}
2025-11-12 04:35:23,633 - lightrag - INFO - [_] Created new empty graph file: ./rag_storage/graph_chunk_entity_relation.graphml
2025-11-12 04:35:23,634 - lightrag - INFO - [_] Process 1085455 KV load full_docs with 0 records
2025-11-12 04:35:23,634 - lightrag - INFO - [_] Process 1085455 KV load text_chunks with 0 records
2025-11-12 04:35:23,634 - lightrag - INFO - [_] Process 1085455 KV load full_entities with 0 records
2025-11-12 04:35:23,634 - lightrag - INFO - [_] Process 1085455 KV load full_relations with 0 records
2025-11-12 04:35:23,634 - lightrag - INFO - [_] Process 1085455 KV load entity_chunks with 0 records
2025-11-12 04:35:23,634 - lightrag - INFO - [_] Process 1085455 KV load relation_chunks with 0 records
2025-11-12 04:35:23,635 - lightrag - INFO - [_] Process 1085455 KV load llm_response_cache with 0 records
2025-11-12 04:35:23,635 - lightrag - INFO - [_] Process 1085455 doc status load doc_status with 0 records
2025-11-12 04:35:23,635 - lightrag - INFO - [_] Process 1085455 KV load parse_cache with 3 records
2025-11-12 04:35:23,636 - lightrag - INFO - Multimodal processors initialized with context support
2025-11-12 04:35:23,636 - lightrag - INFO - Available processors: ['table', 'generic']
2025-11-12 04:35:23,636 - lightrag - INFO - Context configuration: ContextConfig(context_window=1, context_mode='page', max_context_tokens=2000, include_headers=True, include_captions=True, filter_content_types=['text'])
2025-11-12 04:35:23,636 - lightrag - INFO - LightRAG, parse cache, and multimodal processors initialized
2025-11-12 04:35:23,636 - lightrag - INFO - Starting complete document processing: examples/test.txt
2025-11-12 04:35:23,637 - lightrag - INFO - Starting document parsing: examples/test.txt
2025-11-12 04:35:23,637 - lightrag - INFO - Using cached parsing result for: examples/test.txt
2025-11-12 04:35:23,637 - lightrag - INFO - * Total blocks in cached content_list: 1
2025-11-12 04:35:23,637 - lightrag - INFO - Content separation complete:
2025-11-12 04:35:23,637 - lightrag - INFO -   - Text content length: 0 characters
2025-11-12 04:35:23,637 - lightrag - INFO -   - Multimodal items count: 1
2025-11-12 04:35:23,637 - lightrag - INFO -   - Multimodal type distribution: {'discarded': 1}
2025-11-12 04:35:23,637 - lightrag - INFO - Setting content source for context-aware multimodal processing...
2025-11-12 04:35:23,637 - lightrag - INFO - Content source set with format: minerU
2025-11-12 04:35:23,637 - lightrag - INFO - Content source set with format: minerU
2025-11-12 04:35:23,637 - lightrag - INFO - Content source set for context extraction (format: minerU)
2025-11-12 04:35:23,637 - lightrag - INFO - Starting multimodal content processing...
2025-11-12 04:35:23,637 - lightrag - INFO - Starting to process 1 multimodal content items
2025-11-12 04:35:29,612 - lightrag - WARNING - Using regex fallback for JSON parsing
2025-11-12 04:35:29,613 - lightrag - ERROR - Error parsing discarded analysis response: Missing required fields in response
2025-11-12 04:35:29,613 - lightrag - INFO - Multimodal chunk generation progress: 1/1 (100.0%)
2025-11-12 04:35:29,613 - lightrag - INFO - Generated descriptions for 1/1 multimodal items using correct processors
2025-11-12 04:35:29,615 - lightrag - INFO - Embedding func: 8 new workers initialized (Timeouts: Func: 30s, Worker: 60s, Health Check: 75s)
2025-11-12 04:35:29,709 - lightrag - ERROR - Embedding func: Error in decorated function for task 140490721925696_171722.424117399: object list can't be used in 'await' expression
2025-11-12 04:35:29,709 - lightrag - ERROR - Error storing chunks to storage: object list can't be used in 'await' expression
2025-11-12 04:35:29,710 - lightrag - ERROR - Error in multimodal processing: object list can't be used in 'await' expression
2025-11-12 04:35:29,710 - lightrag - WARNING - Falling back to individual multimodal processing
2025-11-12 04:35:29,710 - lightrag - INFO - Processing item 1/1: discarded content
2025-11-12 04:35:35,095 - lightrag - WARNING - Using regex fallback for JSON parsing
2025-11-12 04:35:35,096 - lightrag - ERROR - Error parsing discarded analysis response: Missing required fields in response
2025-11-12 04:35:35,105 - lightrag - ERROR - Embedding func: Error in decorated function for task 140490721930480_171727.905222858: object list can't be used in 'await' expression
2025-11-12 04:35:35,105 - lightrag - ERROR - Error processing discarded content: object list can't be used in 'await' expression
2025-11-12 04:35:35,105 - lightrag - ERROR - Error processing multimodal content: not enough values to unpack (expected 3, got 2)
2025-11-12 04:35:35,105 - lightrag - INFO - Individual multimodal content processing complete
2025-11-12 04:35:35,105 - lightrag - INFO - Document examples/test.txt processing complete!
2025-11-12 04:35:35,105 - lightrag - INFO -  Document processing completed!
2025-11-12 04:35:35,105 - lightrag - INFO - 
Querying processed document:
2025-11-12 04:35:35,106 - lightrag - INFO - 
[Query]: What is the main content of the document?
2025-11-12 04:35:35,106 - lightrag - INFO - Executing VLM enhanced query: What is the main content of the document?...
2025-11-12 04:35:35,107 - lightrag - INFO - LLM func: 4 new workers initialized (Timeouts: Func: 180s, Worker: 360s, Health Check: 375s)
2025-11-12 04:35:36,824 - lightrag - INFO -  == LLM cache == saving: hybrid:keywords:a6c2c406429d332704358613d7a7c2e4
2025-11-12 04:35:36,824 - lightrag - WARNING - low_level_keywords is empty
2025-11-12 04:35:36,836 - lightrag - WARNING - Failed to pre-compute query embedding: object list can't be used in 'await' expression
2025-11-12 04:35:36,836 - lightrag - INFO - Query edges: Main content, Document summary (top_k:40, cosine:0.2)
2025-11-12 04:35:36,844 - lightrag - ERROR - Embedding func: Error in decorated function for task 140484582437120_171729.645116151: object list can't be used in 'await' expression
2025-11-12 04:35:36,844 - lightrag - ERROR - Query failed: object list can't be used in 'await' expression
2025-11-12 04:35:36,844 - lightrag - INFO - Found 0 image path matches in prompt
2025-11-12 04:35:36,844 - lightrag - INFO - No valid images found, falling back to normal query
2025-11-12 04:35:36,845 - lightrag - WARNING - low_level_keywords is empty
2025-11-12 04:35:36,851 - lightrag - WARNING - Failed to pre-compute query embedding: object list can't be used in 'await' expression
2025-11-12 04:35:36,852 - lightrag - INFO - Query edges: Main content, Document summary (top_k:40, cosine:0.2)
2025-11-12 04:35:36,858 - lightrag - ERROR - Embedding func: Error in decorated function for task 140484582437120_171729.660820676: object list can't be used in 'await' expression
2025-11-12 04:35:36,859 - lightrag - ERROR - Query failed: object list can't be used in 'await' expression
2025-11-12 04:35:36,859 - lightrag - INFO - [Answer]: None
2025-11-12 04:35:36,859 - lightrag - INFO - 
[Query]: What are the key topics discussed?
2025-11-12 04:35:36,859 - lightrag - INFO - Executing VLM enhanced query: What are the key topics discussed?...
2025-11-12 04:35:38,288 - lightrag - INFO -  == LLM cache == saving: hybrid:keywords:cf38fd7a84e53a70fc8c6d5c32fe4db9
2025-11-12 04:35:38,288 - lightrag - WARNING - low_level_keywords is empty
2025-11-12 04:35:38,296 - lightrag - WARNING - Failed to pre-compute query embedding: object list can't be used in 'await' expression
2025-11-12 04:35:38,296 - lightrag - INFO - Query edges: Key topics (top_k:40, cosine:0.2)
2025-11-12 04:35:38,303 - lightrag - ERROR - Embedding func: Error in decorated function for task 140484582437120_171731.105206369: object list can't be used in 'await' expression
2025-11-12 04:35:38,304 - lightrag - ERROR - Query failed: object list can't be used in 'await' expression
2025-11-12 04:35:38,304 - lightrag - INFO - Found 0 image path matches in prompt
2025-11-12 04:35:38,304 - lightrag - INFO - No valid images found, falling back to normal query
2025-11-12 04:35:38,304 - lightrag - WARNING - low_level_keywords is empty
2025-11-12 04:35:38,311 - lightrag - WARNING - Failed to pre-compute query embedding: object list can't be used in 'await' expression
2025-11-12 04:35:38,311 - lightrag - INFO - Query edges: Key topics (top_k:40, cosine:0.2)
2025-11-12 04:35:38,317 - lightrag - ERROR - Embedding func: Error in decorated function for task 140484582437120_171731.120047326: object list can't be used in 'await' expression
2025-11-12 04:35:38,318 - lightrag - ERROR - Query failed: object list can't be used in 'await' expression
2025-11-12 04:35:38,318 - lightrag - INFO - [Answer]: None
2025-11-12 04:35:38,318 - lightrag - INFO - 
[Query]: Summarize it in 2 sentences.
2025-11-12 04:35:38,318 - lightrag - INFO - Executing VLM enhanced query: Summarize it in 2 sentences....
2025-11-12 04:35:39,821 - lightrag - INFO -  == LLM cache == saving: hybrid:keywords:4763ae24c8882b9acd533683adb0daa0
2025-11-12 04:35:39,821 - lightrag - WARNING - low_level_keywords is empty
2025-11-12 04:35:39,829 - lightrag - WARNING - Failed to pre-compute query embedding: object list can't be used in 'await' expression
2025-11-12 04:35:39,829 - lightrag - INFO - Query edges: Summarize (top_k:40, cosine:0.2)
2025-11-12 04:35:39,837 - lightrag - ERROR - Embedding func: Error in decorated function for task 140484582437120_171732.638333089: object list can't be used in 'await' expression
2025-11-12 04:35:39,837 - lightrag - ERROR - Query failed: object list can't be used in 'await' expression
2025-11-12 04:35:39,837 - lightrag - INFO - Found 0 image path matches in prompt
2025-11-12 04:35:39,837 - lightrag - INFO - No valid images found, falling back to normal query
2025-11-12 04:35:39,837 - lightrag - WARNING - low_level_keywords is empty
2025-11-12 04:35:39,844 - lightrag - WARNING - Failed to pre-compute query embedding: object list can't be used in 'await' expression
2025-11-12 04:35:39,844 - lightrag - INFO - Query edges: Summarize (top_k:40, cosine:0.2)
2025-11-12 04:35:39,851 - lightrag - ERROR - Embedding func: Error in decorated function for task 140484582437120_171732.653314768: object list can't be used in 'await' expression
2025-11-12 04:35:39,851 - lightrag - ERROR - Query failed: object list can't be used in 'await' expression
2025-11-12 04:35:39,851 - lightrag - INFO - [Answer]: None
2025-11-12 04:35:39,851 - lightrag - INFO - 
 Test completed successfully!
2025-11-12 04:37:54,009 - lightrag - INFO - Initializing Qwen model...
2025-11-12 04:38:06,143 - lightrag - INFO - RAGAnything initialized with config:
2025-11-12 04:38:06,144 - lightrag - INFO -   Working directory: ./rag_storage
2025-11-12 04:38:06,144 - lightrag - INFO -   Parser: mineru
2025-11-12 04:38:06,144 - lightrag - INFO -   Parse method: auto
2025-11-12 04:38:06,144 - lightrag - INFO -   Multimodal processing - Image: False, Table: True, Equation: False
2025-11-12 04:38:06,144 - lightrag - INFO -   Max concurrent files: 1
2025-11-12 04:38:06,144 - lightrag - INFO - Processing document: examples/test.txt
2025-11-12 04:38:08,957 - lightrag - INFO - Parser 'mineru' installation verified
2025-11-12 04:38:08,957 - lightrag - INFO - Initializing LightRAG with parameters: {'working_dir': './rag_storage'}
2025-11-12 04:38:10,306 - lightrag - INFO - [_] Created new empty graph file: ./rag_storage/graph_chunk_entity_relation.graphml
2025-11-12 04:38:10,306 - lightrag - INFO - [_] Process 1086243 KV load full_docs with 0 records
2025-11-12 04:38:10,307 - lightrag - INFO - [_] Process 1086243 KV load text_chunks with 0 records
2025-11-12 04:38:10,307 - lightrag - INFO - [_] Process 1086243 KV load full_entities with 0 records
2025-11-12 04:38:10,307 - lightrag - INFO - [_] Process 1086243 KV load full_relations with 0 records
2025-11-12 04:38:10,307 - lightrag - INFO - [_] Process 1086243 KV load entity_chunks with 0 records
2025-11-12 04:38:10,307 - lightrag - INFO - [_] Process 1086243 KV load relation_chunks with 0 records
2025-11-12 04:38:10,307 - lightrag - INFO - [_] Process 1086243 KV load llm_response_cache with 0 records
2025-11-12 04:38:10,308 - lightrag - INFO - [_] Process 1086243 doc status load doc_status with 0 records
2025-11-12 04:38:10,308 - lightrag - INFO - [_] Process 1086243 KV load parse_cache with 3 records
2025-11-12 04:38:10,309 - lightrag - INFO - Multimodal processors initialized with context support
2025-11-12 04:38:10,309 - lightrag - INFO - Available processors: ['table', 'generic']
2025-11-12 04:38:10,309 - lightrag - INFO - Context configuration: ContextConfig(context_window=1, context_mode='page', max_context_tokens=2000, include_headers=True, include_captions=True, filter_content_types=['text'])
2025-11-12 04:38:10,309 - lightrag - INFO - LightRAG, parse cache, and multimodal processors initialized
2025-11-12 04:38:10,309 - lightrag - INFO - Starting complete document processing: examples/test.txt
2025-11-12 04:38:10,309 - lightrag - INFO - Starting document parsing: examples/test.txt
2025-11-12 04:38:10,310 - lightrag - INFO - Using cached parsing result for: examples/test.txt
2025-11-12 04:38:10,310 - lightrag - INFO - * Total blocks in cached content_list: 1
2025-11-12 04:38:10,310 - lightrag - INFO - Content separation complete:
2025-11-12 04:38:10,310 - lightrag - INFO -   - Text content length: 0 characters
2025-11-12 04:38:10,310 - lightrag - INFO -   - Multimodal items count: 1
2025-11-12 04:38:10,310 - lightrag - INFO -   - Multimodal type distribution: {'discarded': 1}
2025-11-12 04:38:10,310 - lightrag - INFO - Setting content source for context-aware multimodal processing...
2025-11-12 04:38:10,310 - lightrag - INFO - Content source set with format: minerU
2025-11-12 04:38:10,310 - lightrag - INFO - Content source set with format: minerU
2025-11-12 04:38:10,310 - lightrag - INFO - Content source set for context extraction (format: minerU)
2025-11-12 04:38:10,310 - lightrag - INFO - Starting multimodal content processing...
2025-11-12 04:38:10,310 - lightrag - INFO - Starting to process 1 multimodal content items
2025-11-12 04:38:16,361 - lightrag - WARNING - Using regex fallback for JSON parsing
2025-11-12 04:38:16,362 - lightrag - ERROR - Error parsing discarded analysis response: Missing required fields in response
2025-11-12 04:38:16,362 - lightrag - INFO - Multimodal chunk generation progress: 1/1 (100.0%)
2025-11-12 04:38:16,362 - lightrag - INFO - Generated descriptions for 1/1 multimodal items using correct processors
2025-11-12 04:38:16,364 - lightrag - INFO - Embedding func: 8 new workers initialized (Timeouts: Func: 30s, Worker: 60s, Health Check: 75s)
2025-11-12 04:38:16,453 - lightrag - ERROR - Embedding func: Error in decorated function for task 140127406316096_171889.173347576: object list can't be used in 'await' expression
2025-11-12 04:38:16,453 - lightrag - ERROR - Error storing chunks to storage: object list can't be used in 'await' expression
2025-11-12 04:38:16,454 - lightrag - ERROR - Error in multimodal processing: object list can't be used in 'await' expression
2025-11-12 04:38:16,454 - lightrag - WARNING - Falling back to individual multimodal processing
2025-11-12 04:38:16,454 - lightrag - INFO - Processing item 1/1: discarded content
2025-11-12 04:38:21,962 - lightrag - WARNING - Using regex fallback for JSON parsing
2025-11-12 04:38:21,963 - lightrag - ERROR - Error parsing discarded analysis response: Missing required fields in response
2025-11-12 04:38:21,972 - lightrag - ERROR - Embedding func: Error in decorated function for task 140127406320880_171894.772484939: object list can't be used in 'await' expression
2025-11-12 04:38:21,973 - lightrag - ERROR - Error processing discarded content: object list can't be used in 'await' expression
2025-11-12 04:38:21,973 - lightrag - ERROR - Error processing multimodal content: not enough values to unpack (expected 3, got 2)
2025-11-12 04:38:21,973 - lightrag - INFO - Individual multimodal content processing complete
2025-11-12 04:38:21,973 - lightrag - INFO - Document examples/test.txt processing complete!
2025-11-12 04:38:21,973 - lightrag - INFO -  Document processing completed!
2025-11-12 04:38:21,973 - lightrag - INFO - 
Querying processed document:
2025-11-12 04:38:21,973 - lightrag - INFO - 
[Query]: What is the main content of the document?
2025-11-12 04:38:21,973 - lightrag - INFO - Executing VLM enhanced query: What is the main content of the document?...
2025-11-12 04:38:21,974 - lightrag - INFO - LLM func: 4 new workers initialized (Timeouts: Func: 180s, Worker: 360s, Health Check: 375s)
2025-11-12 04:38:23,758 - lightrag - INFO -  == LLM cache == saving: hybrid:keywords:a6c2c406429d332704358613d7a7c2e4
2025-11-12 04:38:23,758 - lightrag - WARNING - low_level_keywords is empty
2025-11-12 04:38:23,770 - lightrag - WARNING - Failed to pre-compute query embedding: object list can't be used in 'await' expression
2025-11-12 04:38:23,770 - lightrag - INFO - Query edges: Main content, Document summary (top_k:40, cosine:0.2)
2025-11-12 04:38:23,778 - lightrag - ERROR - Embedding func: Error in decorated function for task 140121298825472_171896.579113767: object list can't be used in 'await' expression
2025-11-12 04:38:23,778 - lightrag - ERROR - Query failed: object list can't be used in 'await' expression
2025-11-12 04:38:23,779 - lightrag - INFO - Found 0 image path matches in prompt
2025-11-12 04:38:23,779 - lightrag - INFO - No valid images found, falling back to normal query
2025-11-12 04:38:23,779 - lightrag - WARNING - low_level_keywords is empty
2025-11-12 04:38:23,786 - lightrag - WARNING - Failed to pre-compute query embedding: object list can't be used in 'await' expression
2025-11-12 04:38:23,787 - lightrag - INFO - Query edges: Main content, Document summary (top_k:40, cosine:0.2)
2025-11-12 04:38:23,794 - lightrag - ERROR - Embedding func: Error in decorated function for task 140121298825472_171896.595813401: object list can't be used in 'await' expression
2025-11-12 04:38:23,794 - lightrag - ERROR - Query failed: object list can't be used in 'await' expression
2025-11-12 04:38:23,794 - lightrag - INFO - [Answer]: None
2025-11-12 04:38:23,794 - lightrag - INFO - 
[Query]: What are the key topics discussed?
2025-11-12 04:38:23,794 - lightrag - INFO - Executing VLM enhanced query: What are the key topics discussed?...
2025-11-12 04:38:25,277 - lightrag - INFO -  == LLM cache == saving: hybrid:keywords:cf38fd7a84e53a70fc8c6d5c32fe4db9
2025-11-12 04:38:25,277 - lightrag - WARNING - low_level_keywords is empty
2025-11-12 04:38:25,285 - lightrag - WARNING - Failed to pre-compute query embedding: object list can't be used in 'await' expression
2025-11-12 04:38:25,285 - lightrag - INFO - Query edges: Key topics (top_k:40, cosine:0.2)
2025-11-12 04:38:25,293 - lightrag - ERROR - Embedding func: Error in decorated function for task 140121298825472_171898.09401759: object list can't be used in 'await' expression
2025-11-12 04:38:25,293 - lightrag - ERROR - Query failed: object list can't be used in 'await' expression
2025-11-12 04:38:25,293 - lightrag - INFO - Found 0 image path matches in prompt
2025-11-12 04:38:25,293 - lightrag - INFO - No valid images found, falling back to normal query
2025-11-12 04:38:25,294 - lightrag - WARNING - low_level_keywords is empty
2025-11-12 04:38:25,301 - lightrag - WARNING - Failed to pre-compute query embedding: object list can't be used in 'await' expression
2025-11-12 04:38:25,301 - lightrag - INFO - Query edges: Key topics (top_k:40, cosine:0.2)
2025-11-12 04:38:25,309 - lightrag - ERROR - Embedding func: Error in decorated function for task 140121298825472_171898.110246584: object list can't be used in 'await' expression
2025-11-12 04:38:25,309 - lightrag - ERROR - Query failed: object list can't be used in 'await' expression
2025-11-12 04:38:25,309 - lightrag - INFO - [Answer]: None
2025-11-12 04:38:25,309 - lightrag - INFO - 
[Query]: Summarize it in 2 sentences.
2025-11-12 04:38:25,309 - lightrag - INFO - Executing VLM enhanced query: Summarize it in 2 sentences....
2025-11-12 04:38:26,860 - lightrag - INFO -  == LLM cache == saving: hybrid:keywords:4763ae24c8882b9acd533683adb0daa0
2025-11-12 04:38:26,860 - lightrag - WARNING - low_level_keywords is empty
2025-11-12 04:38:26,868 - lightrag - WARNING - Failed to pre-compute query embedding: object list can't be used in 'await' expression
2025-11-12 04:38:26,868 - lightrag - INFO - Query edges: Summarize (top_k:40, cosine:0.2)
2025-11-12 04:38:26,875 - lightrag - ERROR - Embedding func: Error in decorated function for task 140121298825472_171899.677259951: object list can't be used in 'await' expression
2025-11-12 04:38:26,876 - lightrag - ERROR - Query failed: object list can't be used in 'await' expression
2025-11-12 04:38:26,876 - lightrag - INFO - Found 0 image path matches in prompt
2025-11-12 04:38:26,876 - lightrag - INFO - No valid images found, falling back to normal query
2025-11-12 04:38:26,876 - lightrag - WARNING - low_level_keywords is empty
2025-11-12 04:38:26,883 - lightrag - WARNING - Failed to pre-compute query embedding: object list can't be used in 'await' expression
2025-11-12 04:38:26,883 - lightrag - INFO - Query edges: Summarize (top_k:40, cosine:0.2)
2025-11-12 04:38:26,889 - lightrag - ERROR - Embedding func: Error in decorated function for task 140121298825472_171899.691998879: object list can't be used in 'await' expression
2025-11-12 04:38:26,890 - lightrag - ERROR - Query failed: object list can't be used in 'await' expression
2025-11-12 04:38:26,890 - lightrag - INFO - [Answer]: None
2025-11-12 04:38:26,890 - lightrag - INFO - 
 Test completed successfully!
2025-11-12 04:39:56,644 - lightrag - INFO - Initializing Qwen model...
2025-11-12 04:40:09,174 - lightrag - INFO - RAGAnything initialized with config:
2025-11-12 04:40:09,175 - lightrag - INFO -   Working directory: ./rag_storage
2025-11-12 04:40:09,175 - lightrag - INFO -   Parser: mineru
2025-11-12 04:40:09,175 - lightrag - INFO -   Parse method: auto
2025-11-12 04:40:09,175 - lightrag - INFO -   Multimodal processing - Image: False, Table: True, Equation: False
2025-11-12 04:40:09,175 - lightrag - INFO -   Max concurrent files: 1
2025-11-12 04:40:09,175 - lightrag - INFO - Processing document: examples/test.txt
2025-11-12 04:40:11,979 - lightrag - INFO - Parser 'mineru' installation verified
2025-11-12 04:40:11,980 - lightrag - INFO - Initializing LightRAG with parameters: {'working_dir': './rag_storage'}
2025-11-12 04:40:13,346 - lightrag - INFO - [_] Created new empty graph file: ./rag_storage/graph_chunk_entity_relation.graphml
2025-11-12 04:40:13,347 - lightrag - INFO - [_] Process 1086771 KV load full_docs with 0 records
2025-11-12 04:40:13,347 - lightrag - INFO - [_] Process 1086771 KV load text_chunks with 0 records
2025-11-12 04:40:13,348 - lightrag - INFO - [_] Process 1086771 KV load full_entities with 0 records
2025-11-12 04:40:13,348 - lightrag - INFO - [_] Process 1086771 KV load full_relations with 0 records
2025-11-12 04:40:13,348 - lightrag - INFO - [_] Process 1086771 KV load entity_chunks with 0 records
2025-11-12 04:40:13,348 - lightrag - INFO - [_] Process 1086771 KV load relation_chunks with 0 records
2025-11-12 04:40:13,348 - lightrag - INFO - [_] Process 1086771 KV load llm_response_cache with 0 records
2025-11-12 04:40:13,348 - lightrag - INFO - [_] Process 1086771 doc status load doc_status with 0 records
2025-11-12 04:40:13,349 - lightrag - INFO - [_] Process 1086771 KV load parse_cache with 3 records
2025-11-12 04:40:13,350 - lightrag - INFO - Multimodal processors initialized with context support
2025-11-12 04:40:13,350 - lightrag - INFO - Available processors: ['table', 'generic']
2025-11-12 04:40:13,350 - lightrag - INFO - Context configuration: ContextConfig(context_window=1, context_mode='page', max_context_tokens=2000, include_headers=True, include_captions=True, filter_content_types=['text'])
2025-11-12 04:40:13,350 - lightrag - INFO - LightRAG, parse cache, and multimodal processors initialized
2025-11-12 04:40:13,350 - lightrag - INFO - Starting complete document processing: examples/test.txt
2025-11-12 04:40:13,350 - lightrag - INFO - Starting document parsing: examples/test.txt
2025-11-12 04:40:13,350 - lightrag - INFO - Using cached parsing result for: examples/test.txt
2025-11-12 04:40:13,350 - lightrag - INFO - * Total blocks in cached content_list: 1
2025-11-12 04:40:13,350 - lightrag - INFO - Content separation complete:
2025-11-12 04:40:13,351 - lightrag - INFO -   - Text content length: 0 characters
2025-11-12 04:40:13,351 - lightrag - INFO -   - Multimodal items count: 1
2025-11-12 04:40:13,351 - lightrag - INFO -   - Multimodal type distribution: {'discarded': 1}
2025-11-12 04:40:13,351 - lightrag - INFO - Setting content source for context-aware multimodal processing...
2025-11-12 04:40:13,351 - lightrag - INFO - Content source set with format: minerU
2025-11-12 04:40:13,351 - lightrag - INFO - Content source set with format: minerU
2025-11-12 04:40:13,351 - lightrag - INFO - Content source set for context extraction (format: minerU)
2025-11-12 04:40:13,351 - lightrag - INFO - Starting multimodal content processing...
2025-11-12 04:40:13,351 - lightrag - INFO - Starting to process 1 multimodal content items
2025-11-12 04:40:19,418 - lightrag - WARNING - Using regex fallback for JSON parsing
2025-11-12 04:40:19,418 - lightrag - ERROR - Error parsing discarded analysis response: Missing required fields in response
2025-11-12 04:40:19,419 - lightrag - INFO - Multimodal chunk generation progress: 1/1 (100.0%)
2025-11-12 04:40:19,419 - lightrag - INFO - Generated descriptions for 1/1 multimodal items using correct processors
2025-11-12 04:40:19,420 - lightrag - INFO - Embedding func: 8 new workers initialized (Timeouts: Func: 30s, Worker: 60s, Health Check: 75s)
2025-11-12 04:40:19,513 - lightrag - ERROR - Embedding func: Error in decorated function for task 140258306218560_172012.22958964: object list can't be used in 'await' expression
2025-11-12 04:40:19,514 - lightrag - ERROR - Error storing chunks to storage: object list can't be used in 'await' expression
2025-11-12 04:40:19,514 - lightrag - ERROR - Error in multimodal processing: object list can't be used in 'await' expression
2025-11-12 04:40:19,514 - lightrag - WARNING - Falling back to individual multimodal processing
2025-11-12 04:40:19,514 - lightrag - INFO - Processing item 1/1: discarded content
2025-11-12 04:40:25,063 - lightrag - WARNING - Using regex fallback for JSON parsing
2025-11-12 04:40:25,063 - lightrag - ERROR - Error parsing discarded analysis response: Missing required fields in response
2025-11-12 04:40:25,072 - lightrag - ERROR - Embedding func: Error in decorated function for task 140258306223344_172017.872655046: object list can't be used in 'await' expression
2025-11-12 04:40:25,073 - lightrag - ERROR - Error processing discarded content: object list can't be used in 'await' expression
2025-11-12 04:40:25,073 - lightrag - ERROR - Error processing multimodal content: not enough values to unpack (expected 3, got 2)
2025-11-12 04:40:25,073 - lightrag - INFO - Individual multimodal content processing complete
2025-11-12 04:40:25,073 - lightrag - INFO - Document examples/test.txt processing complete!
2025-11-12 04:40:25,073 - lightrag - INFO -  Document processing completed!
2025-11-12 04:40:25,073 - lightrag - INFO - 
Querying processed document:
2025-11-12 04:40:25,073 - lightrag - INFO - 
[Query]: What is the main content of the document?
2025-11-12 04:40:25,073 - lightrag - INFO - Executing VLM enhanced query: What is the main content of the document?...
2025-11-12 04:40:25,074 - lightrag - INFO - LLM func: 4 new workers initialized (Timeouts: Func: 180s, Worker: 360s, Health Check: 375s)
2025-11-12 04:40:26,843 - lightrag - INFO -  == LLM cache == saving: hybrid:keywords:a6c2c406429d332704358613d7a7c2e4
2025-11-12 04:40:26,843 - lightrag - WARNING - low_level_keywords is empty
2025-11-12 04:40:26,855 - lightrag - WARNING - Failed to pre-compute query embedding: object list can't be used in 'await' expression
2025-11-12 04:40:26,855 - lightrag - INFO - Query edges: Main content, Document summary (top_k:40, cosine:0.2)
2025-11-12 04:40:26,863 - lightrag - ERROR - Embedding func: Error in decorated function for task 140252166287616_172019.664042537: object list can't be used in 'await' expression
2025-11-12 04:40:26,863 - lightrag - ERROR - Query failed: object list can't be used in 'await' expression
2025-11-12 04:40:26,863 - lightrag - INFO - Found 0 image path matches in prompt
2025-11-12 04:40:26,863 - lightrag - INFO - No valid images found, falling back to normal query
2025-11-12 04:40:26,864 - lightrag - WARNING - low_level_keywords is empty
2025-11-12 04:40:26,871 - lightrag - WARNING - Failed to pre-compute query embedding: object list can't be used in 'await' expression
2025-11-12 04:40:26,871 - lightrag - INFO - Query edges: Main content, Document summary (top_k:40, cosine:0.2)
2025-11-12 04:40:26,878 - lightrag - ERROR - Embedding func: Error in decorated function for task 140252166287616_172019.680078915: object list can't be used in 'await' expression
2025-11-12 04:40:26,878 - lightrag - ERROR - Query failed: object list can't be used in 'await' expression
2025-11-12 04:40:26,878 - lightrag - INFO - [Answer]: None
2025-11-12 04:40:26,878 - lightrag - INFO - 
[Query]: What are the key topics discussed?
2025-11-12 04:40:26,878 - lightrag - INFO - Executing VLM enhanced query: What are the key topics discussed?...
2025-11-12 04:40:28,350 - lightrag - INFO -  == LLM cache == saving: hybrid:keywords:cf38fd7a84e53a70fc8c6d5c32fe4db9
2025-11-12 04:40:28,350 - lightrag - WARNING - low_level_keywords is empty
2025-11-12 04:40:28,358 - lightrag - WARNING - Failed to pre-compute query embedding: object list can't be used in 'await' expression
2025-11-12 04:40:28,359 - lightrag - INFO - Query edges: Key topics (top_k:40, cosine:0.2)
2025-11-12 04:40:28,366 - lightrag - ERROR - Embedding func: Error in decorated function for task 140252166287616_172021.167815298: object list can't be used in 'await' expression
2025-11-12 04:40:28,366 - lightrag - ERROR - Query failed: object list can't be used in 'await' expression
2025-11-12 04:40:28,367 - lightrag - INFO - Found 0 image path matches in prompt
2025-11-12 04:40:28,367 - lightrag - INFO - No valid images found, falling back to normal query
2025-11-12 04:40:28,367 - lightrag - WARNING - low_level_keywords is empty
2025-11-12 04:40:28,374 - lightrag - WARNING - Failed to pre-compute query embedding: object list can't be used in 'await' expression
2025-11-12 04:40:28,374 - lightrag - INFO - Query edges: Key topics (top_k:40, cosine:0.2)
2025-11-12 04:40:28,381 - lightrag - ERROR - Embedding func: Error in decorated function for task 140252166287616_172021.183318663: object list can't be used in 'await' expression
2025-11-12 04:40:28,381 - lightrag - ERROR - Query failed: object list can't be used in 'await' expression
2025-11-12 04:40:28,381 - lightrag - INFO - [Answer]: None
2025-11-12 04:40:28,381 - lightrag - INFO - 
[Query]: Summarize it in 2 sentences.
2025-11-12 04:40:28,381 - lightrag - INFO - Executing VLM enhanced query: Summarize it in 2 sentences....
2025-11-12 04:40:29,921 - lightrag - INFO -  == LLM cache == saving: hybrid:keywords:4763ae24c8882b9acd533683adb0daa0
2025-11-12 04:40:29,921 - lightrag - WARNING - low_level_keywords is empty
2025-11-12 04:40:29,929 - lightrag - WARNING - Failed to pre-compute query embedding: object list can't be used in 'await' expression
2025-11-12 04:40:29,929 - lightrag - INFO - Query edges: Summarize (top_k:40, cosine:0.2)
2025-11-12 04:40:29,937 - lightrag - ERROR - Embedding func: Error in decorated function for task 140252166287616_172022.738468547: object list can't be used in 'await' expression
2025-11-12 04:40:29,937 - lightrag - ERROR - Query failed: object list can't be used in 'await' expression
2025-11-12 04:40:29,937 - lightrag - INFO - Found 0 image path matches in prompt
2025-11-12 04:40:29,937 - lightrag - INFO - No valid images found, falling back to normal query
2025-11-12 04:40:29,938 - lightrag - WARNING - low_level_keywords is empty
2025-11-12 04:40:29,944 - lightrag - WARNING - Failed to pre-compute query embedding: object list can't be used in 'await' expression
2025-11-12 04:40:29,945 - lightrag - INFO - Query edges: Summarize (top_k:40, cosine:0.2)
2025-11-12 04:40:29,951 - lightrag - ERROR - Embedding func: Error in decorated function for task 140252166287616_172022.753805411: object list can't be used in 'await' expression
2025-11-12 04:40:29,952 - lightrag - ERROR - Query failed: object list can't be used in 'await' expression
2025-11-12 04:40:29,952 - lightrag - INFO - [Answer]: None
2025-11-12 04:40:29,952 - lightrag - INFO - 
 Test completed successfully!
2025-11-12 04:42:14,907 - lightrag - INFO - Initializing Qwen model...
2025-11-12 04:42:27,852 - lightrag - INFO - RAGAnything initialized with config:
2025-11-12 04:42:27,853 - lightrag - INFO -   Working directory: ./rag_storage
2025-11-12 04:42:27,853 - lightrag - INFO -   Parser: mineru
2025-11-12 04:42:27,853 - lightrag - INFO -   Parse method: auto
2025-11-12 04:42:27,853 - lightrag - INFO -   Multimodal processing - Image: False, Table: True, Equation: False
2025-11-12 04:42:27,853 - lightrag - INFO -   Max concurrent files: 1
2025-11-12 04:42:27,853 - lightrag - INFO - Processing document: examples/test.txt
2025-11-12 04:42:30,655 - lightrag - INFO - Parser 'mineru' installation verified
2025-11-12 04:42:30,655 - lightrag - INFO - Initializing LightRAG with parameters: {'working_dir': './rag_storage'}
2025-11-12 04:42:31,967 - lightrag - INFO - [_] Created new empty graph file: ./rag_storage/graph_chunk_entity_relation.graphml
2025-11-12 04:42:31,968 - lightrag - INFO - [_] Process 1087418 KV load full_docs with 0 records
2025-11-12 04:42:31,968 - lightrag - INFO - [_] Process 1087418 KV load text_chunks with 0 records
2025-11-12 04:42:31,968 - lightrag - INFO - [_] Process 1087418 KV load full_entities with 0 records
2025-11-12 04:42:31,968 - lightrag - INFO - [_] Process 1087418 KV load full_relations with 0 records
2025-11-12 04:42:31,968 - lightrag - INFO - [_] Process 1087418 KV load entity_chunks with 0 records
2025-11-12 04:42:31,969 - lightrag - INFO - [_] Process 1087418 KV load relation_chunks with 0 records
2025-11-12 04:42:31,969 - lightrag - INFO - [_] Process 1087418 KV load llm_response_cache with 0 records
2025-11-12 04:42:31,969 - lightrag - INFO - [_] Process 1087418 doc status load doc_status with 0 records
2025-11-12 04:42:31,970 - lightrag - INFO - [_] Process 1087418 KV load parse_cache with 3 records
2025-11-12 04:42:31,970 - lightrag - INFO - Multimodal processors initialized with context support
2025-11-12 04:42:31,970 - lightrag - INFO - Available processors: ['table', 'generic']
2025-11-12 04:42:31,970 - lightrag - INFO - Context configuration: ContextConfig(context_window=1, context_mode='page', max_context_tokens=2000, include_headers=True, include_captions=True, filter_content_types=['text'])
2025-11-12 04:42:31,970 - lightrag - INFO - LightRAG, parse cache, and multimodal processors initialized
2025-11-12 04:42:31,970 - lightrag - INFO - Starting complete document processing: examples/test.txt
2025-11-12 04:42:31,971 - lightrag - INFO - Starting document parsing: examples/test.txt
2025-11-12 04:42:31,971 - lightrag - INFO - Using cached parsing result for: examples/test.txt
2025-11-12 04:42:31,971 - lightrag - INFO - * Total blocks in cached content_list: 1
2025-11-12 04:42:31,971 - lightrag - INFO - Content separation complete:
2025-11-12 04:42:31,971 - lightrag - INFO -   - Text content length: 0 characters
2025-11-12 04:42:31,971 - lightrag - INFO -   - Multimodal items count: 1
2025-11-12 04:42:31,971 - lightrag - INFO -   - Multimodal type distribution: {'discarded': 1}
2025-11-12 04:42:31,971 - lightrag - INFO - Setting content source for context-aware multimodal processing...
2025-11-12 04:42:31,971 - lightrag - INFO - Content source set with format: minerU
2025-11-12 04:42:31,971 - lightrag - INFO - Content source set with format: minerU
2025-11-12 04:42:31,971 - lightrag - INFO - Content source set for context extraction (format: minerU)
2025-11-12 04:42:31,971 - lightrag - INFO - Starting multimodal content processing...
2025-11-12 04:42:31,971 - lightrag - INFO - Starting to process 1 multimodal content items
2025-11-12 04:42:37,947 - lightrag - WARNING - Using regex fallback for JSON parsing
2025-11-12 04:42:37,948 - lightrag - ERROR - Error parsing discarded analysis response: Missing required fields in response
2025-11-12 04:42:37,948 - lightrag - INFO - Multimodal chunk generation progress: 1/1 (100.0%)
2025-11-12 04:42:37,949 - lightrag - INFO - Generated descriptions for 1/1 multimodal items using correct processors
2025-11-12 04:42:37,951 - lightrag - INFO - Embedding func: 8 new workers initialized (Timeouts: Func: 30s, Worker: 60s, Health Check: 75s)
2025-11-12 04:42:38,041 - lightrag - ERROR - Embedding func: Error in decorated function for task 139830647773760_172150.760072256: object list can't be used in 'await' expression
2025-11-12 04:42:38,041 - lightrag - ERROR - Error storing chunks to storage: object list can't be used in 'await' expression
2025-11-12 04:42:38,041 - lightrag - ERROR - Error in multimodal processing: object list can't be used in 'await' expression
2025-11-12 04:42:38,041 - lightrag - WARNING - Falling back to individual multimodal processing
2025-11-12 04:42:38,042 - lightrag - INFO - Processing item 1/1: discarded content
2025-11-12 04:42:43,502 - lightrag - WARNING - Using regex fallback for JSON parsing
2025-11-12 04:42:43,503 - lightrag - ERROR - Error parsing discarded analysis response: Missing required fields in response
2025-11-12 04:42:43,511 - lightrag - ERROR - Embedding func: Error in decorated function for task 139830647778544_172156.312237045: object list can't be used in 'await' expression
2025-11-12 04:42:43,512 - lightrag - ERROR - Error processing discarded content: object list can't be used in 'await' expression
2025-11-12 04:42:43,512 - lightrag - ERROR - Error processing multimodal content: not enough values to unpack (expected 3, got 2)
2025-11-12 04:42:43,512 - lightrag - INFO - Individual multimodal content processing complete
2025-11-12 04:42:43,512 - lightrag - INFO - Document examples/test.txt processing complete!
2025-11-12 04:42:43,512 - lightrag - INFO -  Document processing completed!
2025-11-12 04:42:43,512 - lightrag - INFO - 
Querying processed document:
2025-11-12 04:42:43,512 - lightrag - INFO - 
[Query]: What is the main content of the document?
2025-11-12 04:42:43,513 - lightrag - INFO - Executing VLM enhanced query: What is the main content of the document?...
2025-11-12 04:42:43,514 - lightrag - INFO - LLM func: 4 new workers initialized (Timeouts: Func: 180s, Worker: 360s, Health Check: 375s)
2025-11-12 04:42:45,235 - lightrag - INFO -  == LLM cache == saving: hybrid:keywords:a6c2c406429d332704358613d7a7c2e4
2025-11-12 04:42:45,235 - lightrag - WARNING - low_level_keywords is empty
2025-11-12 04:42:45,246 - lightrag - WARNING - Failed to pre-compute query embedding: object list can't be used in 'await' expression
2025-11-12 04:42:45,247 - lightrag - INFO - Query edges: Main content, Document summary (top_k:40, cosine:0.2)
2025-11-12 04:42:45,254 - lightrag - ERROR - Embedding func: Error in decorated function for task 139824541413632_172158.055753896: object list can't be used in 'await' expression
2025-11-12 04:42:45,254 - lightrag - ERROR - Query failed: object list can't be used in 'await' expression
2025-11-12 04:42:45,255 - lightrag - INFO - Found 0 image path matches in prompt
2025-11-12 04:42:45,255 - lightrag - INFO - No valid images found, falling back to normal query
2025-11-12 04:42:45,255 - lightrag - WARNING - low_level_keywords is empty
2025-11-12 04:42:45,262 - lightrag - WARNING - Failed to pre-compute query embedding: object list can't be used in 'await' expression
2025-11-12 04:42:45,262 - lightrag - INFO - Query edges: Main content, Document summary (top_k:40, cosine:0.2)
2025-11-12 04:42:45,269 - lightrag - ERROR - Embedding func: Error in decorated function for task 139824541413632_172158.071290073: object list can't be used in 'await' expression
2025-11-12 04:42:45,269 - lightrag - ERROR - Query failed: object list can't be used in 'await' expression
2025-11-12 04:42:45,269 - lightrag - INFO - [Answer]: None
2025-11-12 04:42:45,269 - lightrag - INFO - 
[Query]: What are the key topics discussed?
2025-11-12 04:42:45,269 - lightrag - INFO - Executing VLM enhanced query: What are the key topics discussed?...
2025-11-12 04:42:46,732 - lightrag - INFO -  == LLM cache == saving: hybrid:keywords:cf38fd7a84e53a70fc8c6d5c32fe4db9
2025-11-12 04:42:46,732 - lightrag - WARNING - low_level_keywords is empty
2025-11-12 04:42:46,739 - lightrag - WARNING - Failed to pre-compute query embedding: object list can't be used in 'await' expression
2025-11-12 04:42:46,740 - lightrag - INFO - Query edges: Key topics (top_k:40, cosine:0.2)
2025-11-12 04:42:46,747 - lightrag - ERROR - Embedding func: Error in decorated function for task 139824541413632_172159.548862806: object list can't be used in 'await' expression
2025-11-12 04:42:46,747 - lightrag - ERROR - Query failed: object list can't be used in 'await' expression
2025-11-12 04:42:46,747 - lightrag - INFO - Found 0 image path matches in prompt
2025-11-12 04:42:46,747 - lightrag - INFO - No valid images found, falling back to normal query
2025-11-12 04:42:46,748 - lightrag - WARNING - low_level_keywords is empty
2025-11-12 04:42:46,754 - lightrag - WARNING - Failed to pre-compute query embedding: object list can't be used in 'await' expression
2025-11-12 04:42:46,754 - lightrag - INFO - Query edges: Key topics (top_k:40, cosine:0.2)
2025-11-12 04:42:46,761 - lightrag - ERROR - Embedding func: Error in decorated function for task 139824541413632_172159.563589618: object list can't be used in 'await' expression
2025-11-12 04:42:46,761 - lightrag - ERROR - Query failed: object list can't be used in 'await' expression
2025-11-12 04:42:46,761 - lightrag - INFO - [Answer]: None
2025-11-12 04:42:46,761 - lightrag - INFO - 
[Query]: Summarize it in 2 sentences.
2025-11-12 04:42:46,761 - lightrag - INFO - Executing VLM enhanced query: Summarize it in 2 sentences....
2025-11-12 04:42:48,304 - lightrag - INFO -  == LLM cache == saving: hybrid:keywords:4763ae24c8882b9acd533683adb0daa0
2025-11-12 04:42:48,304 - lightrag - WARNING - low_level_keywords is empty
2025-11-12 04:42:48,312 - lightrag - WARNING - Failed to pre-compute query embedding: object list can't be used in 'await' expression
2025-11-12 04:42:48,312 - lightrag - INFO - Query edges: Summarize (top_k:40, cosine:0.2)
2025-11-12 04:42:48,319 - lightrag - ERROR - Embedding func: Error in decorated function for task 139824541413632_172161.121205411: object list can't be used in 'await' expression
2025-11-12 04:42:48,320 - lightrag - ERROR - Query failed: object list can't be used in 'await' expression
2025-11-12 04:42:48,320 - lightrag - INFO - Found 0 image path matches in prompt
2025-11-12 04:42:48,320 - lightrag - INFO - No valid images found, falling back to normal query
2025-11-12 04:42:48,320 - lightrag - WARNING - low_level_keywords is empty
2025-11-12 04:42:48,327 - lightrag - WARNING - Failed to pre-compute query embedding: object list can't be used in 'await' expression
2025-11-12 04:42:48,327 - lightrag - INFO - Query edges: Summarize (top_k:40, cosine:0.2)
2025-11-12 04:42:48,334 - lightrag - ERROR - Embedding func: Error in decorated function for task 139824541413632_172161.136245592: object list can't be used in 'await' expression
2025-11-12 04:42:48,334 - lightrag - ERROR - Query failed: object list can't be used in 'await' expression
2025-11-12 04:42:48,334 - lightrag - INFO - [Answer]: None
2025-11-12 04:42:48,334 - lightrag - INFO - 
 Test completed successfully!
2025-11-12 04:44:56,611 - lightrag - INFO - Initializing Qwen model...
2025-11-12 04:45:08,672 - lightrag - INFO - RAGAnything initialized with config:
2025-11-12 04:45:08,672 - lightrag - INFO -   Working directory: ./rag_storage
2025-11-12 04:45:08,673 - lightrag - INFO -   Parser: mineru
2025-11-12 04:45:08,673 - lightrag - INFO -   Parse method: auto
2025-11-12 04:45:08,673 - lightrag - INFO -   Multimodal processing - Image: False, Table: True, Equation: False
2025-11-12 04:45:08,673 - lightrag - INFO -   Max concurrent files: 1
2025-11-12 04:45:08,673 - lightrag - INFO - Processing document: examples/test.txt
2025-11-12 04:45:11,467 - lightrag - INFO - Parser 'mineru' installation verified
2025-11-12 04:45:11,467 - lightrag - INFO - Initializing LightRAG with parameters: {'working_dir': './rag_storage'}
2025-11-12 04:45:12,815 - lightrag - INFO - [_] Created new empty graph file: ./rag_storage/graph_chunk_entity_relation.graphml
2025-11-12 04:45:12,816 - lightrag - INFO - [_] Process 1087993 KV load full_docs with 0 records
2025-11-12 04:45:12,816 - lightrag - INFO - [_] Process 1087993 KV load text_chunks with 0 records
2025-11-12 04:45:12,816 - lightrag - INFO - [_] Process 1087993 KV load full_entities with 0 records
2025-11-12 04:45:12,816 - lightrag - INFO - [_] Process 1087993 KV load full_relations with 0 records
2025-11-12 04:45:12,816 - lightrag - INFO - [_] Process 1087993 KV load entity_chunks with 0 records
2025-11-12 04:45:12,816 - lightrag - INFO - [_] Process 1087993 KV load relation_chunks with 0 records
2025-11-12 04:45:12,817 - lightrag - INFO - [_] Process 1087993 KV load llm_response_cache with 0 records
2025-11-12 04:45:12,817 - lightrag - INFO - [_] Process 1087993 doc status load doc_status with 0 records
2025-11-12 04:45:12,817 - lightrag - INFO - [_] Process 1087993 KV load parse_cache with 3 records
2025-11-12 04:45:12,818 - lightrag - INFO - Multimodal processors initialized with context support
2025-11-12 04:45:12,818 - lightrag - INFO - Available processors: ['table', 'generic']
2025-11-12 04:45:12,818 - lightrag - INFO - Context configuration: ContextConfig(context_window=1, context_mode='page', max_context_tokens=2000, include_headers=True, include_captions=True, filter_content_types=['text'])
2025-11-12 04:45:12,818 - lightrag - INFO - LightRAG, parse cache, and multimodal processors initialized
2025-11-12 04:45:12,818 - lightrag - INFO - Starting complete document processing: examples/test.txt
2025-11-12 04:45:12,818 - lightrag - INFO - Starting document parsing: examples/test.txt
2025-11-12 04:45:12,819 - lightrag - INFO - Using cached parsing result for: examples/test.txt
2025-11-12 04:45:12,819 - lightrag - INFO - * Total blocks in cached content_list: 1
2025-11-12 04:45:12,819 - lightrag - INFO - Content separation complete:
2025-11-12 04:45:12,819 - lightrag - INFO -   - Text content length: 0 characters
2025-11-12 04:45:12,819 - lightrag - INFO -   - Multimodal items count: 1
2025-11-12 04:45:12,819 - lightrag - INFO -   - Multimodal type distribution: {'discarded': 1}
2025-11-12 04:45:12,819 - lightrag - INFO - Setting content source for context-aware multimodal processing...
2025-11-12 04:45:12,819 - lightrag - INFO - Content source set with format: minerU
2025-11-12 04:45:12,819 - lightrag - INFO - Content source set with format: minerU
2025-11-12 04:45:12,819 - lightrag - INFO - Content source set for context extraction (format: minerU)
2025-11-12 04:45:12,819 - lightrag - INFO - Starting multimodal content processing...
2025-11-12 04:45:12,819 - lightrag - INFO - Starting to process 1 multimodal content items
2025-11-12 04:45:18,776 - lightrag - WARNING - Using regex fallback for JSON parsing
2025-11-12 04:45:18,777 - lightrag - ERROR - Error parsing discarded analysis response: Missing required fields in response
2025-11-12 04:45:18,777 - lightrag - INFO - Multimodal chunk generation progress: 1/1 (100.0%)
2025-11-12 04:45:18,777 - lightrag - INFO - Generated descriptions for 1/1 multimodal items using correct processors
2025-11-12 04:45:18,779 - lightrag - INFO - Embedding func: 8 new workers initialized (Timeouts: Func: 30s, Worker: 60s, Health Check: 75s)
2025-11-12 04:45:18,872 - lightrag - ERROR - Embedding func: Error in decorated function for task 139665690974784_172311.588238277: object list can't be used in 'await' expression
2025-11-12 04:45:18,872 - lightrag - ERROR - Error storing chunks to storage: object list can't be used in 'await' expression
2025-11-12 04:45:18,872 - lightrag - ERROR - Error in multimodal processing: object list can't be used in 'await' expression
2025-11-12 04:45:18,872 - lightrag - WARNING - Falling back to individual multimodal processing
2025-11-12 04:45:18,872 - lightrag - INFO - Processing item 1/1: discarded content
2025-11-12 04:45:24,333 - lightrag - WARNING - Using regex fallback for JSON parsing
2025-11-12 04:45:24,333 - lightrag - ERROR - Error parsing discarded analysis response: Missing required fields in response
2025-11-12 04:45:24,343 - lightrag - ERROR - Embedding func: Error in decorated function for task 139665690979568_172317.143168208: object list can't be used in 'await' expression
2025-11-12 04:45:24,343 - lightrag - ERROR - Error processing discarded content: object list can't be used in 'await' expression
2025-11-12 04:45:24,343 - lightrag - ERROR - Error processing multimodal content: not enough values to unpack (expected 3, got 2)
2025-11-12 04:45:24,343 - lightrag - INFO - Individual multimodal content processing complete
2025-11-12 04:45:24,343 - lightrag - INFO - Document examples/test.txt processing complete!
2025-11-12 04:45:24,343 - lightrag - INFO -  Document processing completed!
2025-11-12 04:45:24,344 - lightrag - INFO - 
Querying processed document:
2025-11-12 04:45:24,344 - lightrag - INFO - 
[Query]: What is the main content of the document?
2025-11-12 04:45:24,344 - lightrag - INFO - Executing VLM enhanced query: What is the main content of the document?...
2025-11-12 04:45:24,345 - lightrag - INFO - LLM func: 4 new workers initialized (Timeouts: Func: 180s, Worker: 360s, Health Check: 375s)
2025-11-12 04:45:26,086 - lightrag - INFO -  == LLM cache == saving: hybrid:keywords:a6c2c406429d332704358613d7a7c2e4
2025-11-12 04:45:26,086 - lightrag - WARNING - low_level_keywords is empty
2025-11-12 04:45:26,098 - lightrag - WARNING - Failed to pre-compute query embedding: object list can't be used in 'await' expression
2025-11-12 04:45:26,098 - lightrag - INFO - Query edges: Main content, Document summary (top_k:40, cosine:0.2)
2025-11-12 04:45:26,106 - lightrag - ERROR - Embedding func: Error in decorated function for task 139659550683392_172318.907545462: object list can't be used in 'await' expression
2025-11-12 04:45:26,106 - lightrag - ERROR - Query failed: object list can't be used in 'await' expression
2025-11-12 04:45:26,107 - lightrag - INFO - Found 0 image path matches in prompt
2025-11-12 04:45:26,107 - lightrag - INFO - No valid images found, falling back to normal query
2025-11-12 04:45:26,107 - lightrag - WARNING - low_level_keywords is empty
2025-11-12 04:45:26,114 - lightrag - WARNING - Failed to pre-compute query embedding: object list can't be used in 'await' expression
2025-11-12 04:45:26,114 - lightrag - INFO - Query edges: Main content, Document summary (top_k:40, cosine:0.2)
2025-11-12 04:45:26,121 - lightrag - ERROR - Embedding func: Error in decorated function for task 139659550683392_172318.923482158: object list can't be used in 'await' expression
2025-11-12 04:45:26,122 - lightrag - ERROR - Query failed: object list can't be used in 'await' expression
2025-11-12 04:45:26,122 - lightrag - INFO - [Answer]: None
2025-11-12 04:45:26,122 - lightrag - INFO - 
[Query]: What are the key topics discussed?
2025-11-12 04:45:26,122 - lightrag - INFO - Executing VLM enhanced query: What are the key topics discussed?...
2025-11-12 04:45:27,570 - lightrag - INFO -  == LLM cache == saving: hybrid:keywords:cf38fd7a84e53a70fc8c6d5c32fe4db9
2025-11-12 04:45:27,571 - lightrag - WARNING - low_level_keywords is empty
2025-11-12 04:45:27,578 - lightrag - WARNING - Failed to pre-compute query embedding: object list can't be used in 'await' expression
2025-11-12 04:45:27,579 - lightrag - INFO - Query edges: Key topics (top_k:40, cosine:0.2)
2025-11-12 04:45:27,586 - lightrag - ERROR - Embedding func: Error in decorated function for task 139659550683392_172320.387754879: object list can't be used in 'await' expression
2025-11-12 04:45:27,586 - lightrag - ERROR - Query failed: object list can't be used in 'await' expression
2025-11-12 04:45:27,586 - lightrag - INFO - Found 0 image path matches in prompt
2025-11-12 04:45:27,587 - lightrag - INFO - No valid images found, falling back to normal query
2025-11-12 04:45:27,587 - lightrag - WARNING - low_level_keywords is empty
2025-11-12 04:45:27,594 - lightrag - WARNING - Failed to pre-compute query embedding: object list can't be used in 'await' expression
2025-11-12 04:45:27,594 - lightrag - INFO - Query edges: Key topics (top_k:40, cosine:0.2)
2025-11-12 04:45:27,600 - lightrag - ERROR - Embedding func: Error in decorated function for task 139659550683392_172320.402948482: object list can't be used in 'await' expression
2025-11-12 04:45:27,601 - lightrag - ERROR - Query failed: object list can't be used in 'await' expression
2025-11-12 04:45:27,601 - lightrag - INFO - [Answer]: None
2025-11-12 04:45:27,601 - lightrag - INFO - 
[Query]: Summarize it in 2 sentences.
2025-11-12 04:45:27,601 - lightrag - INFO - Executing VLM enhanced query: Summarize it in 2 sentences....
2025-11-12 04:45:29,155 - lightrag - INFO -  == LLM cache == saving: hybrid:keywords:4763ae24c8882b9acd533683adb0daa0
2025-11-12 04:45:29,156 - lightrag - WARNING - low_level_keywords is empty
2025-11-12 04:45:29,163 - lightrag - WARNING - Failed to pre-compute query embedding: object list can't be used in 'await' expression
2025-11-12 04:45:29,164 - lightrag - INFO - Query edges: Summarize (top_k:40, cosine:0.2)
2025-11-12 04:45:29,171 - lightrag - ERROR - Embedding func: Error in decorated function for task 139659550683392_172321.972770897: object list can't be used in 'await' expression
2025-11-12 04:45:29,171 - lightrag - ERROR - Query failed: object list can't be used in 'await' expression
2025-11-12 04:45:29,171 - lightrag - INFO - Found 0 image path matches in prompt
2025-11-12 04:45:29,172 - lightrag - INFO - No valid images found, falling back to normal query
2025-11-12 04:45:29,172 - lightrag - WARNING - low_level_keywords is empty
2025-11-12 04:45:29,179 - lightrag - WARNING - Failed to pre-compute query embedding: object list can't be used in 'await' expression
2025-11-12 04:45:29,179 - lightrag - INFO - Query edges: Summarize (top_k:40, cosine:0.2)
2025-11-12 04:45:29,185 - lightrag - ERROR - Embedding func: Error in decorated function for task 139659550683392_172321.987911436: object list can't be used in 'await' expression
2025-11-12 04:45:29,185 - lightrag - ERROR - Query failed: object list can't be used in 'await' expression
2025-11-12 04:45:29,186 - lightrag - INFO - [Answer]: None
2025-11-12 04:45:29,186 - lightrag - INFO - 
 Test completed successfully!
2025-11-12 04:52:37,962 - lightrag - INFO - Initializing Qwen model...
2025-11-12 04:52:50,463 - lightrag - INFO - RAGAnything initialized with config:
2025-11-12 04:52:50,464 - lightrag - INFO -   Working directory: ./rag_storage
2025-11-12 04:52:50,464 - lightrag - INFO -   Parser: mineru
2025-11-12 04:52:50,464 - lightrag - INFO -   Parse method: auto
2025-11-12 04:52:50,464 - lightrag - INFO -   Multimodal processing - Image: False, Table: True, Equation: False
2025-11-12 04:52:50,464 - lightrag - INFO -   Max concurrent files: 1
2025-11-12 04:52:50,464 - lightrag - INFO - Processing document: examples/test.txt
2025-11-12 04:52:53,255 - lightrag - INFO - Parser 'mineru' installation verified
2025-11-12 04:52:53,256 - lightrag - INFO - Initializing LightRAG with parameters: {'working_dir': './rag_storage'}
2025-11-12 04:52:54,598 - lightrag - INFO - [_] Created new empty graph file: ./rag_storage/graph_chunk_entity_relation.graphml
2025-11-12 04:52:54,599 - lightrag - INFO - [_] Process 1089842 KV load full_docs with 0 records
2025-11-12 04:52:54,599 - lightrag - INFO - [_] Process 1089842 KV load text_chunks with 0 records
2025-11-12 04:52:54,599 - lightrag - INFO - [_] Process 1089842 KV load full_entities with 0 records
2025-11-12 04:52:54,599 - lightrag - INFO - [_] Process 1089842 KV load full_relations with 0 records
2025-11-12 04:52:54,599 - lightrag - INFO - [_] Process 1089842 KV load entity_chunks with 0 records
2025-11-12 04:52:54,600 - lightrag - INFO - [_] Process 1089842 KV load relation_chunks with 0 records
2025-11-12 04:52:54,600 - lightrag - INFO - [_] Process 1089842 KV load llm_response_cache with 0 records
2025-11-12 04:52:54,600 - lightrag - INFO - [_] Process 1089842 doc status load doc_status with 0 records
2025-11-12 04:52:54,601 - lightrag - INFO - [_] Process 1089842 KV load parse_cache with 3 records
2025-11-12 04:52:54,601 - lightrag - INFO - Multimodal processors initialized with context support
2025-11-12 04:52:54,601 - lightrag - INFO - Available processors: ['table', 'generic']
2025-11-12 04:52:54,601 - lightrag - INFO - Context configuration: ContextConfig(context_window=1, context_mode='page', max_context_tokens=2000, include_headers=True, include_captions=True, filter_content_types=['text'])
2025-11-12 04:52:54,601 - lightrag - INFO - LightRAG, parse cache, and multimodal processors initialized
2025-11-12 04:52:54,601 - lightrag - INFO - Starting complete document processing: examples/test.txt
2025-11-12 04:52:54,602 - lightrag - INFO - Starting document parsing: examples/test.txt
2025-11-12 04:52:54,602 - lightrag - INFO - Using mineru parser with method: auto
2025-11-12 04:52:54,602 - lightrag - INFO - Using generic parser for .txt file (method=auto)...
2025-11-12 04:53:16,537 - lightrag - INFO - Parsing examples/test.txt complete! Extracted 1 content blocks
2025-11-12 04:53:16,538 - lightrag - INFO - Stored parsing result in cache: 7e7cddc16c9fe9a026e17ea5ea7bcc17
2025-11-12 04:53:16,538 - lightrag - INFO - 
Content Information:
2025-11-12 04:53:16,538 - lightrag - INFO - * Total blocks in content_list: 1
2025-11-12 04:53:16,538 - lightrag - INFO - * Content block types:
2025-11-12 04:53:16,538 - lightrag - INFO -   - discarded: 1
2025-11-12 04:53:16,538 - lightrag - INFO - Content separation complete:
2025-11-12 04:53:16,539 - lightrag - INFO -   - Text content length: 0 characters
2025-11-12 04:53:16,539 - lightrag - INFO -   - Multimodal items count: 1
2025-11-12 04:53:16,539 - lightrag - INFO -   - Multimodal type distribution: {'discarded': 1}
2025-11-12 04:53:16,539 - lightrag - INFO - Setting content source for context-aware multimodal processing...
2025-11-12 04:53:16,539 - lightrag - INFO - Content source set with format: minerU
2025-11-12 04:53:16,539 - lightrag - INFO - Content source set with format: minerU
2025-11-12 04:53:16,539 - lightrag - INFO - Content source set for context extraction (format: minerU)
2025-11-12 04:53:16,539 - lightrag - INFO - Starting multimodal content processing...
2025-11-12 04:53:16,539 - lightrag - INFO - Starting to process 1 multimodal content items
2025-11-12 04:53:22,458 - lightrag - WARNING - Using regex fallback for JSON parsing
2025-11-12 04:53:22,459 - lightrag - ERROR - Error parsing discarded analysis response: Missing required fields in response
2025-11-12 04:53:22,459 - lightrag - INFO - Multimodal chunk generation progress: 1/1 (100.0%)
2025-11-12 04:53:22,459 - lightrag - INFO - Generated descriptions for 1/1 multimodal items using correct processors
2025-11-12 04:53:22,460 - lightrag - INFO - Embedding func: 8 new workers initialized (Timeouts: Func: 30s, Worker: 60s, Health Check: 75s)
2025-11-12 04:53:22,551 - lightrag - ERROR - Embedding func: Error in decorated function for task 140277943182336_172795.269655805: object list can't be used in 'await' expression
2025-11-12 04:53:22,552 - lightrag - ERROR - Error storing chunks to storage: object list can't be used in 'await' expression
2025-11-12 04:53:22,552 - lightrag - ERROR - Error in multimodal processing: object list can't be used in 'await' expression
2025-11-12 04:53:22,552 - lightrag - WARNING - Falling back to individual multimodal processing
2025-11-12 04:53:22,552 - lightrag - INFO - Processing item 1/1: discarded content
2025-11-12 04:53:27,948 - lightrag - WARNING - Using regex fallback for JSON parsing
2025-11-12 04:53:27,949 - lightrag - ERROR - Error parsing discarded analysis response: Missing required fields in response
2025-11-12 04:53:27,958 - lightrag - ERROR - Embedding func: Error in decorated function for task 140277943186704_172800.758347382: object list can't be used in 'await' expression
2025-11-12 04:53:27,958 - lightrag - ERROR - Error processing discarded content: object list can't be used in 'await' expression
2025-11-12 04:53:27,958 - lightrag - ERROR - Error processing multimodal content: not enough values to unpack (expected 3, got 2)
2025-11-12 04:53:27,958 - lightrag - INFO - Individual multimodal content processing complete
2025-11-12 04:53:27,959 - lightrag - INFO - Document examples/test.txt processing complete!
2025-11-12 04:53:27,959 - lightrag - INFO -  Document processing completed!
2025-11-12 04:53:27,959 - lightrag - INFO - 
Querying processed document:
2025-11-12 04:53:27,959 - lightrag - INFO - 
[Query]: What is the main content of the document?
2025-11-12 04:53:27,959 - lightrag - INFO - Executing VLM enhanced query: What is the main content of the document?...
2025-11-12 04:53:27,960 - lightrag - INFO - LLM func: 4 new workers initialized (Timeouts: Func: 180s, Worker: 360s, Health Check: 375s)
2025-11-12 04:53:29,686 - lightrag - INFO -  == LLM cache == saving: hybrid:keywords:a6c2c406429d332704358613d7a7c2e4
2025-11-12 04:53:29,686 - lightrag - WARNING - low_level_keywords is empty
2025-11-12 04:53:29,696 - lightrag - WARNING - Failed to pre-compute query embedding: object list can't be used in 'await' expression
2025-11-12 04:53:29,697 - lightrag - INFO - Query edges: Main content, Document summary (top_k:40, cosine:0.2)
2025-11-12 04:53:29,704 - lightrag - ERROR - Embedding func: Error in decorated function for task 140277242114304_172802.505790312: object list can't be used in 'await' expression
2025-11-12 04:53:29,704 - lightrag - ERROR - Query failed: object list can't be used in 'await' expression
2025-11-12 04:53:29,705 - lightrag - INFO - Found 0 image path matches in prompt
2025-11-12 04:53:29,705 - lightrag - INFO - No valid images found, falling back to normal query
2025-11-12 04:53:29,705 - lightrag - WARNING - low_level_keywords is empty
2025-11-12 04:53:29,712 - lightrag - WARNING - Failed to pre-compute query embedding: object list can't be used in 'await' expression
2025-11-12 04:53:29,712 - lightrag - INFO - Query edges: Main content, Document summary (top_k:40, cosine:0.2)
2025-11-12 04:53:29,719 - lightrag - ERROR - Embedding func: Error in decorated function for task 140277242114304_172802.521126593: object list can't be used in 'await' expression
2025-11-12 04:53:29,719 - lightrag - ERROR - Query failed: object list can't be used in 'await' expression
2025-11-12 04:53:29,719 - lightrag - INFO - [Answer]: None
2025-11-12 04:53:29,719 - lightrag - INFO - 
[Query]: What are the key topics discussed?
2025-11-12 04:53:29,719 - lightrag - INFO - Executing VLM enhanced query: What are the key topics discussed?...
2025-11-12 04:53:31,159 - lightrag - INFO -  == LLM cache == saving: hybrid:keywords:cf38fd7a84e53a70fc8c6d5c32fe4db9
2025-11-12 04:53:31,159 - lightrag - WARNING - low_level_keywords is empty
2025-11-12 04:53:31,167 - lightrag - WARNING - Failed to pre-compute query embedding: object list can't be used in 'await' expression
2025-11-12 04:53:31,167 - lightrag - INFO - Query edges: Key topics (top_k:40, cosine:0.2)
2025-11-12 04:53:31,174 - lightrag - ERROR - Embedding func: Error in decorated function for task 140277242114304_172803.976130913: object list can't be used in 'await' expression
2025-11-12 04:53:31,175 - lightrag - ERROR - Query failed: object list can't be used in 'await' expression
2025-11-12 04:53:31,175 - lightrag - INFO - Found 0 image path matches in prompt
2025-11-12 04:53:31,175 - lightrag - INFO - No valid images found, falling back to normal query
2025-11-12 04:53:31,175 - lightrag - WARNING - low_level_keywords is empty
2025-11-12 04:53:31,182 - lightrag - WARNING - Failed to pre-compute query embedding: object list can't be used in 'await' expression
2025-11-12 04:53:31,182 - lightrag - INFO - Query edges: Key topics (top_k:40, cosine:0.2)
2025-11-12 04:53:31,189 - lightrag - ERROR - Embedding func: Error in decorated function for task 140277242114304_172803.991245008: object list can't be used in 'await' expression
2025-11-12 04:53:31,189 - lightrag - ERROR - Query failed: object list can't be used in 'await' expression
2025-11-12 04:53:31,189 - lightrag - INFO - [Answer]: None
2025-11-12 04:53:31,189 - lightrag - INFO - 
[Query]: Summarize it in 2 sentences.
2025-11-12 04:53:31,189 - lightrag - INFO - Executing VLM enhanced query: Summarize it in 2 sentences....
2025-11-12 04:53:32,698 - lightrag - INFO -  == LLM cache == saving: hybrid:keywords:4763ae24c8882b9acd533683adb0daa0
2025-11-12 04:53:32,698 - lightrag - WARNING - low_level_keywords is empty
2025-11-12 04:53:32,706 - lightrag - WARNING - Failed to pre-compute query embedding: object list can't be used in 'await' expression
2025-11-12 04:53:32,706 - lightrag - INFO - Query edges: Summarize (top_k:40, cosine:0.2)
2025-11-12 04:53:32,713 - lightrag - ERROR - Embedding func: Error in decorated function for task 140277242114304_172805.514999617: object list can't be used in 'await' expression
2025-11-12 04:53:32,713 - lightrag - ERROR - Query failed: object list can't be used in 'await' expression
2025-11-12 04:53:32,713 - lightrag - INFO - Found 0 image path matches in prompt
2025-11-12 04:53:32,713 - lightrag - INFO - No valid images found, falling back to normal query
2025-11-12 04:53:32,714 - lightrag - WARNING - low_level_keywords is empty
2025-11-12 04:53:32,720 - lightrag - WARNING - Failed to pre-compute query embedding: object list can't be used in 'await' expression
2025-11-12 04:53:32,721 - lightrag - INFO - Query edges: Summarize (top_k:40, cosine:0.2)
2025-11-12 04:53:32,727 - lightrag - ERROR - Embedding func: Error in decorated function for task 140277242114304_172805.529844299: object list can't be used in 'await' expression
2025-11-12 04:53:32,727 - lightrag - ERROR - Query failed: object list can't be used in 'await' expression
2025-11-12 04:53:32,728 - lightrag - INFO - [Answer]: None
2025-11-12 04:53:32,728 - lightrag - INFO - 
 Test completed successfully!
2025-11-12 04:54:33,899 - lightrag - INFO - Initializing Qwen model...
2025-11-12 04:54:45,996 - lightrag - INFO - RAGAnything initialized with config:
2025-11-12 04:54:45,997 - lightrag - INFO -   Working directory: ./rag_storage
2025-11-12 04:54:45,997 - lightrag - INFO -   Parser: mineru
2025-11-12 04:54:45,997 - lightrag - INFO -   Parse method: auto
2025-11-12 04:54:45,997 - lightrag - INFO -   Multimodal processing - Image: False, Table: True, Equation: False
2025-11-12 04:54:45,997 - lightrag - INFO -   Max concurrent files: 1
2025-11-12 04:54:45,997 - lightrag - INFO - Processing document: examples/test.txt
2025-11-12 04:54:48,816 - lightrag - INFO - Parser 'mineru' installation verified
2025-11-12 04:54:48,816 - lightrag - INFO - Initializing LightRAG with parameters: {'working_dir': './rag_storage'}
2025-11-12 04:54:50,181 - lightrag - INFO - [_] Created new empty graph file: ./rag_storage/graph_chunk_entity_relation.graphml
2025-11-12 04:54:50,182 - lightrag - INFO - [_] Process 1097865 KV load full_docs with 0 records
2025-11-12 04:54:50,182 - lightrag - INFO - [_] Process 1097865 KV load text_chunks with 0 records
2025-11-12 04:54:50,182 - lightrag - INFO - [_] Process 1097865 KV load full_entities with 0 records
2025-11-12 04:54:50,182 - lightrag - INFO - [_] Process 1097865 KV load full_relations with 0 records
2025-11-12 04:54:50,182 - lightrag - INFO - [_] Process 1097865 KV load entity_chunks with 0 records
2025-11-12 04:54:50,182 - lightrag - INFO - [_] Process 1097865 KV load relation_chunks with 0 records
2025-11-12 04:54:50,183 - lightrag - INFO - [_] Process 1097865 KV load llm_response_cache with 0 records
2025-11-12 04:54:50,183 - lightrag - INFO - [_] Process 1097865 doc status load doc_status with 0 records
2025-11-12 04:54:50,184 - lightrag - INFO - [_] Process 1097865 KV load parse_cache with 4 records
2025-11-12 04:54:50,184 - lightrag - INFO - Multimodal processors initialized with context support
2025-11-12 04:54:50,184 - lightrag - INFO - Available processors: ['table', 'generic']
2025-11-12 04:54:50,184 - lightrag - INFO - Context configuration: ContextConfig(context_window=1, context_mode='page', max_context_tokens=2000, include_headers=True, include_captions=True, filter_content_types=['text'])
2025-11-12 04:54:50,184 - lightrag - INFO - LightRAG, parse cache, and multimodal processors initialized
2025-11-12 04:54:50,185 - lightrag - INFO - Starting complete document processing: examples/test.txt
2025-11-12 04:54:50,185 - lightrag - INFO - Starting document parsing: examples/test.txt
2025-11-12 04:54:50,185 - lightrag - INFO - Using cached parsing result for: examples/test.txt
2025-11-12 04:54:50,185 - lightrag - INFO - * Total blocks in cached content_list: 1
2025-11-12 04:54:50,185 - lightrag - INFO - Content separation complete:
2025-11-12 04:54:50,185 - lightrag - INFO -   - Text content length: 0 characters
2025-11-12 04:54:50,185 - lightrag - INFO -   - Multimodal items count: 1
2025-11-12 04:54:50,185 - lightrag - INFO -   - Multimodal type distribution: {'discarded': 1}
2025-11-12 04:54:50,185 - lightrag - INFO - Setting content source for context-aware multimodal processing...
2025-11-12 04:54:50,185 - lightrag - INFO - Content source set with format: minerU
2025-11-12 04:54:50,185 - lightrag - INFO - Content source set with format: minerU
2025-11-12 04:54:50,186 - lightrag - INFO - Content source set for context extraction (format: minerU)
2025-11-12 04:54:50,186 - lightrag - INFO - Starting multimodal content processing...
2025-11-12 04:54:50,186 - lightrag - INFO - Starting to process 1 multimodal content items
2025-11-12 04:54:56,137 - lightrag - WARNING - Using regex fallback for JSON parsing
2025-11-12 04:54:56,138 - lightrag - ERROR - Error parsing discarded analysis response: Missing required fields in response
2025-11-12 04:54:56,138 - lightrag - INFO - Multimodal chunk generation progress: 1/1 (100.0%)
2025-11-12 04:54:56,138 - lightrag - INFO - Generated descriptions for 1/1 multimodal items using correct processors
2025-11-12 04:54:56,140 - lightrag - INFO - Embedding func: 8 new workers initialized (Timeouts: Func: 30s, Worker: 60s, Health Check: 75s)
2025-11-12 04:54:56,235 - lightrag - ERROR - Embedding func: Error in decorated function for task 140173044030016_172888.948993228: object list can't be used in 'await' expression
2025-11-12 04:54:56,235 - lightrag - ERROR - Error storing chunks to storage: object list can't be used in 'await' expression
2025-11-12 04:54:56,235 - lightrag - ERROR - Error in multimodal processing: object list can't be used in 'await' expression
2025-11-12 04:54:56,235 - lightrag - WARNING - Falling back to individual multimodal processing
2025-11-12 04:54:56,235 - lightrag - INFO - Processing item 1/1: discarded content
2025-11-12 04:55:01,617 - lightrag - WARNING - Using regex fallback for JSON parsing
2025-11-12 04:55:01,617 - lightrag - ERROR - Error parsing discarded analysis response: Missing required fields in response
2025-11-12 04:55:01,627 - lightrag - ERROR - Embedding func: Error in decorated function for task 140173044034800_172894.427100509: object list can't be used in 'await' expression
2025-11-12 04:55:01,627 - lightrag - ERROR - Error processing discarded content: object list can't be used in 'await' expression
2025-11-12 04:55:01,627 - lightrag - ERROR - Error processing multimodal content: not enough values to unpack (expected 3, got 2)
2025-11-12 04:55:01,627 - lightrag - INFO - Individual multimodal content processing complete
2025-11-12 04:55:01,627 - lightrag - INFO - Document examples/test.txt processing complete!
2025-11-12 04:55:01,628 - lightrag - INFO -  Document processing completed!
2025-11-12 04:55:01,628 - lightrag - INFO - 
Querying processed document:
2025-11-12 04:55:01,628 - lightrag - INFO - 
[Query]: What is the main content of the document?
2025-11-12 04:55:01,628 - lightrag - INFO - Executing VLM enhanced query: What is the main content of the document?...
2025-11-12 04:55:01,629 - lightrag - INFO - LLM func: 4 new workers initialized (Timeouts: Func: 180s, Worker: 360s, Health Check: 375s)
2025-11-12 04:55:03,380 - lightrag - INFO -  == LLM cache == saving: hybrid:keywords:a6c2c406429d332704358613d7a7c2e4
2025-11-12 04:55:03,381 - lightrag - WARNING - low_level_keywords is empty
2025-11-12 04:55:03,392 - lightrag - WARNING - Failed to pre-compute query embedding: object list can't be used in 'await' expression
2025-11-12 04:55:03,392 - lightrag - INFO - Query edges: Main content, Document summary (top_k:40, cosine:0.2)
2025-11-12 04:55:03,400 - lightrag - ERROR - Embedding func: Error in decorated function for task 140166937342208_172896.201562085: object list can't be used in 'await' expression
2025-11-12 04:55:03,400 - lightrag - ERROR - Query failed: object list can't be used in 'await' expression
2025-11-12 04:55:03,401 - lightrag - INFO - Found 0 image path matches in prompt
2025-11-12 04:55:03,401 - lightrag - INFO - No valid images found, falling back to normal query
2025-11-12 04:55:03,401 - lightrag - WARNING - low_level_keywords is empty
2025-11-12 04:55:03,408 - lightrag - WARNING - Failed to pre-compute query embedding: object list can't be used in 'await' expression
2025-11-12 04:55:03,409 - lightrag - INFO - Query edges: Main content, Document summary (top_k:40, cosine:0.2)
2025-11-12 04:55:03,415 - lightrag - ERROR - Embedding func: Error in decorated function for task 140166937342208_172896.217730745: object list can't be used in 'await' expression
2025-11-12 04:55:03,416 - lightrag - ERROR - Query failed: object list can't be used in 'await' expression
2025-11-12 04:55:03,416 - lightrag - INFO - [Answer]: None
2025-11-12 04:55:03,416 - lightrag - INFO - 
[Query]: What are the key topics discussed?
2025-11-12 04:55:03,416 - lightrag - INFO - Executing VLM enhanced query: What are the key topics discussed?...
2025-11-12 04:55:04,863 - lightrag - INFO -  == LLM cache == saving: hybrid:keywords:cf38fd7a84e53a70fc8c6d5c32fe4db9
2025-11-12 04:55:04,863 - lightrag - WARNING - low_level_keywords is empty
2025-11-12 04:55:04,871 - lightrag - WARNING - Failed to pre-compute query embedding: object list can't be used in 'await' expression
2025-11-12 04:55:04,871 - lightrag - INFO - Query edges: Key topics (top_k:40, cosine:0.2)
2025-11-12 04:55:04,878 - lightrag - ERROR - Embedding func: Error in decorated function for task 140166937342208_172897.679900876: object list can't be used in 'await' expression
2025-11-12 04:55:04,878 - lightrag - ERROR - Query failed: object list can't be used in 'await' expression
2025-11-12 04:55:04,879 - lightrag - INFO - Found 0 image path matches in prompt
2025-11-12 04:55:04,879 - lightrag - INFO - No valid images found, falling back to normal query
2025-11-12 04:55:04,879 - lightrag - WARNING - low_level_keywords is empty
2025-11-12 04:55:04,886 - lightrag - WARNING - Failed to pre-compute query embedding: object list can't be used in 'await' expression
2025-11-12 04:55:04,886 - lightrag - INFO - Query edges: Key topics (top_k:40, cosine:0.2)
2025-11-12 04:55:04,892 - lightrag - ERROR - Embedding func: Error in decorated function for task 140166937342208_172897.694887261: object list can't be used in 'await' expression
2025-11-12 04:55:04,892 - lightrag - ERROR - Query failed: object list can't be used in 'await' expression
2025-11-12 04:55:04,893 - lightrag - INFO - [Answer]: None
2025-11-12 04:55:04,893 - lightrag - INFO - 
[Query]: Summarize it in 2 sentences.
2025-11-12 04:55:04,893 - lightrag - INFO - Executing VLM enhanced query: Summarize it in 2 sentences....
2025-11-12 04:55:06,419 - lightrag - INFO -  == LLM cache == saving: hybrid:keywords:4763ae24c8882b9acd533683adb0daa0
2025-11-12 04:55:06,419 - lightrag - WARNING - low_level_keywords is empty
2025-11-12 04:55:06,427 - lightrag - WARNING - Failed to pre-compute query embedding: object list can't be used in 'await' expression
2025-11-12 04:55:06,427 - lightrag - INFO - Query edges: Summarize (top_k:40, cosine:0.2)
2025-11-12 04:55:06,435 - lightrag - ERROR - Embedding func: Error in decorated function for task 140166937342208_172899.236576495: object list can't be used in 'await' expression
2025-11-12 04:55:06,435 - lightrag - ERROR - Query failed: object list can't be used in 'await' expression
2025-11-12 04:55:06,435 - lightrag - INFO - Found 0 image path matches in prompt
2025-11-12 04:55:06,435 - lightrag - INFO - No valid images found, falling back to normal query
2025-11-12 04:55:06,436 - lightrag - WARNING - low_level_keywords is empty
2025-11-12 04:55:06,442 - lightrag - WARNING - Failed to pre-compute query embedding: object list can't be used in 'await' expression
2025-11-12 04:55:06,442 - lightrag - INFO - Query edges: Summarize (top_k:40, cosine:0.2)
2025-11-12 04:55:06,449 - lightrag - ERROR - Embedding func: Error in decorated function for task 140166937342208_172899.251615737: object list can't be used in 'await' expression
2025-11-12 04:55:06,449 - lightrag - ERROR - Query failed: object list can't be used in 'await' expression
2025-11-12 04:55:06,449 - lightrag - INFO - [Answer]: None
2025-11-12 04:55:06,449 - lightrag - INFO - 
 Test completed successfully!
2025-11-12 04:56:17,712 - lightrag - INFO - ============================================================
2025-11-12 04:56:17,712 - lightrag - INFO - Initializing RAGAnything with Qwen3-VL-4B-Instruct
2025-11-12 04:56:17,712 - lightrag - INFO - ============================================================
2025-11-12 04:56:17,712 - lightrag - INFO - Loading Qwen model...
2025-11-12 04:56:26,883 - lightrag - INFO - Loading embedding model: sentence-transformers/all-MiniLM-L6-v2
2025-11-12 04:56:30,096 - lightrag - INFO - Initializing RAGAnything...
2025-11-12 04:56:30,096 - lightrag - INFO - RAGAnything initialized with config:
2025-11-12 04:56:30,096 - lightrag - INFO -   Working directory: ./rag_storage
2025-11-12 04:56:30,096 - lightrag - INFO -   Parser: mineru
2025-11-12 04:56:30,096 - lightrag - INFO -   Parse method: auto
2025-11-12 04:56:30,096 - lightrag - INFO -   Multimodal processing - Image: True, Table: True, Equation: True
2025-11-12 04:56:30,096 - lightrag - INFO -   Max concurrent files: 1
2025-11-12 04:56:30,097 - lightrag - INFO - 
Processing document: examples/test.txt
2025-11-12 04:56:30,097 - lightrag - INFO - ------------------------------------------------------------
2025-11-12 04:56:32,852 - lightrag - INFO - Parser 'mineru' installation verified
2025-11-12 04:56:32,852 - lightrag - INFO - Initializing LightRAG with parameters: {'working_dir': './rag_storage'}
2025-11-12 04:56:34,183 - lightrag - INFO - [_] Created new empty graph file: ./rag_storage/graph_chunk_entity_relation.graphml
2025-11-12 04:56:34,184 - lightrag - INFO - [_] Process 1098489 KV load full_docs with 0 records
2025-11-12 04:56:34,184 - lightrag - INFO - [_] Process 1098489 KV load text_chunks with 0 records
2025-11-12 04:56:34,184 - lightrag - INFO - [_] Process 1098489 KV load full_entities with 0 records
2025-11-12 04:56:34,184 - lightrag - INFO - [_] Process 1098489 KV load full_relations with 0 records
2025-11-12 04:56:34,185 - lightrag - INFO - [_] Process 1098489 KV load entity_chunks with 0 records
2025-11-12 04:56:34,185 - lightrag - INFO - [_] Process 1098489 KV load relation_chunks with 0 records
2025-11-12 04:56:34,185 - lightrag - INFO - [_] Process 1098489 KV load llm_response_cache with 0 records
2025-11-12 04:56:34,185 - lightrag - INFO - [_] Process 1098489 doc status load doc_status with 0 records
2025-11-12 04:56:34,186 - lightrag - INFO - [_] Process 1098489 KV load parse_cache with 4 records
2025-11-12 04:56:34,187 - lightrag - INFO - Multimodal processors initialized with context support
2025-11-12 04:56:34,187 - lightrag - INFO - Available processors: ['image', 'table', 'equation', 'generic']
2025-11-12 04:56:34,187 - lightrag - INFO - Context configuration: ContextConfig(context_window=1, context_mode='page', max_context_tokens=2000, include_headers=True, include_captions=True, filter_content_types=['text'])
2025-11-12 04:56:34,187 - lightrag - INFO - LightRAG, parse cache, and multimodal processors initialized
2025-11-12 04:56:34,187 - lightrag - INFO - Starting complete document processing: examples/test.txt
2025-11-12 04:56:34,187 - lightrag - INFO - Starting document parsing: examples/test.txt
2025-11-12 04:56:34,188 - lightrag - INFO - Using cached parsing result for: examples/test.txt
2025-11-12 04:56:34,188 - lightrag - INFO - * Total blocks in cached content_list: 1
2025-11-12 04:56:34,188 - lightrag - INFO - Content separation complete:
2025-11-12 04:56:34,188 - lightrag - INFO -   - Text content length: 0 characters
2025-11-12 04:56:34,188 - lightrag - INFO -   - Multimodal items count: 1
2025-11-12 04:56:34,188 - lightrag - INFO -   - Multimodal type distribution: {'discarded': 1}
2025-11-12 04:56:34,188 - lightrag - INFO - Setting content source for context-aware multimodal processing...
2025-11-12 04:56:34,188 - lightrag - INFO - Content source set with format: minerU
2025-11-12 04:56:34,188 - lightrag - INFO - Content source set with format: minerU
2025-11-12 04:56:34,188 - lightrag - INFO - Content source set with format: minerU
2025-11-12 04:56:34,188 - lightrag - INFO - Content source set with format: minerU
2025-11-12 04:56:34,188 - lightrag - INFO - Content source set for context extraction (format: minerU)
2025-11-12 04:56:34,189 - lightrag - INFO - Starting multimodal content processing...
2025-11-12 04:56:34,189 - lightrag - INFO - Starting to process 1 multimodal content items
2025-11-12 04:56:40,143 - lightrag - WARNING - Using regex fallback for JSON parsing
2025-11-12 04:56:40,144 - lightrag - ERROR - Error parsing discarded analysis response: Missing required fields in response
2025-11-12 04:56:40,144 - lightrag - INFO - Multimodal chunk generation progress: 1/1 (100.0%)
2025-11-12 04:56:40,145 - lightrag - INFO - Generated descriptions for 1/1 multimodal items using correct processors
2025-11-12 04:56:40,146 - lightrag - INFO - Embedding func: 8 new workers initialized (Timeouts: Func: 30s, Worker: 60s, Health Check: 75s)
2025-11-12 04:56:40,252 - lightrag - INFO - LLM func: 4 new workers initialized (Timeouts: Func: 180s, Worker: 360s, Health Check: 375s)
2025-11-12 04:57:02,929 - lightrag - INFO -  == LLM cache == saving: default:extract:89a5a91cc9126f627efabc72ad408a7b
2025-11-12 04:57:25,459 - lightrag - INFO -  == LLM cache == saving: default:extract:48f0814a1658299708250ea2764bb08c
2025-11-12 04:57:25,461 - lightrag - INFO - Chunk 1 of 1 extracted 4 Ent + 3 Rel chunk-f55a67fea2399179af56528f717d4a9a
2025-11-12 04:57:25,461 - lightrag - INFO - Extracted entities from 1 multimodal chunks
2025-11-12 04:57:25,461 - lightrag - INFO - Added 4 belongs_to relations for multimodal entities
2025-11-12 04:57:25,461 - lightrag - INFO - Merging stage 1/1: test.txt
2025-11-12 04:57:25,461 - lightrag - INFO - Phase 1: Processing 4 entities from doc-9334269d54423f10e6a97c7be071abce (async: 8)
2025-11-12 04:57:25,507 - lightrag - INFO - Phase 2: Processing 7 relations from doc-9334269d54423f10e6a97c7be071abce (async: 8)
2025-11-12 04:57:25,562 - lightrag - INFO - Phase 3: Updating final 4(4+0) entities and  7 relations from doc-9334269d54423f10e6a97c7be071abce
2025-11-12 04:57:25,563 - lightrag - INFO - Completed merging: 4 entities, 0 extra entities, 7 relations
2025-11-12 04:57:25,565 - lightrag - INFO - [_] Writing graph with 5 nodes, 7 edges
2025-11-12 04:57:25,567 - lightrag - INFO - In memory DB persist to disk
2025-11-12 04:57:25,567 - lightrag - INFO - Multimodal content processing complete
2025-11-12 04:57:25,567 - lightrag - INFO - Document examples/test.txt processing complete!
2025-11-12 04:57:25,567 - lightrag - INFO -  Document processing completed!
2025-11-12 04:57:25,567 - lightrag - INFO - 
============================================================
2025-11-12 04:57:25,567 - lightrag - INFO - Querying Processed Document
2025-11-12 04:57:25,568 - lightrag - INFO - ============================================================
2025-11-12 04:57:25,568 - lightrag - INFO - 
[Text Query 1]: What is the main content of the document?
2025-11-12 04:57:25,568 - lightrag - INFO - Executing VLM enhanced query: What is the main content of the document?...
2025-11-12 04:57:27,287 - lightrag - INFO -  == LLM cache == saving: hybrid:keywords:a6c2c406429d332704358613d7a7c2e4
2025-11-12 04:57:27,287 - lightrag - WARNING - low_level_keywords is empty
2025-11-12 04:57:27,300 - lightrag - INFO - Query edges: Main content, Document summary (top_k:40, cosine:0.2)
2025-11-12 04:57:27,309 - lightrag - INFO - Global query: 4 entites, 3 relations
2025-11-12 04:57:27,309 - lightrag - INFO - Raw search results: 4 entities, 3 relations, 0 vector chunks
2025-11-12 04:57:27,310 - lightrag - INFO - After truncation: 4 entities, 3 relations
2025-11-12 04:57:27,310 - lightrag - INFO - Selecting 1 from 1 entity-related chunks by vector similarity
2025-11-12 04:57:27,310 - lightrag - INFO - Find no additional relations-related chunks from 3 relations
2025-11-12 04:57:27,310 - lightrag - INFO - Round-robin merged chunks: 1 -> 1 (deduplicated 0)
2025-11-12 04:57:27,312 - lightrag - WARNING - Rerank is enabled but no rerank model is configured. Please set up a rerank model or set enable_rerank=False in query parameters.
2025-11-12 04:57:27,312 - lightrag - INFO - Final context: 4 entities, 3 relations, 1 chunks
2025-11-12 04:57:27,312 - lightrag - INFO - Final chunks S+F/O: E4/1
2025-11-12 04:57:27,313 - lightrag - INFO - Found 0 image path matches in prompt
2025-11-12 04:57:27,313 - lightrag - INFO - No valid images found, falling back to normal query
2025-11-12 04:57:27,314 - lightrag - WARNING - low_level_keywords is empty
2025-11-12 04:57:27,321 - lightrag - INFO - Query edges: Main content, Document summary (top_k:40, cosine:0.2)
2025-11-12 04:57:27,329 - lightrag - INFO - Global query: 4 entites, 3 relations
2025-11-12 04:57:27,329 - lightrag - INFO - Raw search results: 4 entities, 3 relations, 0 vector chunks
2025-11-12 04:57:27,330 - lightrag - INFO - After truncation: 4 entities, 3 relations
2025-11-12 04:57:27,330 - lightrag - INFO - Selecting 1 from 1 entity-related chunks by vector similarity
2025-11-12 04:57:27,330 - lightrag - INFO - Find no additional relations-related chunks from 3 relations
2025-11-12 04:57:27,331 - lightrag - INFO - Round-robin merged chunks: 1 -> 1 (deduplicated 0)
2025-11-12 04:57:27,332 - lightrag - WARNING - Rerank is enabled but no rerank model is configured. Please set up a rerank model or set enable_rerank=False in query parameters.
2025-11-12 04:57:27,332 - lightrag - INFO - Final context: 4 entities, 3 relations, 1 chunks
2025-11-12 04:57:27,332 - lightrag - INFO - Final chunks S+F/O: E4/1
2025-11-12 04:57:43,175 - lightrag - INFO -  == LLM cache == saving: hybrid:query:c6390c2ab36d5656ad004632ff04ca65
2025-11-12 04:57:43,176 - lightrag - INFO - [Answer]: RAGAnything4 is a system or framework specifically designed to handle discarded or unused content for analysis, reframing, or repurposing. It evaluates such content to extract value or transform it into new forms, making it particularly useful for managing obsolete or forgotten materials. A key component of this system is Discarded Content Analysis, which processes and evaluates unused or obsolete content for potential reuse or transformation. This analysis is grounded in the broader method of Analysis, which interprets discarded content to offer options for reevaluation, messaging refinement, or transformation.

The test document  a sample piece of discarded content  is explicitly designed for RAGAnything4 to evaluate its handling of such material. The test document contains the text: This is a test document for RAGAnything4. It is processed through Discarded Content Analysis, which leverages the Analysis method to interpret and potentially repurpose the content. The system is capable of assisting users in analyzing, reframing, or repurposing any discarded or unused content, whether its outdated material, abandoned ideas, or forgotten drafts.

### References

- [1] test.txt
2025-11-12 04:57:43,176 - lightrag - INFO - 
[Text Query 2]: What are the key topics discussed?
2025-11-12 04:57:43,176 - lightrag - INFO - Executing VLM enhanced query: What are the key topics discussed?...
2025-11-12 04:57:44,609 - lightrag - INFO -  == LLM cache == saving: hybrid:keywords:cf38fd7a84e53a70fc8c6d5c32fe4db9
2025-11-12 04:57:44,609 - lightrag - WARNING - low_level_keywords is empty
2025-11-12 04:57:44,618 - lightrag - INFO - Query edges: Key topics (top_k:40, cosine:0.2)
2025-11-12 04:57:44,626 - lightrag - INFO - Raw search results: 0 entities, 0 relations, 0 vector chunks
2025-11-12 04:57:44,626 - lightrag - INFO - [kg_query] No query context could be built; returning no-result.
2025-11-12 04:57:44,627 - lightrag - INFO - Found 0 image path matches in prompt
2025-11-12 04:57:44,627 - lightrag - INFO - No valid images found, falling back to normal query
2025-11-12 04:57:44,628 - lightrag - WARNING - low_level_keywords is empty
2025-11-12 04:57:44,635 - lightrag - INFO - Query edges: Key topics (top_k:40, cosine:0.2)
2025-11-12 04:57:44,642 - lightrag - INFO - Raw search results: 0 entities, 0 relations, 0 vector chunks
2025-11-12 04:57:44,642 - lightrag - INFO - [kg_query] No query context could be built; returning no-result.
2025-11-12 04:57:44,642 - lightrag - INFO - [Answer]: Sorry, I'm not able to provide an answer to that question.[no-context]
2025-11-12 04:57:44,642 - lightrag - INFO - 
[Text Query 3]: Summarize the most important points
2025-11-12 04:57:44,643 - lightrag - INFO - Executing VLM enhanced query: Summarize the most important points...
2025-11-12 04:57:46,441 - lightrag - INFO -  == LLM cache == saving: hybrid:keywords:97999fb6eb365023364f4da4241710bd
2025-11-12 04:57:46,442 - lightrag - WARNING - low_level_keywords is empty
2025-11-12 04:57:46,450 - lightrag - INFO - Query edges: Summarize, Important points (top_k:40, cosine:0.2)
2025-11-12 04:57:46,458 - lightrag - INFO - Global query: 2 entites, 1 relations
2025-11-12 04:57:46,458 - lightrag - INFO - Raw search results: 2 entities, 1 relations, 0 vector chunks
2025-11-12 04:57:46,458 - lightrag - INFO - After truncation: 2 entities, 1 relations
2025-11-12 04:57:46,459 - lightrag - INFO - Selecting 1 from 1 entity-related chunks by vector similarity
2025-11-12 04:57:46,459 - lightrag - INFO - Find no additional relations-related chunks from 1 relations
2025-11-12 04:57:46,459 - lightrag - INFO - Round-robin merged chunks: 1 -> 1 (deduplicated 0)
2025-11-12 04:57:46,460 - lightrag - WARNING - Rerank is enabled but no rerank model is configured. Please set up a rerank model or set enable_rerank=False in query parameters.
2025-11-12 04:57:46,460 - lightrag - INFO - Final context: 2 entities, 1 relations, 1 chunks
2025-11-12 04:57:46,461 - lightrag - INFO - Final chunks S+F/O: E2/1
2025-11-12 04:57:46,461 - lightrag - INFO - Found 0 image path matches in prompt
2025-11-12 04:57:46,462 - lightrag - INFO - No valid images found, falling back to normal query
2025-11-12 04:57:46,462 - lightrag - WARNING - low_level_keywords is empty
2025-11-12 04:57:46,469 - lightrag - INFO - Query edges: Summarize, Important points (top_k:40, cosine:0.2)
2025-11-12 04:57:46,476 - lightrag - INFO - Global query: 2 entites, 1 relations
2025-11-12 04:57:46,476 - lightrag - INFO - Raw search results: 2 entities, 1 relations, 0 vector chunks
2025-11-12 04:57:46,477 - lightrag - INFO - After truncation: 2 entities, 1 relations
2025-11-12 04:57:46,477 - lightrag - INFO - Selecting 1 from 1 entity-related chunks by vector similarity
2025-11-12 04:57:46,477 - lightrag - INFO - Find no additional relations-related chunks from 1 relations
2025-11-12 04:57:46,477 - lightrag - INFO - Round-robin merged chunks: 1 -> 1 (deduplicated 0)
2025-11-12 04:57:46,478 - lightrag - WARNING - Rerank is enabled but no rerank model is configured. Please set up a rerank model or set enable_rerank=False in query parameters.
2025-11-12 04:57:46,479 - lightrag - INFO - Final context: 2 entities, 1 relations, 1 chunks
2025-11-12 04:57:46,479 - lightrag - INFO - Final chunks S+F/O: E2/1
2025-11-12 04:58:02,919 - lightrag - INFO -  == LLM cache == saving: hybrid:query:a26b1bf02f091fda919f84888fcd1f4c
2025-11-12 04:58:02,920 - lightrag - INFO - [Answer]: Discarded Content Analysis is a service or module designed to process and evaluate unused or obsolete content for potential reuse or transformation. It leverages the broader **Analysis** method, which interprets discarded material to offer options for reevaluation, messaging refinement, or repurposing into new forms. This approach enables users to extract value from outdated, abandoned, or forgotten content  whether its drafts, ideas, or other discarded material  by refining its messaging or transforming it into something more useful or relevant.

In practice, the **Analysis** method is applied directly to Discarded Content Analysis, allowing for tailored interventions such as rephrasing, restructuring, or repurposing the content to meet new objectives. For instance, if a user provides discarded content like the test document from RAGAnything4  This is a test document for RAGAnything4.  the system can interpret it and offer actionable suggestions for reevaluation or transformation.

The system is interactive and ready to assist users in analyzing any discarded or unused content they wish to work with, ensuring that even seemingly obsolete material can be revitalized or repurposed effectively.

### References

- [1] test.txt
2025-11-12 04:58:02,920 - lightrag - INFO - 
------------------------------------------------------------
2025-11-12 04:58:02,920 - lightrag - INFO - [Multimodal Query]: Analyzing performance data in context of document
2025-11-12 04:58:02,920 - lightrag - INFO - Executing multimodal query: Compare this performance data with any similar results mentioned in the document...
2025-11-12 04:58:02,920 - lightrag - INFO - Query mode: hybrid
2025-11-12 04:58:02,920 - lightrag - INFO - Starting multimodal query content processing...
2025-11-12 04:58:02,920 - lightrag - INFO - Processing 1/1 multimodal content: table
2025-11-12 04:58:06,988 - lightrag - INFO - Multimodal query content processing completed
2025-11-12 04:58:06,989 - lightrag - INFO - Generated enhanced query length: 496 characters
2025-11-12 04:58:06,989 - lightrag - INFO - Executing VLM enhanced query: User query: Compare this performance data with any similar results mentioned in the document

Relate...
2025-11-12 04:58:10,416 - lightrag - INFO -  == LLM cache == saving: hybrid:keywords:ad7d0225a4525ed57612be99b804ac3d
2025-11-12 04:58:10,426 - lightrag - INFO - Query nodes: Table data, Numerical data, Categorical data, Dataset, Insights (top_k:40, cosine:0.2)
2025-11-12 04:58:10,435 - lightrag - INFO - Local query: 2 entites, 5 relations
2025-11-12 04:58:10,435 - lightrag - INFO - Query edges: Performance data, Similar results, Document comparison (top_k:40, cosine:0.2)
2025-11-12 04:58:10,443 - lightrag - INFO - Global query: 4 entites, 3 relations
2025-11-12 04:58:10,443 - lightrag - INFO - Raw search results: 5 entities, 7 relations, 0 vector chunks
2025-11-12 04:58:10,444 - lightrag - INFO - After truncation: 5 entities, 7 relations
2025-11-12 04:58:10,444 - lightrag - INFO - Selecting 1 from 1 entity-related chunks by vector similarity
2025-11-12 04:58:10,445 - lightrag - INFO - Find no additional relations-related chunks from 7 relations
2025-11-12 04:58:10,445 - lightrag - INFO - Round-robin merged chunks: 1 -> 1 (deduplicated 0)
2025-11-12 04:58:10,446 - lightrag - WARNING - Rerank is enabled but no rerank model is configured. Please set up a rerank model or set enable_rerank=False in query parameters.
2025-11-12 04:58:10,447 - lightrag - INFO - Final context: 5 entities, 7 relations, 1 chunks
2025-11-12 04:58:10,447 - lightrag - INFO - Final chunks S+F/O: E5/1
2025-11-12 04:58:10,448 - lightrag - INFO - Found 0 image path matches in prompt
2025-11-12 04:58:10,448 - lightrag - INFO - No valid images found, falling back to normal query
2025-11-12 04:58:10,456 - lightrag - INFO - Query nodes: Table data, Numerical data, Categorical data, Dataset, Insights (top_k:40, cosine:0.2)
2025-11-12 04:58:10,464 - lightrag - INFO - Local query: 2 entites, 5 relations
2025-11-12 04:58:10,464 - lightrag - INFO - Query edges: Performance data, Similar results, Document comparison (top_k:40, cosine:0.2)
2025-11-12 04:58:10,471 - lightrag - INFO - Global query: 4 entites, 3 relations
2025-11-12 04:58:10,471 - lightrag - INFO - Raw search results: 5 entities, 7 relations, 0 vector chunks
2025-11-12 04:58:10,472 - lightrag - INFO - After truncation: 5 entities, 7 relations
2025-11-12 04:58:10,472 - lightrag - INFO - Selecting 1 from 1 entity-related chunks by vector similarity
2025-11-12 04:58:10,473 - lightrag - INFO - Find no additional relations-related chunks from 7 relations
2025-11-12 04:58:10,473 - lightrag - INFO - Round-robin merged chunks: 1 -> 1 (deduplicated 0)
2025-11-12 04:58:10,474 - lightrag - WARNING - Rerank is enabled but no rerank model is configured. Please set up a rerank model or set enable_rerank=False in query parameters.
2025-11-12 04:58:10,475 - lightrag - INFO - Final context: 5 entities, 7 relations, 1 chunks
2025-11-12 04:58:10,475 - lightrag - INFO - Final chunks S+F/O: E5/1
2025-11-12 04:58:23,315 - lightrag - INFO -  == LLM cache == saving: hybrid:query:85147655008917187153a5dd8f3a17d0
2025-11-12 04:58:23,316 - lightrag - INFO - Saved multimodal query result to cache: multimodal_query...
2025-11-12 04:58:23,318 - lightrag - INFO - Multimodal query completed
2025-11-12 04:58:23,318 - lightrag - INFO - [Answer]: Discarded Content Analysis is a service or module designed to process and evaluate unused or obsolete content for potential reuse or transformation. It is applied to specific pieces of discarded content, such as the Test Document, which contains the text: This is a test document for RAGAnything4. The analysis process interprets such discarded material, offering options for reevaluation, messaging refinement, or transformation into new forms. This method is integral to systems like RAGAnything4, which is specifically designed to handle discarded or unused content for analysis, reframing, or repurposing. The Test Document is explicitly used as a sample for RAGAnything4 to evaluate its capabilities in managing such content. Additionally, the Analysis method, which underpins Discarded Content Analysis, is utilized to extract value, refine messaging, or transform discarded material into something new.

### References

- [1] test.txt
2025-11-12 04:58:23,318 - lightrag - INFO - 
------------------------------------------------------------
2025-11-12 04:58:23,318 - lightrag - INFO - [Multimodal Query]: Mathematical formula analysis
2025-11-12 04:58:23,318 - lightrag - INFO - Executing multimodal query: Explain this formula and relate it to any mathematical concepts in the document...
2025-11-12 04:58:23,318 - lightrag - INFO - Query mode: hybrid
2025-11-12 04:58:23,318 - lightrag - INFO - Starting multimodal query content processing...
2025-11-12 04:58:23,318 - lightrag - INFO - Processing 1/1 multimodal content: equation
2025-11-12 04:58:33,665 - lightrag - INFO - Multimodal query content processing completed
2025-11-12 04:58:33,666 - lightrag - INFO - Generated enhanced query length: 890 characters
2025-11-12 04:58:33,666 - lightrag - INFO - Executing VLM enhanced query: User query: Explain this formula and relate it to any mathematical concepts in the document

Related...
2025-11-12 04:58:38,331 - lightrag - INFO -  == LLM cache == saving: hybrid:keywords:8569aae2d2f54ddfc278f0b47572ecb3
2025-11-12 04:58:38,341 - lightrag - INFO - Query nodes: Quadratic formula, Area of a circle, Chain rule, Volume of a sphere, Algebra, Calculus, Geometry, Statistics (top_k:40, cosine:0.2)
2025-11-12 04:58:38,350 - lightrag - INFO - Local query: 1 entites, 4 relations
2025-11-12 04:58:38,350 - lightrag - INFO - Query edges: Mathematical formula, Mathematical concepts, Formula explanation (top_k:40, cosine:0.2)
2025-11-12 04:58:38,357 - lightrag - INFO - Raw search results: 1 entities, 4 relations, 0 vector chunks
2025-11-12 04:58:38,358 - lightrag - INFO - After truncation: 1 entities, 4 relations
2025-11-12 04:58:38,358 - lightrag - INFO - Selecting 1 from 1 entity-related chunks by vector similarity
2025-11-12 04:58:38,359 - lightrag - INFO - Find no additional relations-related chunks from 4 relations
2025-11-12 04:58:38,359 - lightrag - INFO - Round-robin merged chunks: 1 -> 1 (deduplicated 0)
2025-11-12 04:58:38,360 - lightrag - WARNING - Rerank is enabled but no rerank model is configured. Please set up a rerank model or set enable_rerank=False in query parameters.
2025-11-12 04:58:38,361 - lightrag - INFO - Final context: 1 entities, 4 relations, 1 chunks
2025-11-12 04:58:38,361 - lightrag - INFO - Final chunks S+F/O: E1/1
2025-11-12 04:58:38,362 - lightrag - INFO - Found 0 image path matches in prompt
2025-11-12 04:58:38,362 - lightrag - INFO - No valid images found, falling back to normal query
2025-11-12 04:58:38,371 - lightrag - INFO - Query nodes: Quadratic formula, Area of a circle, Chain rule, Volume of a sphere, Algebra, Calculus, Geometry, Statistics (top_k:40, cosine:0.2)
2025-11-12 04:58:38,379 - lightrag - INFO - Local query: 1 entites, 4 relations
2025-11-12 04:58:38,379 - lightrag - INFO - Query edges: Mathematical formula, Mathematical concepts, Formula explanation (top_k:40, cosine:0.2)
2025-11-12 04:58:38,386 - lightrag - INFO - Raw search results: 1 entities, 4 relations, 0 vector chunks
2025-11-12 04:58:38,386 - lightrag - INFO - After truncation: 1 entities, 4 relations
2025-11-12 04:58:38,387 - lightrag - INFO - Selecting 1 from 1 entity-related chunks by vector similarity
2025-11-12 04:58:38,387 - lightrag - INFO - Find no additional relations-related chunks from 4 relations
2025-11-12 04:58:38,387 - lightrag - INFO - Round-robin merged chunks: 1 -> 1 (deduplicated 0)
2025-11-12 04:58:38,388 - lightrag - WARNING - Rerank is enabled but no rerank model is configured. Please set up a rerank model or set enable_rerank=False in query parameters.
2025-11-12 04:58:38,389 - lightrag - INFO - Final context: 1 entities, 4 relations, 1 chunks
2025-11-12 04:58:38,389 - lightrag - INFO - Final chunks S+F/O: E1/1
2025-11-12 04:58:53,401 - lightrag - INFO -  == LLM cache == saving: hybrid:query:8ebce7f44d5b77f3d7501abee0c7310f
2025-11-12 04:58:53,402 - lightrag - INFO - Saved multimodal query result to cache: multimodal_query...
2025-11-12 04:58:53,404 - lightrag - INFO - Multimodal query completed
2025-11-12 04:58:53,404 - lightrag - INFO - [Answer]: The provided context indicates that the system is designed to assist with analyzing, reframing, or repurposing discarded or unused content. The entity discarded_d79137bd80607d62d063fc9b98172ea1 is categorized as discarded and is associated with several entities including Test Document, Discarded Content Analysis, Analysis, and RAGAnything4. The Test Document is explicitly described as a sample document for RAGAnything4, with the text: This is a test document for RAGAnything4. The systems role is to help users extract value, refine messaging, or transform such discarded material into something new.

The systems response is framed as an invitation to specify which discarded content the user wishes to work with, indicating that the system is ready to assist with any such material  whether outdated, abandoned, or forgotten drafts  by leveraging its analytical capabilities.

### References

- [1] test.txt
2025-11-12 04:58:53,404 - lightrag - INFO - 
============================================================
2025-11-12 04:58:53,404 - lightrag - INFO -  All queries completed successfully!
2025-11-12 04:58:53,404 - lightrag - INFO - Output saved to: ./output
2025-11-12 04:58:53,404 - lightrag - INFO - ============================================================
2025-11-12 04:58:53,404 - lightrag - WARNING - Cleanup warning: 'RAGAnything' object has no attribute 'finalize'
2025-11-14 08:22:17,239 - lightrag - INFO - ============================================================
2025-11-14 08:22:17,240 - lightrag - INFO - Initializing RAGAnything with Qwen3-VL-4B-Instruct
2025-11-14 08:22:17,240 - lightrag - INFO - ============================================================
2025-11-14 08:22:17,240 - lightrag - INFO - Loading Qwen model...
2025-11-14 08:22:53,742 - lightrag - INFO - Loading embedding model: sentence-transformers/all-MiniLM-L6-v2
2025-11-14 08:22:57,003 - lightrag - INFO - Initializing RAGAnything...
2025-11-14 08:22:57,004 - lightrag - INFO - RAGAnything initialized with config:
2025-11-14 08:22:57,004 - lightrag - INFO -   Working directory: ./rag_storage
2025-11-14 08:22:57,004 - lightrag - INFO -   Parser: mineru
2025-11-14 08:22:57,004 - lightrag - INFO -   Parse method: auto
2025-11-14 08:22:57,004 - lightrag - INFO -   Multimodal processing - Image: True, Table: True, Equation: True
2025-11-14 08:22:57,004 - lightrag - INFO -   Max concurrent files: 1
2025-11-14 08:22:57,004 - lightrag - INFO - 
Processing document: examples/BH1.pdf
2025-11-14 08:22:57,004 - lightrag - INFO - ------------------------------------------------------------
2025-11-14 08:22:59,707 - lightrag - INFO - Parser 'mineru' installation verified
2025-11-14 08:22:59,707 - lightrag - INFO - Initializing LightRAG with parameters: {'working_dir': './rag_storage'}
2025-11-14 08:23:01,022 - lightrag - INFO - [_] Loaded graph from ./rag_storage/graph_chunk_entity_relation.graphml with 5 nodes, 7 edges
2025-11-14 08:23:01,023 - lightrag - INFO - [_] Process 23829 KV load full_docs with 0 records
2025-11-14 08:23:01,024 - lightrag - INFO - [_] Process 23829 KV load text_chunks with 1 records
2025-11-14 08:23:01,025 - lightrag - INFO - [_] Process 23829 KV load full_entities with 1 records
2025-11-14 08:23:01,025 - lightrag - INFO - [_] Process 23829 KV load full_relations with 1 records
2025-11-14 08:23:01,025 - lightrag - INFO - [_] Process 23829 KV load entity_chunks with 0 records
2025-11-14 08:23:01,025 - lightrag - INFO - [_] Process 23829 KV load relation_chunks with 0 records
2025-11-14 08:23:01,026 - lightrag - INFO - [_] Process 23829 KV load llm_response_cache with 13 records
2025-11-14 08:23:01,026 - lightrag - INFO - [_] Process 23829 doc status load doc_status with 0 records
2025-11-14 08:23:01,026 - lightrag - INFO - [_] Process 23829 KV load parse_cache with 4 records
2025-11-14 08:23:01,027 - lightrag - INFO - Multimodal processors initialized with context support
2025-11-14 08:23:01,027 - lightrag - INFO - Available processors: ['image', 'table', 'equation', 'generic']
2025-11-14 08:23:01,028 - lightrag - INFO - Context configuration: ContextConfig(context_window=1, context_mode='page', max_context_tokens=2000, include_headers=True, include_captions=True, filter_content_types=['text'])
2025-11-14 08:23:01,028 - lightrag - INFO - LightRAG, parse cache, and multimodal processors initialized
2025-11-14 08:23:01,028 - lightrag - INFO - Starting complete document processing: examples/BH1.pdf
2025-11-14 08:23:01,028 - lightrag - INFO - Starting document parsing: examples/BH1.pdf
2025-11-14 08:23:01,028 - lightrag - INFO - Using mineru parser with method: auto
2025-11-14 08:23:01,028 - lightrag - INFO - Detected PDF file, using parser for PDF...
2025-11-14 08:23:32,886 - lightrag - INFO - Parsing examples/BH1.pdf complete! Extracted 17 content blocks
2025-11-14 08:23:32,888 - lightrag - INFO - Stored parsing result in cache: ad79194564875bf270c7dea96b99b293
2025-11-14 08:23:32,888 - lightrag - INFO - 
Content Information:
2025-11-14 08:23:32,888 - lightrag - INFO - * Total blocks in content_list: 17
2025-11-14 08:23:32,888 - lightrag - INFO - * Content block types:
2025-11-14 08:23:32,888 - lightrag - INFO -   - text: 16
2025-11-14 08:23:32,888 - lightrag - INFO -   - discarded: 1
2025-11-14 08:23:32,888 - lightrag - INFO - Content separation complete:
2025-11-14 08:23:32,888 - lightrag - INFO -   - Text content length: 2283 characters
2025-11-14 08:23:32,888 - lightrag - INFO -   - Multimodal items count: 1
2025-11-14 08:23:32,888 - lightrag - INFO -   - Multimodal type distribution: {'discarded': 1}
2025-11-14 08:23:32,888 - lightrag - INFO - Setting content source for context-aware multimodal processing...
2025-11-14 08:23:32,888 - lightrag - INFO - Content source set with format: minerU
2025-11-14 08:23:32,888 - lightrag - INFO - Content source set with format: minerU
2025-11-14 08:23:32,888 - lightrag - INFO - Content source set with format: minerU
2025-11-14 08:23:32,889 - lightrag - INFO - Content source set with format: minerU
2025-11-14 08:23:32,889 - lightrag - INFO - Content source set for context extraction (format: minerU)
2025-11-14 08:23:32,889 - lightrag - INFO - Starting text content insertion into LightRAG...
2025-11-14 08:23:32,890 - lightrag - INFO - Processing 1 document(s)
2025-11-14 08:23:32,891 - lightrag - INFO - Extracting stage 1/1: BH1.pdf
2025-11-14 08:23:32,891 - lightrag - INFO - Processing d-id: doc-13c0d0028806953249ec182cb74f0e04
2025-11-14 08:23:32,893 - lightrag - INFO - Embedding func: 8 new workers initialized (Timeouts: Func: 30s, Worker: 60s, Health Check: 75s)
2025-11-14 08:23:33,111 - lightrag - INFO - LLM func: 4 new workers initialized (Timeouts: Func: 180s, Worker: 360s, Health Check: 375s)
2025-11-14 08:24:43,730 - lightrag - INFO -  == LLM cache == saving: default:extract:89516d675db0165580ac4f68131bd786
2025-11-14 08:25:54,056 - lightrag - INFO -  == LLM cache == saving: default:extract:1f13607ffaa09601f00f96c6584691c1
2025-11-14 08:25:54,060 - lightrag - INFO - Chunk 1 of 1 extracted 12 Ent + 9 Rel chunk-d35bdaa6a7847dc89d67178c61aba493
2025-11-14 08:25:54,061 - lightrag - INFO - Merging stage 1/1: BH1.pdf
2025-11-14 08:25:54,061 - lightrag - INFO - Phase 1: Processing 12 entities from doc-13c0d0028806953249ec182cb74f0e04 (async: 8)
2025-11-14 08:25:54,209 - lightrag - INFO - Phase 2: Processing 9 relations from doc-13c0d0028806953249ec182cb74f0e04 (async: 8)
2025-11-14 08:25:54,306 - lightrag - INFO - Phase 3: Updating final 12(12+0) entities and  9 relations from doc-13c0d0028806953249ec182cb74f0e04
2025-11-14 08:25:54,306 - lightrag - INFO - Completed merging: 12 entities, 0 extra entities, 9 relations
2025-11-14 08:25:54,312 - lightrag - INFO - [_] Writing graph with 17 nodes, 16 edges
2025-11-14 08:25:54,315 - lightrag - INFO - In memory DB persist to disk
2025-11-14 08:25:54,315 - lightrag - INFO - Completed processing file 1/1: BH1.pdf
2025-11-14 08:25:54,315 - lightrag - INFO - Enqueued document processing pipeline stopped
2025-11-14 08:25:54,315 - lightrag - INFO - Text content insertion complete
2025-11-14 08:25:54,315 - lightrag - INFO - Document doc-13c0d0028806953249ec182cb74f0e04 text processing is complete, but multimodal content still needs processing
2025-11-14 08:25:54,315 - lightrag - INFO - Starting multimodal content processing...
2025-11-14 08:25:54,315 - lightrag - INFO - Starting to process 1 multimodal content items
2025-11-14 08:25:59,668 - lightrag - WARNING - Using regex fallback for JSON parsing
2025-11-14 08:25:59,669 - lightrag - ERROR - Error parsing discarded analysis response: Missing required fields in response
2025-11-14 08:25:59,669 - lightrag - INFO - Multimodal chunk generation progress: 1/1 (100.0%)
2025-11-14 08:25:59,669 - lightrag - INFO - Generated descriptions for 1/1 multimodal items using correct processors
2025-11-14 08:26:20,974 - lightrag - INFO -  == LLM cache == saving: default:extract:796a54fddc15ba2939d3ddb395bbc090
2025-11-14 08:26:20,975 - lightrag - WARNING - Entity extraction error: entity name became empty after cleaning. Original: '1'
2025-11-14 08:26:42,431 - lightrag - INFO -  == LLM cache == saving: default:extract:6794cb5e983d4d0709dbc7fce810161c
2025-11-14 08:26:42,432 - lightrag - WARNING - Entity extraction error: entity name became empty after cleaning. Original: '1'
2025-11-14 08:26:42,433 - lightrag - INFO - Chunk 1 of 1 extracted 3 Ent + 3 Rel chunk-4c58526aaa568588232ac39d261cbec7
2025-11-14 08:26:42,433 - lightrag - INFO - Extracted entities from 1 multimodal chunks
2025-11-14 08:26:42,433 - lightrag - INFO - Added 3 belongs_to relations for multimodal entities
2025-11-14 08:26:42,433 - lightrag - INFO - Merging stage 1/1: BH1.pdf
2025-11-14 08:26:42,434 - lightrag - INFO - Phase 1: Processing 3 entities from doc-13c0d0028806953249ec182cb74f0e04 (async: 8)
2025-11-14 08:26:42,434 - lightrag - INFO - Merged: `Analysis` | 1+1
2025-11-14 08:26:42,464 - lightrag - INFO - Phase 2: Processing 6 relations from doc-13c0d0028806953249ec182cb74f0e04 (async: 8)
2025-11-14 08:26:42,503 - lightrag - INFO - Merged: `Analysis`~`discarded_d79137bd80607d62d063fc9b98172ea1` | 1+1
2025-11-14 08:26:42,511 - lightrag - INFO - Chunks appended from relation: `discarded_d79137bd80607d62d063fc9b98172ea1`
2025-11-14 08:26:42,519 - lightrag - INFO - Phase 3: Updating final 3(3+0) entities and  6 relations from doc-13c0d0028806953249ec182cb74f0e04
2025-11-14 08:26:42,520 - lightrag - INFO - Completed merging: 3 entities, 0 extra entities, 6 relations
2025-11-14 08:26:42,525 - lightrag - INFO - [_] Writing graph with 19 nodes, 21 edges
2025-11-14 08:26:42,528 - lightrag - INFO - In memory DB persist to disk
2025-11-14 08:26:42,528 - lightrag - INFO - Updated doc_status: added 1 multimodal chunks to standard chunks_list (total chunks: 2)
2025-11-14 08:26:42,529 - lightrag - INFO - Multimodal content processing complete
2025-11-14 08:26:42,529 - lightrag - INFO - Document examples/BH1.pdf processing complete!
2025-11-14 08:26:42,529 - lightrag - INFO -  Document processing completed!
2025-11-14 08:26:42,529 - lightrag - INFO - 
============================================================
2025-11-14 08:26:42,529 - lightrag - INFO - Querying Processed Document
2025-11-14 08:26:42,529 - lightrag - INFO - ============================================================
2025-11-14 08:26:42,529 - lightrag - INFO - 
[Text Query 1]: What is the main content of the document?
2025-11-14 08:26:42,529 - lightrag - INFO - Executing VLM enhanced query: What is the main content of the document?...
2025-11-14 08:26:42,530 - lightrag - WARNING - low_level_keywords is empty
2025-11-14 08:26:42,541 - lightrag - INFO - Query edges: Main content, Document summary (top_k:40, cosine:0.2)
2025-11-14 08:26:42,549 - lightrag - INFO - Global query: 9 entites, 8 relations
2025-11-14 08:26:42,549 - lightrag - INFO - Raw search results: 9 entities, 8 relations, 0 vector chunks
2025-11-14 08:26:42,551 - lightrag - INFO - After truncation: 9 entities, 8 relations
2025-11-14 08:26:42,551 - lightrag - INFO - Selecting 3 from 3 entity-related chunks by vector similarity
2025-11-14 08:26:42,552 - lightrag - INFO - Find no additional relations-related chunks from 8 relations
2025-11-14 08:26:42,552 - lightrag - INFO - Round-robin merged chunks: 3 -> 3 (deduplicated 0)
2025-11-14 08:26:42,553 - lightrag - WARNING - Rerank is enabled but no rerank model is configured. Please set up a rerank model or set enable_rerank=False in query parameters.
2025-11-14 08:26:42,555 - lightrag - INFO - Final context: 9 entities, 8 relations, 3 chunks
2025-11-14 08:26:42,555 - lightrag - INFO - Final chunks S+F/O: E4/1 E3/2 E3/3
2025-11-14 08:26:42,555 - lightrag - INFO - Found 0 image path matches in prompt
2025-11-14 08:26:42,556 - lightrag - INFO - No valid images found, falling back to normal query
2025-11-14 08:26:42,556 - lightrag - WARNING - low_level_keywords is empty
2025-11-14 08:26:42,563 - lightrag - INFO - Query edges: Main content, Document summary (top_k:40, cosine:0.2)
2025-11-14 08:26:42,571 - lightrag - INFO - Global query: 9 entites, 8 relations
2025-11-14 08:26:42,571 - lightrag - INFO - Raw search results: 9 entities, 8 relations, 0 vector chunks
2025-11-14 08:26:42,572 - lightrag - INFO - After truncation: 9 entities, 8 relations
2025-11-14 08:26:42,572 - lightrag - INFO - Selecting 3 from 3 entity-related chunks by vector similarity
2025-11-14 08:26:42,573 - lightrag - INFO - Find no additional relations-related chunks from 8 relations
2025-11-14 08:26:42,573 - lightrag - INFO - Round-robin merged chunks: 3 -> 3 (deduplicated 0)
2025-11-14 08:26:42,574 - lightrag - WARNING - Rerank is enabled but no rerank model is configured. Please set up a rerank model or set enable_rerank=False in query parameters.
2025-11-14 08:26:42,576 - lightrag - INFO - Final context: 9 entities, 8 relations, 3 chunks
2025-11-14 08:26:42,576 - lightrag - INFO - Final chunks S+F/O: E4/1 E3/2 E3/3
2025-11-14 08:26:42,581 - lightrag - INFO -  == LLM cache == Query cache hit, using cached response as query result
2025-11-14 08:26:42,581 - lightrag - INFO - [Answer]: RAGAnything4 is a system or framework specifically designed to handle discarded or unused content for analysis, reframing, or repurposing. It evaluates such content to extract value or transform it into new forms, making it particularly useful for managing obsolete or forgotten materials. A key component of this system is Discarded Content Analysis, which processes and evaluates unused or obsolete content for potential reuse or transformation. This analysis is grounded in the broader method of Analysis, which interprets discarded content to offer options for reevaluation, messaging refinement, or transformation.

The test document  a sample piece of discarded content  is explicitly designed for RAGAnything4 to evaluate its handling of such material. The test document contains the text: This is a test document for RAGAnything4. It is processed through Discarded Content Analysis, which leverages the Analysis method to interpret and potentially repurpose the content. The system is capable of assisting users in analyzing, reframing, or repurposing any discarded or unused content, whether its outdated material, abandoned ideas, or forgotten drafts.

### References

- [1] test.txt
2025-11-14 08:26:42,581 - lightrag - INFO - 
[Text Query 2]: What are the key topics discussed?
2025-11-14 08:26:42,581 - lightrag - INFO - Executing VLM enhanced query: What are the key topics discussed?...
2025-11-14 08:26:42,581 - lightrag - WARNING - low_level_keywords is empty
2025-11-14 08:26:42,589 - lightrag - INFO - Query edges: Key topics (top_k:40, cosine:0.2)
2025-11-14 08:26:42,596 - lightrag - INFO - Global query: 3 entites, 2 relations
2025-11-14 08:26:42,596 - lightrag - INFO - Raw search results: 3 entities, 2 relations, 0 vector chunks
2025-11-14 08:26:42,597 - lightrag - INFO - After truncation: 3 entities, 2 relations
2025-11-14 08:26:42,597 - lightrag - INFO - Selecting 1 from 1 entity-related chunks by vector similarity
2025-11-14 08:26:42,597 - lightrag - INFO - Find no additional relations-related chunks from 2 relations
2025-11-14 08:26:42,597 - lightrag - INFO - Round-robin merged chunks: 1 -> 1 (deduplicated 0)
2025-11-14 08:26:42,599 - lightrag - WARNING - Rerank is enabled but no rerank model is configured. Please set up a rerank model or set enable_rerank=False in query parameters.
2025-11-14 08:26:42,599 - lightrag - INFO - Final context: 3 entities, 2 relations, 1 chunks
2025-11-14 08:26:42,600 - lightrag - INFO - Final chunks S+F/O: E3/1
2025-11-14 08:26:42,600 - lightrag - INFO - Found 0 image path matches in prompt
2025-11-14 08:26:42,600 - lightrag - INFO - No valid images found, falling back to normal query
2025-11-14 08:26:42,600 - lightrag - WARNING - low_level_keywords is empty
2025-11-14 08:26:42,607 - lightrag - INFO - Query edges: Key topics (top_k:40, cosine:0.2)
2025-11-14 08:26:42,614 - lightrag - INFO - Global query: 3 entites, 2 relations
2025-11-14 08:26:42,614 - lightrag - INFO - Raw search results: 3 entities, 2 relations, 0 vector chunks
2025-11-14 08:26:42,615 - lightrag - INFO - After truncation: 3 entities, 2 relations
2025-11-14 08:26:42,615 - lightrag - INFO - Selecting 1 from 1 entity-related chunks by vector similarity
2025-11-14 08:26:42,615 - lightrag - INFO - Find no additional relations-related chunks from 2 relations
2025-11-14 08:26:42,615 - lightrag - INFO - Round-robin merged chunks: 1 -> 1 (deduplicated 0)
2025-11-14 08:26:42,616 - lightrag - WARNING - Rerank is enabled but no rerank model is configured. Please set up a rerank model or set enable_rerank=False in query parameters.
2025-11-14 08:26:42,617 - lightrag - INFO - Final context: 3 entities, 2 relations, 1 chunks
2025-11-14 08:26:42,617 - lightrag - INFO - Final chunks S+F/O: E3/1
2025-11-14 08:27:42,082 - lightrag - INFO -  == LLM cache == saving: hybrid:query:1de7bba13f85b886a14e871a6c37c1bb
2025-11-14 08:27:42,084 - lightrag - INFO - [Answer]: ### B Cu Hi n Tp Thi Vn p Bo Him

B cu hi n tp thi vn p bo him c thit k c bit  ph hp vi phng php ging dy ca Professor Tram, theo di dng chy v ghi ch slide ca c. Vi cch ging dy y , hc vin c th yn tm v kin thc nn tng, v b ti liu ny  c xy dng theo trnh t logic v h thng, c bit l t Chng I: Khi Qut Chung V Bo Him  phn nn tng ct li ca ton b ni dung.

### Chng I: Khi Qut Chung V Bo Him

Chng I cung cp mt ci nhn tng quan v bo him, tp trung vo khi nim ri ro  mt yu t trung tm trong lnh vc ny. Ri ro c nh ngha l s nguy him bt trc m con ngi khng lng trc c v l nguyn nhn dn n tn tht.  i ph vi ri ro, con ngi  v ang p dng hai nhm bin php chnh:

#### Nhm 1: Cc bin php kim sot ri ro (p dng trc khi ri ro xy ra)
- **Trnh n ri ro**: Khng thc hin cc hnh ng qu mo him hoc khng chc chn. Mc ch l ngn chn ri ro xy ra, loi tr nguy c tn tht. u im l hiu qu nht trong tnh hung khn cp, nhng nhc im l khin con ngi th ng, mt c hi thnh cng, v khng p dng c vi mi ri ro (v trnh ri ro ny c th dn n ri ro khc).
- ** phng v hn ch ri ro**: Mc ch l gim thiu kh nng xy ra ri ro v hn ch tn tht. C hai c ch tc ng:
  - **Xc sut xy ra ri ro (P)**: ti thiu ha kh nng xy ra (v d: lp camera chng trm).
  - **Hu qu ca ri ro (C)**: ti thiu ha tn tht thit hi (v d: lp h thng cha chy, i m bo him). Tuy nhin, cc bin php ny khng lm ri ro bin mt hon ton.

#### Nhm 2: Ti tr ri ro (p dng sau khi ri ro xy ra)
- **Chp nhn ri ro**: T gnh chu ri ro bng ngun lc ca chnh mnh (t bo him). Vi c nhn v gia nh, t bo him c th l hnh thc tit kim; vi doanh nghip, t chc kinh t, cn lp qu d tr. Tuy nhin, t bo him c hn ch: quy m nh  kh khc phc ri ro ln, v c th gy  ng vn.
- **Chuyn nhng ri ro**: Phn tn ri ro, chia nh tn tht. u im l khng gy  ng vn trong x hi, phm vi b p rng ln, v c th b p ri ro thm ha. Tuy nhin, hn ch l kh nng tp hp mt lng ln ngi c cng ri ro l khng   khon d tr chung khng ln, khng  b p.

### Kt lun

Chng I khng ch nh ngha ri ro m cn cung cp mt h thng phn tch v gii php thc tin  qun l ri ro  t vic kim sot trc, n ti tr sau. y l nn tng quan trng  hc vin tip cn cc ni dung nng cao trong cc chng tip theo, ng thi gip hiu r vai tr v c ch ca bo him trong i sng v kinh t.

### References

- [1] BH1.pdf
2025-11-14 08:27:42,084 - lightrag - INFO - 
[Text Query 3]: Summarize the most important points
2025-11-14 08:27:42,084 - lightrag - INFO - Executing VLM enhanced query: Summarize the most important points...
2025-11-14 08:27:42,085 - lightrag - WARNING - low_level_keywords is empty
2025-11-14 08:27:42,093 - lightrag - INFO - Query edges: Summarize, Important points (top_k:40, cosine:0.2)
2025-11-14 08:27:42,101 - lightrag - INFO - Global query: 7 entites, 5 relations
2025-11-14 08:27:42,101 - lightrag - INFO - Raw search results: 7 entities, 5 relations, 0 vector chunks
2025-11-14 08:27:42,102 - lightrag - INFO - After truncation: 7 entities, 5 relations
2025-11-14 08:27:42,103 - lightrag - INFO - Selecting 3 from 3 entity-related chunks by vector similarity
2025-11-14 08:27:42,103 - lightrag - INFO - Find no additional relations-related chunks from 5 relations
2025-11-14 08:27:42,103 - lightrag - INFO - Round-robin merged chunks: 3 -> 3 (deduplicated 0)
2025-11-14 08:27:42,104 - lightrag - WARNING - Rerank is enabled but no rerank model is configured. Please set up a rerank model or set enable_rerank=False in query parameters.
2025-11-14 08:27:42,106 - lightrag - INFO - Final context: 7 entities, 5 relations, 3 chunks
2025-11-14 08:27:42,106 - lightrag - INFO - Final chunks S+F/O: E3/1 E2/2 E3/3
2025-11-14 08:27:42,106 - lightrag - INFO - Found 0 image path matches in prompt
2025-11-14 08:27:42,106 - lightrag - INFO - No valid images found, falling back to normal query
2025-11-14 08:27:42,107 - lightrag - WARNING - low_level_keywords is empty
2025-11-14 08:27:42,114 - lightrag - INFO - Query edges: Summarize, Important points (top_k:40, cosine:0.2)
2025-11-14 08:27:42,121 - lightrag - INFO - Global query: 7 entites, 5 relations
2025-11-14 08:27:42,121 - lightrag - INFO - Raw search results: 7 entities, 5 relations, 0 vector chunks
2025-11-14 08:27:42,122 - lightrag - INFO - After truncation: 7 entities, 5 relations
2025-11-14 08:27:42,123 - lightrag - INFO - Selecting 3 from 3 entity-related chunks by vector similarity
2025-11-14 08:27:42,123 - lightrag - INFO - Find no additional relations-related chunks from 5 relations
2025-11-14 08:27:42,123 - lightrag - INFO - Round-robin merged chunks: 3 -> 3 (deduplicated 0)
2025-11-14 08:27:42,124 - lightrag - WARNING - Rerank is enabled but no rerank model is configured. Please set up a rerank model or set enable_rerank=False in query parameters.
2025-11-14 08:27:42,126 - lightrag - INFO - Final context: 7 entities, 5 relations, 3 chunks
2025-11-14 08:27:42,126 - lightrag - INFO - Final chunks S+F/O: E3/1 E2/2 E3/3
2025-11-14 08:27:42,130 - lightrag - INFO -  == LLM cache == Query cache hit, using cached response as query result
2025-11-14 08:27:42,130 - lightrag - INFO - [Answer]: Discarded Content Analysis is a service or module designed to process and evaluate unused or obsolete content for potential reuse or transformation. It leverages the broader **Analysis** method, which interprets discarded material to offer options for reevaluation, messaging refinement, or repurposing into new forms. This approach enables users to extract value from outdated, abandoned, or forgotten content  whether its drafts, ideas, or other discarded material  by refining its messaging or transforming it into something more useful or relevant.

In practice, the **Analysis** method is applied directly to Discarded Content Analysis, allowing for tailored interventions such as rephrasing, restructuring, or repurposing the content to meet new objectives. For instance, if a user provides discarded content like the test document from RAGAnything4  This is a test document for RAGAnything4.  the system can interpret it and offer actionable suggestions for reevaluation or transformation.

The system is interactive and ready to assist users in analyzing any discarded or unused content they wish to work with, ensuring that even seemingly obsolete material can be revitalized or repurposed effectively.

### References

- [1] test.txt
2025-11-14 08:27:42,131 - lightrag - INFO - 
------------------------------------------------------------
2025-11-14 08:27:42,131 - lightrag - INFO - [Multimodal Query]: Analyzing performance data in context of document
2025-11-14 08:27:42,131 - lightrag - INFO - Executing multimodal query: Compare this performance data with any similar results mentioned in the document...
2025-11-14 08:27:42,131 - lightrag - INFO - Query mode: hybrid
2025-11-14 08:27:42,131 - lightrag - INFO - Multimodal query cache hit: multimodal_query...
2025-11-14 08:27:42,131 - lightrag - INFO - [Answer]: Discarded Content Analysis is a service or module designed to process and evaluate unused or obsolete content for potential reuse or transformation. It is applied to specific pieces of discarded content, such as the Test Document, which contains the text: This is a test document for RAGAnything4. The analysis process interprets such discarded material, offering options for reevaluation, messaging refinement, or transformation into new forms. This method is integral to systems like RAGAnything4, which is specifically designed to handle discarded or unused content for analysis, reframing, or repurposing. The Test Document is explicitly used as a sample for RAGAnything4 to evaluate its capabilities in managing such content. Additionally, the Analysis method, which underpins Discarded Content Analysis, is utilized to extract value, refine messaging, or transform discarded material into something new.

### References

- [1] test.txt
2025-11-14 08:27:42,131 - lightrag - INFO - 
------------------------------------------------------------
2025-11-14 08:27:42,131 - lightrag - INFO - [Multimodal Query]: Mathematical formula analysis
2025-11-14 08:27:42,131 - lightrag - INFO - Executing multimodal query: Explain this formula and relate it to any mathematical concepts in the document...
2025-11-14 08:27:42,131 - lightrag - INFO - Query mode: hybrid
2025-11-14 08:27:42,131 - lightrag - INFO - Multimodal query cache hit: multimodal_query...
2025-11-14 08:27:42,131 - lightrag - INFO - [Answer]: The provided context indicates that the system is designed to assist with analyzing, reframing, or repurposing discarded or unused content. The entity discarded_d79137bd80607d62d063fc9b98172ea1 is categorized as discarded and is associated with several entities including Test Document, Discarded Content Analysis, Analysis, and RAGAnything4. The Test Document is explicitly described as a sample document for RAGAnything4, with the text: This is a test document for RAGAnything4. The systems role is to help users extract value, refine messaging, or transform such discarded material into something new.

The systems response is framed as an invitation to specify which discarded content the user wishes to work with, indicating that the system is ready to assist with any such material  whether outdated, abandoned, or forgotten drafts  by leveraging its analytical capabilities.

### References

- [1] test.txt
2025-11-14 08:27:42,131 - lightrag - INFO - 
============================================================
2025-11-14 08:27:42,132 - lightrag - INFO -  All queries completed successfully!
2025-11-14 08:27:42,132 - lightrag - INFO - Output saved to: ./output
2025-11-14 08:27:42,132 - lightrag - INFO - ============================================================
2025-11-14 08:27:42,132 - lightrag - WARNING - Cleanup warning: 'RAGAnything' object has no attribute 'finalize'
2025-11-14 08:31:04,855 - lightrag - INFO - ============================================================
2025-11-14 08:31:04,855 - lightrag - INFO - Initializing RAGAnything with Qwen3-VL-4B-Instruct
2025-11-14 08:31:04,855 - lightrag - INFO - ============================================================
2025-11-14 08:31:04,855 - lightrag - INFO - Loading Qwen model...
2025-11-14 08:31:14,199 - lightrag - INFO - Loading embedding model: sentence-transformers/all-MiniLM-L6-v2
2025-11-14 08:31:17,276 - lightrag - INFO - Initializing RAGAnything...
2025-11-14 08:31:17,277 - lightrag - INFO - RAGAnything initialized with config:
2025-11-14 08:31:17,277 - lightrag - INFO -   Working directory: ./rag_storage
2025-11-14 08:31:17,277 - lightrag - INFO -   Parser: mineru
2025-11-14 08:31:17,277 - lightrag - INFO -   Parse method: auto
2025-11-14 08:31:17,277 - lightrag - INFO -   Multimodal processing - Image: True, Table: True, Equation: True
2025-11-14 08:31:17,277 - lightrag - INFO -   Max concurrent files: 1
2025-11-14 08:31:17,277 - lightrag - INFO - 
Processing document: examples/2023-N-XIN-CHUYN-TRNG.pdf
2025-11-14 08:31:17,277 - lightrag - INFO - ------------------------------------------------------------
2025-11-14 08:31:20,004 - lightrag - INFO - Parser 'mineru' installation verified
2025-11-14 08:31:20,004 - lightrag - INFO - Initializing LightRAG with parameters: {'working_dir': './rag_storage'}
2025-11-14 08:31:21,351 - lightrag - INFO - [_] Loaded graph from ./rag_storage/graph_chunk_entity_relation.graphml with 19 nodes, 21 edges
2025-11-14 08:31:21,353 - lightrag - INFO - [_] Process 25587 KV load full_docs with 1 records
2025-11-14 08:31:21,354 - lightrag - INFO - [_] Process 25587 KV load text_chunks with 3 records
2025-11-14 08:31:21,354 - lightrag - INFO - [_] Process 25587 KV load full_entities with 2 records
2025-11-14 08:31:21,354 - lightrag - INFO - [_] Process 25587 KV load full_relations with 2 records
2025-11-14 08:31:21,354 - lightrag - INFO - [_] Process 25587 KV load entity_chunks with 12 records
2025-11-14 08:31:21,355 - lightrag - INFO - [_] Process 25587 KV load relation_chunks with 9 records
2025-11-14 08:31:21,356 - lightrag - INFO - [_] Process 25587 KV load llm_response_cache with 18 records
2025-11-14 08:31:21,356 - lightrag - INFO - [_] Process 25587 doc status load doc_status with 1 records
2025-11-14 08:31:21,356 - lightrag - INFO - [_] Process 25587 KV load parse_cache with 5 records
2025-11-14 08:31:21,357 - lightrag - INFO - Multimodal processors initialized with context support
2025-11-14 08:31:21,357 - lightrag - INFO - Available processors: ['image', 'table', 'equation', 'generic']
2025-11-14 08:31:21,358 - lightrag - INFO - Context configuration: ContextConfig(context_window=1, context_mode='page', max_context_tokens=2000, include_headers=True, include_captions=True, filter_content_types=['text'])
2025-11-14 08:31:21,358 - lightrag - INFO - LightRAG, parse cache, and multimodal processors initialized
2025-11-14 08:31:21,358 - lightrag - INFO - Starting complete document processing: examples/2023-N-XIN-CHUYN-TRNG.pdf
2025-11-14 08:31:21,358 - lightrag - INFO - Starting document parsing: examples/2023-N-XIN-CHUYN-TRNG.pdf
2025-11-14 08:31:21,358 - lightrag - INFO - Using mineru parser with method: auto
2025-11-14 08:31:21,358 - lightrag - INFO - Detected PDF file, using parser for PDF...
2025-11-14 08:31:44,201 - lightrag - INFO - Parsing examples/2023-N-XIN-CHUYN-TRNG.pdf complete! Extracted 10 content blocks
2025-11-14 08:31:44,202 - lightrag - INFO - Stored parsing result in cache: 887db46167a1c04eae2e80686ee8b408
2025-11-14 08:31:44,202 - lightrag - INFO - 
Content Information:
2025-11-14 08:31:44,203 - lightrag - INFO - * Total blocks in content_list: 10
2025-11-14 08:31:44,203 - lightrag - INFO - * Content block types:
2025-11-14 08:31:44,203 - lightrag - INFO -   - text: 10
2025-11-14 08:31:44,203 - lightrag - INFO - Content separation complete:
2025-11-14 08:31:44,203 - lightrag - INFO -   - Text content length: 645 characters
2025-11-14 08:31:44,203 - lightrag - INFO -   - Multimodal items count: 0
2025-11-14 08:31:44,203 - lightrag - INFO - Starting text content insertion into LightRAG...
2025-11-14 08:31:44,204 - lightrag - INFO - Processing 1 document(s)
2025-11-14 08:31:44,204 - lightrag - INFO - Extracting stage 1/1: 2023-N-XIN-CHUYN-TRNG.pdf
2025-11-14 08:31:44,205 - lightrag - INFO - Processing d-id: doc-df82555e5bd5389e1c8f8b49653d6485
2025-11-14 08:31:44,206 - lightrag - INFO - Embedding func: 8 new workers initialized (Timeouts: Func: 30s, Worker: 60s, Health Check: 75s)
2025-11-14 08:31:44,424 - lightrag - INFO - LLM func: 4 new workers initialized (Timeouts: Func: 180s, Worker: 360s, Health Check: 375s)
2025-11-14 08:32:50,309 - lightrag - INFO -  == LLM cache == saving: default:extract:9d67ee69ade71e8070d726dabfda853c
2025-11-14 08:33:56,153 - lightrag - INFO -  == LLM cache == saving: default:extract:2a631efd6c8e8d3a85506d1778940599
2025-11-14 08:33:56,158 - lightrag - INFO - Chunk 1 of 1 extracted 12 Ent + 11 Rel chunk-5b84880b632b728d7b259472808ef108
2025-11-14 08:33:56,158 - lightrag - INFO - Merging stage 1/1: 2023-N-XIN-CHUYN-TRNG.pdf
2025-11-14 08:33:56,159 - lightrag - INFO - Phase 1: Processing 12 entities from doc-df82555e5bd5389e1c8f8b49653d6485 (async: 8)
2025-11-14 08:33:56,302 - lightrag - INFO - Phase 2: Processing 10 relations from doc-df82555e5bd5389e1c8f8b49653d6485 (async: 8)
2025-11-14 08:33:56,377 - lightrag - INFO - Phase 3: Updating final 12(12+0) entities and  10 relations from doc-df82555e5bd5389e1c8f8b49653d6485
2025-11-14 08:33:56,377 - lightrag - INFO - Completed merging: 12 entities, 0 extra entities, 10 relations
2025-11-14 08:33:56,385 - lightrag - INFO - [_] Writing graph with 31 nodes, 31 edges
2025-11-14 08:33:56,390 - lightrag - INFO - In memory DB persist to disk
2025-11-14 08:33:56,390 - lightrag - INFO - Completed processing file 1/1: 2023-N-XIN-CHUYN-TRNG.pdf
2025-11-14 08:33:56,390 - lightrag - INFO - Enqueued document processing pipeline stopped
2025-11-14 08:33:56,390 - lightrag - INFO - Text content insertion complete
2025-11-14 08:33:56,391 - lightrag - INFO - Document examples/2023-N-XIN-CHUYN-TRNG.pdf processing complete!
2025-11-14 08:33:56,391 - lightrag - INFO -  Document processing completed!
2025-11-14 08:33:56,391 - lightrag - INFO - 
============================================================
2025-11-14 08:33:56,391 - lightrag - INFO - Querying Processed Document
2025-11-14 08:33:56,391 - lightrag - INFO - ============================================================
2025-11-14 08:33:56,391 - lightrag - INFO - 
[Text Query 1]: What is the main content of the document?
2025-11-14 08:33:56,391 - lightrag - INFO - Executing VLM enhanced query: What is the main content of the document?...
2025-11-14 08:33:56,391 - lightrag - WARNING - low_level_keywords is empty
2025-11-14 08:33:56,402 - lightrag - INFO - Query edges: Main content, Document summary (top_k:40, cosine:0.2)
2025-11-14 08:33:56,411 - lightrag - INFO - Global query: 9 entites, 8 relations
2025-11-14 08:33:56,411 - lightrag - INFO - Raw search results: 9 entities, 8 relations, 0 vector chunks
2025-11-14 08:33:56,412 - lightrag - INFO - After truncation: 9 entities, 8 relations
2025-11-14 08:33:56,413 - lightrag - INFO - Selecting 3 from 3 entity-related chunks by vector similarity
2025-11-14 08:33:56,413 - lightrag - INFO - Find no additional relations-related chunks from 8 relations
2025-11-14 08:33:56,413 - lightrag - INFO - Round-robin merged chunks: 3 -> 3 (deduplicated 0)
2025-11-14 08:33:56,415 - lightrag - WARNING - Rerank is enabled but no rerank model is configured. Please set up a rerank model or set enable_rerank=False in query parameters.
2025-11-14 08:33:56,417 - lightrag - INFO - Final context: 9 entities, 8 relations, 3 chunks
2025-11-14 08:33:56,417 - lightrag - INFO - Final chunks S+F/O: E4/1 E3/2 E3/3
2025-11-14 08:33:56,417 - lightrag - INFO - Found 0 image path matches in prompt
2025-11-14 08:33:56,417 - lightrag - INFO - No valid images found, falling back to normal query
2025-11-14 08:33:56,418 - lightrag - WARNING - low_level_keywords is empty
2025-11-14 08:33:56,424 - lightrag - INFO - Query edges: Main content, Document summary (top_k:40, cosine:0.2)
2025-11-14 08:33:56,432 - lightrag - INFO - Global query: 9 entites, 8 relations
2025-11-14 08:33:56,432 - lightrag - INFO - Raw search results: 9 entities, 8 relations, 0 vector chunks
2025-11-14 08:33:56,433 - lightrag - INFO - After truncation: 9 entities, 8 relations
2025-11-14 08:33:56,434 - lightrag - INFO - Selecting 3 from 3 entity-related chunks by vector similarity
2025-11-14 08:33:56,434 - lightrag - INFO - Find no additional relations-related chunks from 8 relations
2025-11-14 08:33:56,434 - lightrag - INFO - Round-robin merged chunks: 3 -> 3 (deduplicated 0)
2025-11-14 08:33:56,436 - lightrag - WARNING - Rerank is enabled but no rerank model is configured. Please set up a rerank model or set enable_rerank=False in query parameters.
2025-11-14 08:33:56,437 - lightrag - INFO - Final context: 9 entities, 8 relations, 3 chunks
2025-11-14 08:33:56,437 - lightrag - INFO - Final chunks S+F/O: E4/1 E3/2 E3/3
2025-11-14 08:33:56,442 - lightrag - INFO -  == LLM cache == Query cache hit, using cached response as query result
2025-11-14 08:33:56,442 - lightrag - INFO - [Answer]: RAGAnything4 is a system or framework specifically designed to handle discarded or unused content for analysis, reframing, or repurposing. It evaluates such content to extract value or transform it into new forms, making it particularly useful for managing obsolete or forgotten materials. A key component of this system is Discarded Content Analysis, which processes and evaluates unused or obsolete content for potential reuse or transformation. This analysis is grounded in the broader method of Analysis, which interprets discarded content to offer options for reevaluation, messaging refinement, or transformation.

The test document  a sample piece of discarded content  is explicitly designed for RAGAnything4 to evaluate its handling of such material. The test document contains the text: This is a test document for RAGAnything4. It is processed through Discarded Content Analysis, which leverages the Analysis method to interpret and potentially repurpose the content. The system is capable of assisting users in analyzing, reframing, or repurposing any discarded or unused content, whether its outdated material, abandoned ideas, or forgotten drafts.

### References

- [1] test.txt
2025-11-14 08:33:56,442 - lightrag - INFO - 
[Text Query 2]: What are the key topics discussed?
2025-11-14 08:33:56,442 - lightrag - INFO - Executing VLM enhanced query: What are the key topics discussed?...
2025-11-14 08:33:56,443 - lightrag - WARNING - low_level_keywords is empty
2025-11-14 08:33:56,450 - lightrag - INFO - Query edges: Key topics (top_k:40, cosine:0.2)
2025-11-14 08:33:56,459 - lightrag - INFO - Global query: 3 entites, 2 relations
2025-11-14 08:33:56,459 - lightrag - INFO - Raw search results: 3 entities, 2 relations, 0 vector chunks
2025-11-14 08:33:56,460 - lightrag - INFO - After truncation: 3 entities, 2 relations
2025-11-14 08:33:56,460 - lightrag - INFO - Selecting 1 from 1 entity-related chunks by vector similarity
2025-11-14 08:33:56,460 - lightrag - INFO - Find no additional relations-related chunks from 2 relations
2025-11-14 08:33:56,460 - lightrag - INFO - Round-robin merged chunks: 1 -> 1 (deduplicated 0)
2025-11-14 08:33:56,461 - lightrag - WARNING - Rerank is enabled but no rerank model is configured. Please set up a rerank model or set enable_rerank=False in query parameters.
2025-11-14 08:33:56,462 - lightrag - INFO - Final context: 3 entities, 2 relations, 1 chunks
2025-11-14 08:33:56,462 - lightrag - INFO - Final chunks S+F/O: E3/1
2025-11-14 08:33:56,462 - lightrag - INFO - Found 0 image path matches in prompt
2025-11-14 08:33:56,463 - lightrag - INFO - No valid images found, falling back to normal query
2025-11-14 08:33:56,463 - lightrag - WARNING - low_level_keywords is empty
2025-11-14 08:33:56,469 - lightrag - INFO - Query edges: Key topics (top_k:40, cosine:0.2)
2025-11-14 08:33:56,476 - lightrag - INFO - Global query: 3 entites, 2 relations
2025-11-14 08:33:56,477 - lightrag - INFO - Raw search results: 3 entities, 2 relations, 0 vector chunks
2025-11-14 08:33:56,477 - lightrag - INFO - After truncation: 3 entities, 2 relations
2025-11-14 08:33:56,477 - lightrag - INFO - Selecting 1 from 1 entity-related chunks by vector similarity
2025-11-14 08:33:56,478 - lightrag - INFO - Find no additional relations-related chunks from 2 relations
2025-11-14 08:33:56,478 - lightrag - INFO - Round-robin merged chunks: 1 -> 1 (deduplicated 0)
2025-11-14 08:33:56,479 - lightrag - WARNING - Rerank is enabled but no rerank model is configured. Please set up a rerank model or set enable_rerank=False in query parameters.
2025-11-14 08:33:56,480 - lightrag - INFO - Final context: 3 entities, 2 relations, 1 chunks
2025-11-14 08:33:56,480 - lightrag - INFO - Final chunks S+F/O: E3/1
2025-11-14 08:33:56,483 - lightrag - INFO -  == LLM cache == Query cache hit, using cached response as query result
2025-11-14 08:33:56,483 - lightrag - INFO - [Answer]: ### B Cu Hi n Tp Thi Vn p Bo Him

B cu hi n tp thi vn p bo him c thit k c bit  ph hp vi phng php ging dy ca Professor Tram, theo di dng chy v ghi ch slide ca c. Vi cch ging dy y , hc vin c th yn tm v kin thc nn tng, v b ti liu ny  c xy dng theo trnh t logic v h thng, c bit l t Chng I: Khi Qut Chung V Bo Him  phn nn tng ct li ca ton b ni dung.

### Chng I: Khi Qut Chung V Bo Him

Chng I cung cp mt ci nhn tng quan v bo him, tp trung vo khi nim ri ro  mt yu t trung tm trong lnh vc ny. Ri ro c nh ngha l s nguy him bt trc m con ngi khng lng trc c v l nguyn nhn dn n tn tht.  i ph vi ri ro, con ngi  v ang p dng hai nhm bin php chnh:

#### Nhm 1: Cc bin php kim sot ri ro (p dng trc khi ri ro xy ra)
- **Trnh n ri ro**: Khng thc hin cc hnh ng qu mo him hoc khng chc chn. Mc ch l ngn chn ri ro xy ra, loi tr nguy c tn tht. u im l hiu qu nht trong tnh hung khn cp, nhng nhc im l khin con ngi th ng, mt c hi thnh cng, v khng p dng c vi mi ri ro (v trnh ri ro ny c th dn n ri ro khc).
- ** phng v hn ch ri ro**: Mc ch l gim thiu kh nng xy ra ri ro v hn ch tn tht. C hai c ch tc ng:
  - **Xc sut xy ra ri ro (P)**: ti thiu ha kh nng xy ra (v d: lp camera chng trm).
  - **Hu qu ca ri ro (C)**: ti thiu ha tn tht thit hi (v d: lp h thng cha chy, i m bo him). Tuy nhin, cc bin php ny khng lm ri ro bin mt hon ton.

#### Nhm 2: Ti tr ri ro (p dng sau khi ri ro xy ra)
- **Chp nhn ri ro**: T gnh chu ri ro bng ngun lc ca chnh mnh (t bo him). Vi c nhn v gia nh, t bo him c th l hnh thc tit kim; vi doanh nghip, t chc kinh t, cn lp qu d tr. Tuy nhin, t bo him c hn ch: quy m nh  kh khc phc ri ro ln, v c th gy  ng vn.
- **Chuyn nhng ri ro**: Phn tn ri ro, chia nh tn tht. u im l khng gy  ng vn trong x hi, phm vi b p rng ln, v c th b p ri ro thm ha. Tuy nhin, hn ch l kh nng tp hp mt lng ln ngi c cng ri ro l khng   khon d tr chung khng ln, khng  b p.

### Kt lun

Chng I khng ch nh ngha ri ro m cn cung cp mt h thng phn tch v gii php thc tin  qun l ri ro  t vic kim sot trc, n ti tr sau. y l nn tng quan trng  hc vin tip cn cc ni dung nng cao trong cc chng tip theo, ng thi gip hiu r vai tr v c ch ca bo him trong i sng v kinh t.

### References

- [1] BH1.pdf
2025-11-14 08:33:56,483 - lightrag - INFO - 
[Text Query 3]: Summarize the most important points
2025-11-14 08:33:56,483 - lightrag - INFO - Executing VLM enhanced query: Summarize the most important points...
2025-11-14 08:33:56,484 - lightrag - WARNING - low_level_keywords is empty
2025-11-14 08:33:56,490 - lightrag - INFO - Query edges: Summarize, Important points (top_k:40, cosine:0.2)
2025-11-14 08:33:56,498 - lightrag - INFO - Global query: 7 entites, 5 relations
2025-11-14 08:33:56,499 - lightrag - INFO - Raw search results: 7 entities, 5 relations, 0 vector chunks
2025-11-14 08:33:56,499 - lightrag - INFO - After truncation: 7 entities, 5 relations
2025-11-14 08:33:56,500 - lightrag - INFO - Selecting 3 from 3 entity-related chunks by vector similarity
2025-11-14 08:33:56,500 - lightrag - INFO - Find no additional relations-related chunks from 5 relations
2025-11-14 08:33:56,500 - lightrag - INFO - Round-robin merged chunks: 3 -> 3 (deduplicated 0)
2025-11-14 08:33:56,502 - lightrag - WARNING - Rerank is enabled but no rerank model is configured. Please set up a rerank model or set enable_rerank=False in query parameters.
2025-11-14 08:33:56,503 - lightrag - INFO - Final context: 7 entities, 5 relations, 3 chunks
2025-11-14 08:33:56,503 - lightrag - INFO - Final chunks S+F/O: E3/1 E2/2 E3/3
2025-11-14 08:33:56,503 - lightrag - INFO - Found 0 image path matches in prompt
2025-11-14 08:33:56,503 - lightrag - INFO - No valid images found, falling back to normal query
2025-11-14 08:33:56,504 - lightrag - WARNING - low_level_keywords is empty
2025-11-14 08:33:56,511 - lightrag - INFO - Query edges: Summarize, Important points (top_k:40, cosine:0.2)
2025-11-14 08:33:56,518 - lightrag - INFO - Global query: 7 entites, 5 relations
2025-11-14 08:33:56,518 - lightrag - INFO - Raw search results: 7 entities, 5 relations, 0 vector chunks
2025-11-14 08:33:56,519 - lightrag - INFO - After truncation: 7 entities, 5 relations
2025-11-14 08:33:56,519 - lightrag - INFO - Selecting 3 from 3 entity-related chunks by vector similarity
2025-11-14 08:33:56,519 - lightrag - INFO - Find no additional relations-related chunks from 5 relations
2025-11-14 08:33:56,520 - lightrag - INFO - Round-robin merged chunks: 3 -> 3 (deduplicated 0)
2025-11-14 08:33:56,521 - lightrag - WARNING - Rerank is enabled but no rerank model is configured. Please set up a rerank model or set enable_rerank=False in query parameters.
2025-11-14 08:33:56,522 - lightrag - INFO - Final context: 7 entities, 5 relations, 3 chunks
2025-11-14 08:33:56,522 - lightrag - INFO - Final chunks S+F/O: E3/1 E2/2 E3/3
2025-11-14 08:33:56,527 - lightrag - INFO -  == LLM cache == Query cache hit, using cached response as query result
2025-11-14 08:33:56,527 - lightrag - INFO - [Answer]: Discarded Content Analysis is a service or module designed to process and evaluate unused or obsolete content for potential reuse or transformation. It leverages the broader **Analysis** method, which interprets discarded material to offer options for reevaluation, messaging refinement, or repurposing into new forms. This approach enables users to extract value from outdated, abandoned, or forgotten content  whether its drafts, ideas, or other discarded material  by refining its messaging or transforming it into something more useful or relevant.

In practice, the **Analysis** method is applied directly to Discarded Content Analysis, allowing for tailored interventions such as rephrasing, restructuring, or repurposing the content to meet new objectives. For instance, if a user provides discarded content like the test document from RAGAnything4  This is a test document for RAGAnything4.  the system can interpret it and offer actionable suggestions for reevaluation or transformation.

The system is interactive and ready to assist users in analyzing any discarded or unused content they wish to work with, ensuring that even seemingly obsolete material can be revitalized or repurposed effectively.

### References

- [1] test.txt
2025-11-14 08:33:56,527 - lightrag - INFO - 
------------------------------------------------------------
2025-11-14 08:33:56,527 - lightrag - INFO - [Multimodal Query]: Analyzing performance data in context of document
2025-11-14 08:33:56,527 - lightrag - INFO - Executing multimodal query: Compare this performance data with any similar results mentioned in the document...
2025-11-14 08:33:56,527 - lightrag - INFO - Query mode: hybrid
2025-11-14 08:33:56,527 - lightrag - INFO - Multimodal query cache hit: multimodal_query...
2025-11-14 08:33:56,527 - lightrag - INFO - [Answer]: Discarded Content Analysis is a service or module designed to process and evaluate unused or obsolete content for potential reuse or transformation. It is applied to specific pieces of discarded content, such as the Test Document, which contains the text: This is a test document for RAGAnything4. The analysis process interprets such discarded material, offering options for reevaluation, messaging refinement, or transformation into new forms. This method is integral to systems like RAGAnything4, which is specifically designed to handle discarded or unused content for analysis, reframing, or repurposing. The Test Document is explicitly used as a sample for RAGAnything4 to evaluate its capabilities in managing such content. Additionally, the Analysis method, which underpins Discarded Content Analysis, is utilized to extract value, refine messaging, or transform discarded material into something new.

### References

- [1] test.txt
2025-11-14 08:33:56,527 - lightrag - INFO - 
------------------------------------------------------------
2025-11-14 08:33:56,527 - lightrag - INFO - [Multimodal Query]: Mathematical formula analysis
2025-11-14 08:33:56,527 - lightrag - INFO - Executing multimodal query: Explain this formula and relate it to any mathematical concepts in the document...
2025-11-14 08:33:56,528 - lightrag - INFO - Query mode: hybrid
2025-11-14 08:33:56,528 - lightrag - INFO - Multimodal query cache hit: multimodal_query...
2025-11-14 08:33:56,528 - lightrag - INFO - [Answer]: The provided context indicates that the system is designed to assist with analyzing, reframing, or repurposing discarded or unused content. The entity discarded_d79137bd80607d62d063fc9b98172ea1 is categorized as discarded and is associated with several entities including Test Document, Discarded Content Analysis, Analysis, and RAGAnything4. The Test Document is explicitly described as a sample document for RAGAnything4, with the text: This is a test document for RAGAnything4. The systems role is to help users extract value, refine messaging, or transform such discarded material into something new.

The systems response is framed as an invitation to specify which discarded content the user wishes to work with, indicating that the system is ready to assist with any such material  whether outdated, abandoned, or forgotten drafts  by leveraging its analytical capabilities.

### References

- [1] test.txt
2025-11-14 08:33:56,528 - lightrag - INFO - 
============================================================
2025-11-14 08:33:56,528 - lightrag - INFO -  All queries completed successfully!
2025-11-14 08:33:56,528 - lightrag - INFO - Output saved to: ./output
2025-11-14 08:33:56,528 - lightrag - INFO - ============================================================
2025-11-14 08:33:56,528 - lightrag - WARNING - Cleanup warning: 'RAGAnything' object has no attribute 'finalize'
